function sf(e,t){for(var n=0;n<t.length;n++){const l=t[n];if(typeof l!="string"&&!Array.isArray(l)){for(const r in l)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(l,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>l[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eu={exports:{}},ea={},Cu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),lf=Symbol.for("react.portal"),rf=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),df=Symbol.for("react.provider"),cf=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),xf=Symbol.for("react.memo"),ff=Symbol.for("react.lazy"),Xd=Symbol.iterator;function pf(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tu=Object.assign,Au={};function Vn(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||ku}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=Vn.prototype;function eo(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||ku}var to=eo.prototype=new Lu;to.constructor=eo;Tu(to,Vn.prototype);to.isPureReactComponent=!0;var Jd=Array.isArray,Pu=Object.prototype.hasOwnProperty,so={current:null},Du={key:!0,ref:!0,__self:!0,__source:!0};function Ru(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Pu.call(t,l)&&!Du.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var d=Array(o),u=0;u<o;u++)d[u]=arguments[u+2];r.children=d}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:Ml,type:e,key:a,ref:i,props:r,_owner:so.current}}function hf(e,t){return{$$typeof:Ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function no(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ml}function vf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zd=/\/+/g;function ka(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vf(""+e.key):t.toString(36)}function pr(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ml:case lf:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+ka(i,0):l,Jd(r)?(n="",e!=null&&(n=e.replace(Zd,"$&/")+"/"),pr(r,t,n,"",function(u){return u})):r!=null&&(no(r)&&(r=hf(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(Zd,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",Jd(e))for(var o=0;o<e.length;o++){a=e[o];var d=l+ka(a,o);i+=pr(a,t,n,d,r)}else if(d=pf(e),typeof d=="function")for(e=d.call(e),o=0;!(a=e.next()).done;)a=a.value,d=l+ka(a,o++),i+=pr(a,t,n,d,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ql(e,t,n){if(e==null)return e;var l=[],r=0;return pr(e,l,"","",function(a){return t.call(n,a,r++)}),l}function gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},hr={transition:null},yf={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:hr,ReactCurrentOwner:so};function Iu(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!no(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Vn;he.Fragment=rf;he.Profiler=of;he.PureComponent=eo;he.StrictMode=af;he.Suspense=mf;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;he.act=Iu;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Tu({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=so.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Pu.call(t,d)&&!Du.hasOwnProperty(d)&&(l[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)l.children=n;else if(1<d){o=Array(d);for(var u=0;u<d;u++)o[u]=arguments[u+2];l.children=o}return{$$typeof:Ml,type:e.type,key:r,ref:a,props:l,_owner:i}};he.createContext=function(e){return e={$$typeof:cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:df,_context:e},e.Consumer=e};he.createElement=Ru;he.createFactory=function(e){var t=Ru.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:uf,render:e}};he.isValidElement=no;he.lazy=function(e){return{$$typeof:ff,_payload:{_status:-1,_result:e},_init:gf}};he.memo=function(e,t){return{$$typeof:xf,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=hr.transition;hr.transition={};try{e()}finally{hr.transition=t}};he.unstable_act=Iu;he.useCallback=function(e,t){return xt.current.useCallback(e,t)};he.useContext=function(e){return xt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};he.useEffect=function(e,t){return xt.current.useEffect(e,t)};he.useId=function(){return xt.current.useId()};he.useImperativeHandle=function(e,t,n){return xt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return xt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return xt.current.useReducer(e,t,n)};he.useRef=function(e){return xt.current.useRef(e)};he.useState=function(e){return xt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return xt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return xt.current.useTransition()};he.version="18.3.1";Cu.exports=he;var c=Cu.exports;const lo=nf(c),jf=sf({__proto__:null,default:lo},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=c,Nf=Symbol.for("react.element"),wf=Symbol.for("react.fragment"),Sf=Object.prototype.hasOwnProperty,Ef=bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cf={key:!0,ref:!0,__self:!0,__source:!0};function _u(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)Sf.call(t,l)&&!Cf.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Nf,type:e,key:a,ref:i,props:r,_owner:Ef.current}}ea.Fragment=wf;ea.jsx=_u;ea.jsxs=_u;Eu.exports=ea;var s=Eu.exports,ni={},Mu={exports:{}},Tt={},Ou={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var k=I.length;I.push(z);e:for(;0<k;){var E=k-1>>>1,B=I[E];if(0<r(B,z))I[E]=z,I[k]=B,k=E;else break e}}function n(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var z=I[0],k=I.pop();if(k!==z){I[0]=k;e:for(var E=0,B=I.length,de=B>>>1;E<de;){var le=2*(E+1)-1,W=I[le],O=le+1,fe=I[O];if(0>r(W,k))O<B&&0>r(fe,W)?(I[E]=fe,I[O]=k,E=O):(I[E]=W,I[le]=k,E=le);else if(O<B&&0>r(fe,k))I[E]=fe,I[O]=k,E=O;else break e}}return z}function r(I,z){var k=I.sortIndex-z.sortIndex;return k!==0?k:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],u=[],y=1,f=null,g=3,j=!1,N=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var z=n(u);z!==null;){if(z.callback===null)l(u);else if(z.startTime<=I)l(u),z.sortIndex=z.expirationTime,t(d,z);else break;z=n(u)}}function p(I){if(w=!1,v(I),!N)if(n(d)!==null)N=!0,H(b);else{var z=n(u);z!==null&&oe(p,z.startTime-I)}}function b(I,z){N=!1,w&&(w=!1,x(A),A=-1),j=!0;var k=g;try{for(v(z),f=n(d);f!==null&&(!(f.expirationTime>z)||I&&!R());){var E=f.callback;if(typeof E=="function"){f.callback=null,g=f.priorityLevel;var B=E(f.expirationTime<=z);z=e.unstable_now(),typeof B=="function"?f.callback=B:f===n(d)&&l(d),v(z)}else l(d);f=n(d)}if(f!==null)var de=!0;else{var le=n(u);le!==null&&oe(p,le.startTime-z),de=!1}return de}finally{f=null,g=k,j=!1}}var T=!1,D=null,A=-1,P=5,S=-1;function R(){return!(e.unstable_now()-S<P)}function _(){if(D!==null){var I=e.unstable_now();S=I;var z=!0;try{z=D(!0,I)}finally{z?Q():(T=!1,D=null)}}else T=!1}var Q;if(typeof m=="function")Q=function(){m(_)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=_,Q=function(){se.postMessage(null)}}else Q=function(){C(_,0)};function H(I){D=I,T||(T=!0,Q())}function oe(I,z){A=C(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){N||j||(N=!0,H(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var k=g;g=z;try{return I()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=g;g=I;try{return z()}finally{g=k}},e.unstable_scheduleCallback=function(I,z,k){var E=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?E+k:E):k=E,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=k+B,I={id:y++,callback:z,priorityLevel:I,startTime:k,expirationTime:B,sortIndex:-1},k>E?(I.sortIndex=k,t(u,I),n(d)===null&&I===n(u)&&(w?(x(A),A=-1):w=!0,oe(p,k-E))):(I.sortIndex=B,t(d,I),N||j||(N=!0,H(b))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var z=g;return function(){var k=g;g=z;try{return I.apply(this,arguments)}finally{g=k}}}})(Bu);Ou.exports=Bu;var kf=Ou.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=c,kt=kf;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uu=new Set,vl={};function sn(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(vl[e]=t,e=0;e<t.length;e++)Uu.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=Object.prototype.hasOwnProperty,Af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function Lf(e){return li.call(tc,e)?!0:li.call(ec,e)?!1:Af.test(e)?tc[e]=!0:(ec[e]=!0,!1)}function Pf(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Df(e,t,n,l){if(t===null||typeof t>"u"||Pf(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var ro=/[\-:]([a-z])/g;function ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ro,ao);nt[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ro,ao);nt[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ro,ao);nt[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function io(e,t,n,l){var r=nt.hasOwnProperty(t)?nt[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Df(t,n,r,l)&&(n=null),l||r===null?Lf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var is=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),hn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),oo=Symbol.for("react.strict_mode"),ri=Symbol.for("react.profiler"),zu=Symbol.for("react.provider"),Fu=Symbol.for("react.context"),co=Symbol.for("react.forward_ref"),ai=Symbol.for("react.suspense"),ii=Symbol.for("react.suspense_list"),uo=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),Vu=Symbol.for("react.offscreen"),sc=Symbol.iterator;function Qn(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Ta;function ll(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var Aa=!1;function La(e,t){if(!e||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var l=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){l=u}e.call(t.prototype)}else{try{throw Error()}catch(u){l=u}e()}}catch(u){if(u&&l&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var d=`
`+r[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ll(e):""}function Rf(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function oi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case hn:return"Portal";case ri:return"Profiler";case oo:return"StrictMode";case ai:return"Suspense";case ii:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fu:return(e.displayName||"Context")+".Consumer";case zu:return(e._context.displayName||"Context")+".Provider";case co:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uo:return t=e.displayName||null,t!==null?t:oi(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return oi(e(t))}catch{}}return null}function If(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oi(t);case 8:return t===oo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _f(e){var t=$u(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=_f(e))}function Hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=$u(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function di(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nc(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wu(e,t){t=t.checked,t!=null&&io(e,"checked",t,!1)}function ci(e,t){Wu(e,t);var n=Ts(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ui(e,t.type,n):t.hasOwnProperty("defaultValue")&&ui(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ui(e,t,n){(t!=="number"||Tr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rl=Array.isArray;function Tn(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ts(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(rl(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ts(n)}}function Yu(e,t){var n=Ts(t.value),l=Ts(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function ac(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gl,Qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mf=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){Mf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function Ku(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Ku(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var Of=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(e,t){if(t){if(Of[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function pi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hi=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,An=null,Ln=null;function ic(e){if(e=Ul(e)){if(typeof vi!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ra(t),vi(e.stateNode,e.type,t))}}function Xu(e){An?Ln?Ln.push(e):Ln=[e]:An=e}function Ju(){if(An){var e=An,t=Ln;if(Ln=An=null,ic(e),t)for(e=0;e<t.length;e++)ic(t[e])}}function Zu(e,t){return e(t)}function em(){}var Pa=!1;function tm(e,t,n){if(Pa)return e(t,n);Pa=!0;try{return Zu(e,t,n)}finally{Pa=!1,(An!==null||Ln!==null)&&(em(),Ju())}}function yl(e,t){var n=e.stateNode;if(n===null)return null;var l=ra(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var gi=!1;if(ns)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{gi=!1}function Bf(e,t,n,l,r,a,i,o,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(y){this.onError(y)}}var dl=!1,Ar=null,Lr=!1,yi=null,Uf={onError:function(e){dl=!0,Ar=e}};function zf(e,t,n,l,r,a,i,o,d){dl=!1,Ar=null,Bf.apply(Uf,arguments)}function Ff(e,t,n,l,r,a,i,o,d){if(zf.apply(this,arguments),dl){if(dl){var u=Ar;dl=!1,Ar=null}else throw Error(M(198));Lr||(Lr=!0,yi=u)}}function nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oc(e){if(nn(e)!==e)throw Error(M(188))}function Vf(e){var t=e.alternate;if(!t){if(t=nn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return oc(r),e;if(a===l)return oc(r),t;a=a.sibling}throw Error(M(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==l)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function nm(e){return e=Vf(e),e!==null?lm(e):null}function lm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lm(e);if(t!==null)return t;e=e.sibling}return null}var rm=kt.unstable_scheduleCallback,dc=kt.unstable_cancelCallback,$f=kt.unstable_shouldYield,Hf=kt.unstable_requestPaint,qe=kt.unstable_now,Wf=kt.unstable_getCurrentPriorityLevel,xo=kt.unstable_ImmediatePriority,am=kt.unstable_UserBlockingPriority,Pr=kt.unstable_NormalPriority,Yf=kt.unstable_LowPriority,im=kt.unstable_IdlePriority,ta=null,qt=null;function qf(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Gf,Qf=Math.log,Kf=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(Qf(e)/Kf|0)|0}var Xl=64,Jl=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dr(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=al(o):(a&=i,a!==0&&(l=al(a)))}else i=n&~r,i!==0?l=al(i):a!==0&&(l=al(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-zt(t),r=1<<n,l|=e[n],t&=~r;return l}function Xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-zt(a),o=1<<i,d=r[i];d===-1?(!(o&n)||o&l)&&(r[i]=Xf(o,t)):d<=t&&(e.expiredLanes|=o),a&=~o}}function ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function om(){var e=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),e}function Da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Zf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-zt(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function fo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-zt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var Ee=0;function dm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cm,po,um,mm,xm,bi=!1,Zl=[],ys=null,js=null,bs=null,jl=new Map,bl=new Map,fs=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function Gn(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ul(t),t!==null&&po(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function t0(e,t,n,l,r){switch(t){case"focusin":return ys=Gn(ys,e,t,n,l,r),!0;case"dragenter":return js=Gn(js,e,t,n,l,r),!0;case"mouseover":return bs=Gn(bs,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return jl.set(a,Gn(jl.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,bl.set(a,Gn(bl.get(a)||null,e,t,n,l,r)),!0}return!1}function fm(e){var t=Ws(e.target);if(t!==null){var n=nn(t);if(n!==null){if(t=n.tag,t===13){if(t=sm(n),t!==null){e.blockedOn=t,xm(e.priority,function(){um(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ni(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);hi=l,n.target.dispatchEvent(l),hi=null}else return t=Ul(n),t!==null&&po(t),e.blockedOn=n,!1;t.shift()}return!0}function uc(e,t,n){vr(e)&&n.delete(t)}function s0(){bi=!1,ys!==null&&vr(ys)&&(ys=null),js!==null&&vr(js)&&(js=null),bs!==null&&vr(bs)&&(bs=null),jl.forEach(uc),bl.forEach(uc)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,bi||(bi=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,s0)))}function Nl(e){function t(r){return Xn(r,e)}if(0<Zl.length){Xn(Zl[0],e);for(var n=1;n<Zl.length;n++){var l=Zl[n];l.blockedOn===e&&(l.blockedOn=null)}}for(ys!==null&&Xn(ys,e),js!==null&&Xn(js,e),bs!==null&&Xn(bs,e),jl.forEach(t),bl.forEach(t),n=0;n<fs.length;n++)l=fs[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)fm(n),n.blockedOn===null&&fs.shift()}var Pn=is.ReactCurrentBatchConfig,Rr=!0;function n0(e,t,n,l){var r=Ee,a=Pn.transition;Pn.transition=null;try{Ee=1,ho(e,t,n,l)}finally{Ee=r,Pn.transition=a}}function l0(e,t,n,l){var r=Ee,a=Pn.transition;Pn.transition=null;try{Ee=4,ho(e,t,n,l)}finally{Ee=r,Pn.transition=a}}function ho(e,t,n,l){if(Rr){var r=Ni(e,t,n,l);if(r===null)Va(e,t,l,Ir,n),cc(e,l);else if(t0(r,e,t,n,l))l.stopPropagation();else if(cc(e,l),t&4&&-1<e0.indexOf(e)){for(;r!==null;){var a=Ul(r);if(a!==null&&cm(a),a=Ni(e,t,n,l),a===null&&Va(e,t,l,Ir,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else Va(e,t,l,null,n)}}var Ir=null;function Ni(e,t,n,l){if(Ir=null,e=mo(l),e=Ws(e),e!==null)if(t=nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ir=e,null}function pm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case xo:return 1;case am:return 4;case Pr:case Yf:return 16;case im:return 536870912;default:return 16}default:return 16}}var hs=null,vo=null,gr=null;function hm(){if(gr)return gr;var e,t=vo,n=t.length,l,r="value"in hs?hs.value:hs.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return gr=r.slice(e,1<l?1-l:void 0)}function yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function er(){return!0}function mc(){return!1}function At(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?er:mc,this.isPropagationStopped=mc,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=At($n),Bl=Ve({},$n,{view:0,detail:0}),r0=At(Bl),Ra,Ia,Jn,sa=Ve({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(Ra=e.screenX-Jn.screenX,Ia=e.screenY-Jn.screenY):Ia=Ra=0,Jn=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),xc=At(sa),a0=Ve({},sa,{dataTransfer:0}),i0=At(a0),o0=Ve({},Bl,{relatedTarget:0}),_a=At(o0),d0=Ve({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),c0=At(d0),u0=Ve({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m0=At(u0),x0=Ve({},$n,{data:0}),fc=At(x0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h0[e])?!!t[e]:!1}function yo(){return v0}var g0=Ve({},Bl,{key:function(e){if(e.key){var t=f0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y0=At(g0),j0=Ve({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=At(j0),b0=Ve({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),N0=At(b0),w0=Ve({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),S0=At(w0),E0=Ve({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C0=At(E0),k0=[9,13,27,32],jo=ns&&"CompositionEvent"in window,cl=null;ns&&"documentMode"in document&&(cl=document.documentMode);var T0=ns&&"TextEvent"in window&&!cl,vm=ns&&(!jo||cl&&8<cl&&11>=cl),hc=" ",vc=!1;function gm(e,t){switch(e){case"keyup":return k0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function A0(e,t){switch(e){case"compositionend":return ym(t);case"keypress":return t.which!==32?null:(vc=!0,hc);case"textInput":return e=t.data,e===hc&&vc?null:e;default:return null}}function L0(e,t){if(gn)return e==="compositionend"||!jo&&gm(e,t)?(e=hm(),gr=vo=hs=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vm&&t.locale!=="ko"?null:t.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P0[e.type]:t==="textarea"}function jm(e,t,n,l){Xu(l),t=_r(t,"onChange"),0<t.length&&(n=new go("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ul=null,wl=null;function D0(e){Pm(e,0)}function na(e){var t=bn(e);if(Hu(t))return e}function R0(e,t){if(e==="change")return t}var bm=!1;if(ns){var Ma;if(ns){var Oa="oninput"in document;if(!Oa){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),Oa=typeof yc.oninput=="function"}Ma=Oa}else Ma=!1;bm=Ma&&(!document.documentMode||9<document.documentMode)}function jc(){ul&&(ul.detachEvent("onpropertychange",Nm),wl=ul=null)}function Nm(e){if(e.propertyName==="value"&&na(wl)){var t=[];jm(t,wl,e,mo(e)),tm(D0,t)}}function I0(e,t,n){e==="focusin"?(jc(),ul=t,wl=n,ul.attachEvent("onpropertychange",Nm)):e==="focusout"&&jc()}function _0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(wl)}function M0(e,t){if(e==="click")return na(t)}function O0(e,t){if(e==="input"||e==="change")return na(t)}function B0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:B0;function Sl(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!li.call(t,r)||!Vt(e[r],t[r]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var n=bc(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bc(n)}}function wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sm(){for(var e=window,t=Tr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tr(e.document)}return t}function bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U0(e){var t=Sm(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wm(n.ownerDocument.documentElement,n)){if(l!==null&&bo(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=Nc(n,a);var i=Nc(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z0=ns&&"documentMode"in document&&11>=document.documentMode,yn=null,wi=null,ml=null,Si=!1;function wc(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Si||yn==null||yn!==Tr(l)||(l=yn,"selectionStart"in l&&bo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&Sl(ml,l)||(ml=l,l=_r(wi,"onSelect"),0<l.length&&(t=new go("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=yn)))}function tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},Ba={},Em={};ns&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function la(e){if(Ba[e])return Ba[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Em)return Ba[e]=t[n];return e}var Cm=la("animationend"),km=la("animationiteration"),Tm=la("animationstart"),Am=la("transitionend"),Lm=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){Lm.set(e,t),sn(t,[e])}for(var Ua=0;Ua<Sc.length;Ua++){var za=Sc[Ua],F0=za.toLowerCase(),V0=za[0].toUpperCase()+za.slice(1);Ls(F0,"on"+V0)}Ls(Cm,"onAnimationEnd");Ls(km,"onAnimationIteration");Ls(Tm,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(Am,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Ec(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,Ff(l,t,void 0,e),e.currentTarget=null}function Pm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==a&&r.isPropagationStopped())break e;Ec(r,o,u),a=d}else for(i=0;i<l.length;i++){if(o=l[i],d=o.instance,u=o.currentTarget,o=o.listener,d!==a&&r.isPropagationStopped())break e;Ec(r,o,u),a=d}}}if(Lr)throw e=yi,Lr=!1,yi=null,e}function Le(e,t){var n=t[Ai];n===void 0&&(n=t[Ai]=new Set);var l=e+"__bubble";n.has(l)||(Dm(t,e,2,!1),n.add(l))}function Fa(e,t,n){var l=0;t&&(l|=4),Dm(n,e,l,t)}var sr="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[sr]){e[sr]=!0,Uu.forEach(function(n){n!=="selectionchange"&&($0.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sr]||(t[sr]=!0,Fa("selectionchange",!1,t))}}function Dm(e,t,n,l){switch(pm(t)){case 1:var r=n0;break;case 4:r=l0;break;default:r=ho}n=r.bind(null,t,n,e),r=void 0,!gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Va(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;i=i.return}for(;o!==null;){if(i=Ws(o),i===null)return;if(d=i.tag,d===5||d===6){l=a=i;continue e}o=o.parentNode}}l=l.return}tm(function(){var u=a,y=mo(n),f=[];e:{var g=Lm.get(e);if(g!==void 0){var j=go,N=e;switch(e){case"keypress":if(yr(n)===0)break e;case"keydown":case"keyup":j=y0;break;case"focusin":N="focus",j=_a;break;case"focusout":N="blur",j=_a;break;case"beforeblur":case"afterblur":j=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=i0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=N0;break;case Cm:case km:case Tm:j=c0;break;case Am:j=S0;break;case"scroll":j=r0;break;case"wheel":j=C0;break;case"copy":case"cut":case"paste":j=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=pc}var w=(t&4)!==0,C=!w&&e==="scroll",x=w?g!==null?g+"Capture":null:g;w=[];for(var m=u,v;m!==null;){v=m;var p=v.stateNode;if(v.tag===5&&p!==null&&(v=p,x!==null&&(p=yl(m,x),p!=null&&w.push(Cl(m,p,v)))),C)break;m=m.return}0<w.length&&(g=new j(g,N,null,n,y),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==hi&&(N=n.relatedTarget||n.fromElement)&&(Ws(N)||N[ls]))break e;if((j||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,j?(N=n.relatedTarget||n.toElement,j=u,N=N?Ws(N):null,N!==null&&(C=nn(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=u),j!==N)){if(w=xc,p="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=pc,p="onPointerLeave",x="onPointerEnter",m="pointer"),C=j==null?g:bn(j),v=N==null?g:bn(N),g=new w(p,m+"leave",j,n,y),g.target=C,g.relatedTarget=v,p=null,Ws(y)===u&&(w=new w(x,m+"enter",N,n,y),w.target=v,w.relatedTarget=C,p=w),C=p,j&&N)t:{for(w=j,x=N,m=0,v=w;v;v=dn(v))m++;for(v=0,p=x;p;p=dn(p))v++;for(;0<m-v;)w=dn(w),m--;for(;0<v-m;)x=dn(x),v--;for(;m--;){if(w===x||x!==null&&w===x.alternate)break t;w=dn(w),x=dn(x)}w=null}else w=null;j!==null&&Cc(f,g,j,w,!1),N!==null&&C!==null&&Cc(f,C,N,w,!0)}}e:{if(g=u?bn(u):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var b=R0;else if(gc(g))if(bm)b=O0;else{b=_0;var T=I0}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=M0);if(b&&(b=b(e,u))){jm(f,b,n,y);break e}T&&T(e,g,u),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&ui(g,"number",g.value)}switch(T=u?bn(u):window,e){case"focusin":(gc(T)||T.contentEditable==="true")&&(yn=T,wi=u,ml=null);break;case"focusout":ml=wi=yn=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,wc(f,n,y);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":wc(f,n,y)}var D;if(jo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else gn?gm(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(vm&&n.locale!=="ko"&&(gn||A!=="onCompositionStart"?A==="onCompositionEnd"&&gn&&(D=hm()):(hs=y,vo="value"in hs?hs.value:hs.textContent,gn=!0)),T=_r(u,A),0<T.length&&(A=new fc(A,e,null,n,y),f.push({event:A,listeners:T}),D?A.data=D:(D=ym(n),D!==null&&(A.data=D)))),(D=T0?A0(e,n):L0(e,n))&&(u=_r(u,"onBeforeInput"),0<u.length&&(y=new fc("onBeforeInput","beforeinput",null,n,y),f.push({event:y,listeners:u}),y.data=D))}Pm(f,t)})}function Cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _r(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=yl(e,n),a!=null&&l.unshift(Cl(e,a,r)),a=yl(e,t),a!=null&&l.push(Cl(e,a,r))),e=e.return}return l}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,d=o.alternate,u=o.stateNode;if(d!==null&&d===l)break;o.tag===5&&u!==null&&(o=u,r?(d=yl(n,a),d!=null&&i.unshift(Cl(n,d,o))):r||(d=yl(n,a),d!=null&&i.push(Cl(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var H0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function kc(e){return(typeof e=="string"?e:""+e).replace(H0,`
`).replace(W0,"")}function nr(e,t,n){if(t=kc(t),kc(e)!==t&&n)throw Error(M(425))}function Mr(){}var Ei=null,Ci=null;function ki(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ti=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(Q0)}:Ti;function Q0(e){setTimeout(function(){throw e})}function $a(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),Nl(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);Nl(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Hn,kl="__reactProps$"+Hn,ls="__reactContainer$"+Hn,Ai="__reactEvents$"+Hn,K0="__reactListeners$"+Hn,G0="__reactHandles$"+Hn;function Ws(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ac(e);e!==null;){if(n=e[Yt])return n;e=Ac(e)}return t}e=n,n=e.parentNode}return null}function Ul(e){return e=e[Yt]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ra(e){return e[kl]||null}var Li=[],Nn=-1;function Ps(e){return{current:e}}function Pe(e){0>Nn||(e.current=Li[Nn],Li[Nn]=null,Nn--)}function Te(e,t){Nn++,Li[Nn]=e.current,e.current=t}var As={},ot=Ps(As),gt=Ps(!1),Xs=As;function _n(e,t){var n=e.type.contextTypes;if(!n)return As;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function yt(e){return e=e.childContextTypes,e!=null}function Or(){Pe(gt),Pe(ot)}function Lc(e,t,n){if(ot.current!==As)throw Error(M(168));Te(ot,t),Te(gt,n)}function Rm(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(M(108,If(e)||"Unknown",r));return Ve({},n,l)}function Br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||As,Xs=ot.current,Te(ot,e),Te(gt,gt.current),!0}function Pc(e,t,n){var l=e.stateNode;if(!l)throw Error(M(169));n?(e=Rm(e,t,Xs),l.__reactInternalMemoizedMergedChildContext=e,Pe(gt),Pe(ot),Te(ot,e)):Pe(gt),Te(gt,n)}var Zt=null,aa=!1,Ha=!1;function Im(e){Zt===null?Zt=[e]:Zt.push(e)}function X0(e){aa=!0,Im(e)}function Ds(){if(!Ha&&Zt!==null){Ha=!0;var e=0,t=Ee;try{var n=Zt;for(Ee=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Zt=null,aa=!1}catch(r){throw Zt!==null&&(Zt=Zt.slice(e+1)),rm(xo,Ds),r}finally{Ee=t,Ha=!1}}return null}var wn=[],Sn=0,Ur=null,zr=0,Lt=[],Pt=0,Js=null,es=1,ts="";function Vs(e,t){wn[Sn++]=zr,wn[Sn++]=Ur,Ur=e,zr=t}function _m(e,t,n){Lt[Pt++]=es,Lt[Pt++]=ts,Lt[Pt++]=Js,Js=e;var l=es;e=ts;var r=32-zt(l)-1;l&=~(1<<r),n+=1;var a=32-zt(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,es=1<<32-zt(t)+r|n<<r|l,ts=a+e}else es=1<<a|n<<r|l,ts=e}function No(e){e.return!==null&&(Vs(e,1),_m(e,1,0))}function wo(e){for(;e===Ur;)Ur=wn[--Sn],wn[Sn]=null,zr=wn[--Sn],wn[Sn]=null;for(;e===Js;)Js=Lt[--Pt],Lt[Pt]=null,ts=Lt[--Pt],Lt[Pt]=null,es=Lt[--Pt],Lt[Pt]=null}var Ct=null,Et=null,Me=!1,Ut=null;function Mm(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,Et=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Js!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,Et=null,!0):!1;default:return!1}}function Pi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Di(e){if(Me){var t=Et;if(t){var n=t;if(!Dc(e,t)){if(Pi(e))throw Error(M(418));t=Ns(n.nextSibling);var l=Ct;t&&Dc(e,t)?Mm(l,n):(e.flags=e.flags&-4097|2,Me=!1,Ct=e)}}else{if(Pi(e))throw Error(M(418));e.flags=e.flags&-4097|2,Me=!1,Ct=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function lr(e){if(e!==Ct)return!1;if(!Me)return Rc(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ki(e.type,e.memoizedProps)),t&&(t=Et)){if(Pi(e))throw Om(),Error(M(418));for(;t;)Mm(e,t),t=Ns(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Ct?Ns(e.stateNode.nextSibling):null;return!0}function Om(){for(var e=Et;e;)e=Ns(e.nextSibling)}function Mn(){Et=Ct=null,Me=!1}function So(e){Ut===null?Ut=[e]:Ut.push(e)}var J0=is.ReactCurrentBatchConfig;function Zn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var l=n.stateNode}if(!l)throw Error(M(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function rr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ic(e){var t=e._init;return t(e._payload)}function Bm(e){function t(x,m){if(e){var v=x.deletions;v===null?(x.deletions=[m],x.flags|=16):v.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function l(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function r(x,m){return x=Cs(x,m),x.index=0,x.sibling=null,x}function a(x,m,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<m?(x.flags|=2,m):v):(x.flags|=2,m)):(x.flags|=1048576,m)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,m,v,p){return m===null||m.tag!==6?(m=Xa(v,x.mode,p),m.return=x,m):(m=r(m,v),m.return=x,m)}function d(x,m,v,p){var b=v.type;return b===vn?y(x,m,v.props.children,p,v.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ms&&Ic(b)===m.type)?(p=r(m,v.props),p.ref=Zn(x,m,v),p.return=x,p):(p=Cr(v.type,v.key,v.props,null,x.mode,p),p.ref=Zn(x,m,v),p.return=x,p)}function u(x,m,v,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Ja(v,x.mode,p),m.return=x,m):(m=r(m,v.children||[]),m.return=x,m)}function y(x,m,v,p,b){return m===null||m.tag!==7?(m=Ks(v,x.mode,p,b),m.return=x,m):(m=r(m,v),m.return=x,m)}function f(x,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xa(""+m,x.mode,v),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ql:return v=Cr(m.type,m.key,m.props,null,x.mode,v),v.ref=Zn(x,null,m),v.return=x,v;case hn:return m=Ja(m,x.mode,v),m.return=x,m;case ms:var p=m._init;return f(x,p(m._payload),v)}if(rl(m)||Qn(m))return m=Ks(m,x.mode,v,null),m.return=x,m;rr(x,m)}return null}function g(x,m,v,p){var b=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:o(x,m,""+v,p);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ql:return v.key===b?d(x,m,v,p):null;case hn:return v.key===b?u(x,m,v,p):null;case ms:return b=v._init,g(x,m,b(v._payload),p)}if(rl(v)||Qn(v))return b!==null?null:y(x,m,v,p,null);rr(x,v)}return null}function j(x,m,v,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return x=x.get(v)||null,o(m,x,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ql:return x=x.get(p.key===null?v:p.key)||null,d(m,x,p,b);case hn:return x=x.get(p.key===null?v:p.key)||null,u(m,x,p,b);case ms:var T=p._init;return j(x,m,v,T(p._payload),b)}if(rl(p)||Qn(p))return x=x.get(v)||null,y(m,x,p,b,null);rr(m,p)}return null}function N(x,m,v,p){for(var b=null,T=null,D=m,A=m=0,P=null;D!==null&&A<v.length;A++){D.index>A?(P=D,D=null):P=D.sibling;var S=g(x,D,v[A],p);if(S===null){D===null&&(D=P);break}e&&D&&S.alternate===null&&t(x,D),m=a(S,m,A),T===null?b=S:T.sibling=S,T=S,D=P}if(A===v.length)return n(x,D),Me&&Vs(x,A),b;if(D===null){for(;A<v.length;A++)D=f(x,v[A],p),D!==null&&(m=a(D,m,A),T===null?b=D:T.sibling=D,T=D);return Me&&Vs(x,A),b}for(D=l(x,D);A<v.length;A++)P=j(D,x,A,v[A],p),P!==null&&(e&&P.alternate!==null&&D.delete(P.key===null?A:P.key),m=a(P,m,A),T===null?b=P:T.sibling=P,T=P);return e&&D.forEach(function(R){return t(x,R)}),Me&&Vs(x,A),b}function w(x,m,v,p){var b=Qn(v);if(typeof b!="function")throw Error(M(150));if(v=b.call(v),v==null)throw Error(M(151));for(var T=b=null,D=m,A=m=0,P=null,S=v.next();D!==null&&!S.done;A++,S=v.next()){D.index>A?(P=D,D=null):P=D.sibling;var R=g(x,D,S.value,p);if(R===null){D===null&&(D=P);break}e&&D&&R.alternate===null&&t(x,D),m=a(R,m,A),T===null?b=R:T.sibling=R,T=R,D=P}if(S.done)return n(x,D),Me&&Vs(x,A),b;if(D===null){for(;!S.done;A++,S=v.next())S=f(x,S.value,p),S!==null&&(m=a(S,m,A),T===null?b=S:T.sibling=S,T=S);return Me&&Vs(x,A),b}for(D=l(x,D);!S.done;A++,S=v.next())S=j(D,x,A,S.value,p),S!==null&&(e&&S.alternate!==null&&D.delete(S.key===null?A:S.key),m=a(S,m,A),T===null?b=S:T.sibling=S,T=S);return e&&D.forEach(function(_){return t(x,_)}),Me&&Vs(x,A),b}function C(x,m,v,p){if(typeof v=="object"&&v!==null&&v.type===vn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ql:e:{for(var b=v.key,T=m;T!==null;){if(T.key===b){if(b=v.type,b===vn){if(T.tag===7){n(x,T.sibling),m=r(T,v.props.children),m.return=x,x=m;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ms&&Ic(b)===T.type){n(x,T.sibling),m=r(T,v.props),m.ref=Zn(x,T,v),m.return=x,x=m;break e}n(x,T);break}else t(x,T);T=T.sibling}v.type===vn?(m=Ks(v.props.children,x.mode,p,v.key),m.return=x,x=m):(p=Cr(v.type,v.key,v.props,null,x.mode,p),p.ref=Zn(x,m,v),p.return=x,x=p)}return i(x);case hn:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(x,m.sibling),m=r(m,v.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Ja(v,x.mode,p),m.return=x,x=m}return i(x);case ms:return T=v._init,C(x,m,T(v._payload),p)}if(rl(v))return N(x,m,v,p);if(Qn(v))return w(x,m,v,p);rr(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(x,m.sibling),m=r(m,v),m.return=x,x=m):(n(x,m),m=Xa(v,x.mode,p),m.return=x,x=m),i(x)):n(x,m)}return C}var On=Bm(!0),Um=Bm(!1),Fr=Ps(null),Vr=null,En=null,Eo=null;function Co(){Eo=En=Vr=null}function ko(e){var t=Fr.current;Pe(Fr),e._currentValue=t}function Ri(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Dn(e,t){Vr=e,Eo=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Vr===null)throw Error(M(308));En=e,Vr.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Ys=null;function To(e){Ys===null?Ys=[e]:Ys.push(e)}function zm(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,To(t)):(n.next=r.next,r.next=n),t.interleaved=n,rs(e,l)}function rs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xs=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ye&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,rs(e,n)}return r=l.interleaved,r===null?(t.next=t,To(l)):(t.next=r.next,r.next=t),l.interleaved=t,rs(e,n)}function jr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,fo(e,n)}}function _c(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $r(e,t,n,l){var r=e.updateQueue;xs=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var d=o,u=d.next;d.next=null,i===null?a=u:i.next=u,i=d;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==i&&(o===null?y.firstBaseUpdate=u:o.next=u,y.lastBaseUpdate=d))}if(a!==null){var f=r.baseState;i=0,y=u=d=null,o=a;do{var g=o.lane,j=o.eventTime;if((l&g)===g){y!==null&&(y=y.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,w=o;switch(g=t,j=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){f=N.call(j,f,g);break e}f=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,g=typeof N=="function"?N.call(j,f,g):N,g==null)break e;f=Ve({},f,g);break e;case 2:xs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[o]:g.push(o))}else j={eventTime:j,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(u=y=j,d=f):y=y.next=j,i|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(y===null&&(d=f),r.baseState=d,r.firstBaseUpdate=u,r.lastBaseUpdate=y,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);en|=i,e.lanes=i,e.memoizedState=f}}function Mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(M(191,r));r.call(l)}}}var zl={},Qt=Ps(zl),Tl=Ps(zl),Al=Ps(zl);function qs(e){if(e===zl)throw Error(M(174));return e}function Lo(e,t){switch(Te(Al,t),Te(Tl,e),Te(Qt,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xi(t,e)}Pe(Qt),Te(Qt,t)}function Bn(){Pe(Qt),Pe(Tl),Pe(Al)}function Vm(e){qs(Al.current);var t=qs(Qt.current),n=xi(t,e.type);t!==n&&(Te(Tl,e),Te(Qt,n))}function Po(e){Tl.current===e&&(Pe(Qt),Pe(Tl))}var Ue=Ps(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=[];function Do(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var br=is.ReactCurrentDispatcher,Ya=is.ReactCurrentBatchConfig,Zs=0,ze=null,Ge=null,Ze=null,Wr=!1,xl=!1,Ll=0,Z0=0;function rt(){throw Error(M(321))}function Ro(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Io(e,t,n,l,r,a){if(Zs=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=e===null||e.memoizedState===null?np:lp,e=n(l,r),xl){a=0;do{if(xl=!1,Ll=0,25<=a)throw Error(M(301));a+=1,Ze=Ge=null,t.updateQueue=null,br.current=rp,e=n(l,r)}while(xl)}if(br.current=Yr,t=Ge!==null&&Ge.next!==null,Zs=0,Ze=Ge=ze=null,Wr=!1,t)throw Error(M(300));return e}function _o(){var e=Ll!==0;return Ll=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ze.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function _t(){if(Ge===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Ze===null?ze.memoizedState:Ze.next;if(t!==null)Ze=t,Ge=e;else{if(e===null)throw Error(M(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?ze.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Pl(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=_t(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var l=Ge,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,d=null,u=a;do{var y=u.lane;if((Zs&y)===y)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),l=u.hasEagerState?u.eagerState:e(l,u.action);else{var f={lane:y,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(o=d=f,i=l):d=d.next=f,ze.lanes|=y,en|=y}u=u.next}while(u!==null&&u!==a);d===null?i=l:d.next=o,Vt(l,t.memoizedState)||(vt=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=d,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,ze.lanes|=a,en|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qa(e){var t=_t(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);Vt(a,t.memoizedState)||(vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function $m(){}function Hm(e,t){var n=ze,l=_t(),r=t(),a=!Vt(l.memoizedState,r);if(a&&(l.memoizedState=r,vt=!0),l=l.queue,Mo(qm.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Dl(9,Ym.bind(null,n,l,r,t),void 0,null),et===null)throw Error(M(349));Zs&30||Wm(n,t,r)}return r}function Wm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ym(e,t,n,l){t.value=n,t.getSnapshot=l,Qm(t)&&Km(e)}function qm(e,t,n){return n(function(){Qm(t)&&Km(e)})}function Qm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Km(e){var t=rs(e,1);t!==null&&Ft(t,e,1,-1)}function Oc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=sp.bind(null,ze,e),[t.memoizedState,e]}function Dl(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Gm(){return _t().memoizedState}function Nr(e,t,n,l){var r=Wt();ze.flags|=e,r.memoizedState=Dl(1|t,n,void 0,l===void 0?null:l)}function ia(e,t,n,l){var r=_t();l=l===void 0?null:l;var a=void 0;if(Ge!==null){var i=Ge.memoizedState;if(a=i.destroy,l!==null&&Ro(l,i.deps)){r.memoizedState=Dl(t,n,a,l);return}}ze.flags|=e,r.memoizedState=Dl(1|t,n,a,l)}function Bc(e,t){return Nr(8390656,8,e,t)}function Mo(e,t){return ia(2048,8,e,t)}function Xm(e,t){return ia(4,2,e,t)}function Jm(e,t){return ia(4,4,e,t)}function Zm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ex(e,t,n){return n=n!=null?n.concat([e]):null,ia(4,4,Zm.bind(null,t,e),n)}function Oo(){}function tx(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ro(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function sx(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ro(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function nx(e,t,n){return Zs&21?(Vt(n,t)||(n=om(),ze.lanes|=n,en|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function ep(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var l=Ya.transition;Ya.transition={};try{e(!1),t()}finally{Ee=n,Ya.transition=l}}function lx(){return _t().memoizedState}function tp(e,t,n){var l=Es(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},rx(e))ax(t,n);else if(n=zm(e,t,n,l),n!==null){var r=ut();Ft(n,e,l,r),ix(n,t,l)}}function sp(e,t,n){var l=Es(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(rx(e))ax(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,Vt(o,i)){var d=t.interleaved;d===null?(r.next=r,To(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=zm(e,t,r,l),n!==null&&(r=ut(),Ft(n,e,l,r),ix(n,t,l))}}function rx(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function ax(e,t){xl=Wr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ix(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,fo(e,n)}}var Yr={readContext:It,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},np={readContext:It,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Bc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nr(4194308,4,Zm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nr(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Wt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=tp.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Oc,useDebugValue:Oo,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Oc(!1),t=e[0];return e=ep.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=ze,r=Wt();if(Me){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),et===null)throw Error(M(349));Zs&30||Wm(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Bc(qm.bind(null,l,a,e),[e]),l.flags|=2048,Dl(9,Ym.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=Wt(),t=et.identifierPrefix;if(Me){var n=ts,l=es;n=(l&~(1<<32-zt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lp={readContext:It,useCallback:tx,useContext:It,useEffect:Mo,useImperativeHandle:ex,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:sx,useReducer:qa,useRef:Gm,useState:function(){return qa(Pl)},useDebugValue:Oo,useDeferredValue:function(e){var t=_t();return nx(t,Ge.memoizedState,e)},useTransition:function(){var e=qa(Pl)[0],t=_t().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:lx,unstable_isNewReconciler:!1},rp={readContext:It,useCallback:tx,useContext:It,useEffect:Mo,useImperativeHandle:ex,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:sx,useReducer:Qa,useRef:Gm,useState:function(){return Qa(Pl)},useDebugValue:Oo,useDeferredValue:function(e){var t=_t();return Ge===null?t.memoizedState=e:nx(t,Ge.memoizedState,e)},useTransition:function(){var e=Qa(Pl)[0],t=_t().memoizedState;return[e,t]},useMutableSource:$m,useSyncExternalStore:Hm,useId:lx,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ii(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=ut(),r=Es(e),a=ss(l,r);a.payload=t,n!=null&&(a.callback=n),t=ws(e,a,r),t!==null&&(Ft(t,e,r,l),jr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=ut(),r=Es(e),a=ss(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ws(e,a,r),t!==null&&(Ft(t,e,r,l),jr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),l=Es(e),r=ss(n,l);r.tag=2,t!=null&&(r.callback=t),t=ws(e,r,l),t!==null&&(Ft(t,e,l,n),jr(t,e,l))}};function Uc(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!Sl(n,l)||!Sl(r,a):!0}function ox(e,t,n){var l=!1,r=As,a=t.contextType;return typeof a=="object"&&a!==null?a=It(a):(r=yt(t)?Xs:ot.current,l=t.contextTypes,a=(l=l!=null)?_n(e,r):As),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function zc(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function _i(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ao(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=It(a):(a=yt(t)?Xs:ot.current,r.context=_n(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ii(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&oa.enqueueReplaceState(r,r.state,null),$r(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Un(e,t){try{var n="",l=t;do n+=Rf(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ap=typeof WeakMap=="function"?WeakMap:Map;function dx(e,t,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Qr||(Qr=!0,Yi=l),Mi(e,t)},n}function cx(e,t,n){n=ss(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Mi(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Mi(e,t),typeof l!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Fc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new ap;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=jp.bind(null,e,t,n),t.then(e,e))}function Vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ss(-1,1),t.tag=2,ws(n,t,1))),n.lanes|=1),e)}var ip=is.ReactCurrentOwner,vt=!1;function ct(e,t,n,l){t.child=e===null?Um(t,null,n,l):On(t,e.child,n,l)}function Hc(e,t,n,l,r){n=n.render;var a=t.ref;return Dn(t,r),l=Io(e,t,n,l,a,r),n=_o(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,as(e,t,r)):(Me&&n&&No(t),t.flags|=1,ct(e,t,l,r),t.child)}function Wc(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Wo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ux(e,t,a,l,r)):(e=Cr(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(i,l)&&e.ref===t.ref)return as(e,t,r)}return t.flags|=1,e=Cs(a,l),e.ref=t.ref,e.return=t,t.child=e}function ux(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(Sl(a,l)&&e.ref===t.ref)if(vt=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,as(e,t,r)}return Oi(e,t,n,l,r)}function mx(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(kn,St),St|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(kn,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,Te(kn,St),St|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,Te(kn,St),St|=l;return ct(e,t,r,n),t.child}function xx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oi(e,t,n,l,r){var a=yt(n)?Xs:ot.current;return a=_n(t,a),Dn(t,r),n=Io(e,t,n,l,a,r),l=_o(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,as(e,t,r)):(Me&&l&&No(t),t.flags|=1,ct(e,t,n,r),t.child)}function Yc(e,t,n,l,r){if(yt(n)){var a=!0;Br(t)}else a=!1;if(Dn(t,r),t.stateNode===null)wr(e,t),ox(t,n,l),_i(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=yt(n)?Xs:ot.current,u=_n(t,u));var y=n.getDerivedStateFromProps,f=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||d!==u)&&zc(t,i,l,u),xs=!1;var g=t.memoizedState;i.state=g,$r(t,l,i,r),d=t.memoizedState,o!==l||g!==d||gt.current||xs?(typeof y=="function"&&(Ii(t,n,y,l),d=t.memoizedState),(o=xs||Uc(t,n,o,l,g,d,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=d),i.props=l,i.state=d,i.context=u,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Fm(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ot(t.type,o),i.props=u,f=t.pendingProps,g=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=It(d):(d=yt(n)?Xs:ot.current,d=_n(t,d));var j=n.getDerivedStateFromProps;(y=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||g!==d)&&zc(t,i,l,d),xs=!1,g=t.memoizedState,i.state=g,$r(t,l,i,r);var N=t.memoizedState;o!==f||g!==N||gt.current||xs?(typeof j=="function"&&(Ii(t,n,j,l),N=t.memoizedState),(u=xs||Uc(t,n,u,l,g,N,d)||!1)?(y||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,N,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,N,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),i.props=l,i.state=N,i.context=d,l=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),l=!1)}return Bi(e,t,n,l,a,r)}function Bi(e,t,n,l,r,a){xx(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&Pc(t,n,!1),as(e,t,a);l=t.stateNode,ip.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=On(t,e.child,null,a),t.child=On(t,null,o,a)):ct(e,t,o,a),t.memoizedState=l.state,r&&Pc(t,n,!0),t.child}function fx(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),Lo(e,t.containerInfo)}function qc(e,t,n,l,r){return Mn(),So(r),t.flags|=256,ct(e,t,n,l),t.child}var Ui={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function px(e,t,n){var l=t.pendingProps,r=Ue.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Te(Ue,r&1),e===null)return Di(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ua(i,l,0,null),e=Ks(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=zi(n),t.memoizedState=Ui,e):Bo(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return op(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var d={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=d,t.deletions=null):(l=Cs(r,d),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Cs(o,a):(a=Ks(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?zi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ui,l}return a=e.child,e=a.sibling,l=Cs(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Bo(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ar(e,t,n,l){return l!==null&&So(l),On(t,e.child,null,n),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function op(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=Ka(Error(M(422))),ar(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=ua({mode:"visible",children:l.children},r,0,null),a=Ks(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&On(t,e.child,null,i),t.child.memoizedState=zi(i),t.memoizedState=Ui,a);if(!(t.mode&1))return ar(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(M(419)),l=Ka(a,l,void 0),ar(e,t,i,l)}if(o=(i&e.childLanes)!==0,vt||o){if(l=et,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,rs(e,r),Ft(l,e,r,-1))}return Ho(),l=Ka(Error(M(421))),ar(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=bp.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Et=Ns(r.nextSibling),Ct=t,Me=!0,Ut=null,e!==null&&(Lt[Pt++]=es,Lt[Pt++]=ts,Lt[Pt++]=Js,es=e.id,ts=e.overflow,Js=t),t=Bo(t,l.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ri(e.return,t,n)}function Ga(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function hx(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(ct(e,t,l.children,n),l=Ue.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Te(Ue,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Hr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ga(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Hr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ga(t,!0,n,null,a);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dp(e,t,n){switch(t.tag){case 3:fx(t),Mn();break;case 5:Vm(t);break;case 1:yt(t.type)&&Br(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;Te(Fr,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Te(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?px(e,t,n):(Te(Ue,Ue.current&1),e=as(e,t,n),e!==null?e.sibling:null);Te(Ue,Ue.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return hx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(Ue,Ue.current),l)break;return null;case 22:case 23:return t.lanes=0,mx(e,t,n)}return as(e,t,n)}var vx,Fi,gx,yx;vx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fi=function(){};gx=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,qs(Qt.current);var a=null;switch(n){case"input":r=di(e,r),l=di(e,l),a=[];break;case"select":r=Ve({},r,{value:void 0}),l=Ve({},l,{value:void 0}),a=[];break;case"textarea":r=mi(e,r),l=mi(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Mr)}fi(n,l);var i;n=null;for(u in r)if(!l.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in l){var d=l[u];if(o=r!=null?r[u]:void 0,l.hasOwnProperty(u)&&d!==o&&(d!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(a||(a=[]),a.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(a=a||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Le("scroll",e),a||o===d||(a=[])):(a=a||[]).push(u,d))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yx=function(e,t,n,l){n!==l&&(t.flags|=4)};function el(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function cp(e,t,n){var l=t.pendingProps;switch(wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return yt(t.type)&&Or(),at(t),null;case 3:return l=t.stateNode,Bn(),Pe(gt),Pe(ot),Do(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(lr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(Ki(Ut),Ut=null))),Fi(e,t),at(t),null;case 5:Po(t);var r=qs(Al.current);if(n=t.type,e!==null&&t.stateNode!=null)gx(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(M(166));return at(t),null}if(e=qs(Qt.current),lr(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[Yt]=t,l[kl]=a,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",l),Le("close",l);break;case"iframe":case"object":case"embed":Le("load",l);break;case"video":case"audio":for(r=0;r<il.length;r++)Le(il[r],l);break;case"source":Le("error",l);break;case"img":case"image":case"link":Le("error",l),Le("load",l);break;case"details":Le("toggle",l);break;case"input":nc(l,a),Le("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},Le("invalid",l);break;case"textarea":rc(l,a),Le("invalid",l)}fi(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&nr(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&nr(l.textContent,o,e),r=["children",""+o]):vl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Le("scroll",l)}switch(n){case"input":Kl(l),lc(l,a,!0);break;case"textarea":Kl(l),ac(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Mr)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[Yt]=t,e[kl]=l,vx(e,t,!1,!1),t.stateNode=e;e:{switch(i=pi(n,l),n){case"dialog":Le("cancel",e),Le("close",e),r=l;break;case"iframe":case"object":case"embed":Le("load",e),r=l;break;case"video":case"audio":for(r=0;r<il.length;r++)Le(il[r],e);r=l;break;case"source":Le("error",e),r=l;break;case"img":case"image":case"link":Le("error",e),Le("load",e),r=l;break;case"details":Le("toggle",e),r=l;break;case"input":nc(e,l),r=di(e,l),Le("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=Ve({},l,{value:void 0}),Le("invalid",e);break;case"textarea":rc(e,l),r=mi(e,l),Le("invalid",e);break;default:r=l}fi(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="style"?Gu(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Qu(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&gl(e,d):typeof d=="number"&&gl(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vl.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Le("scroll",e):d!=null&&io(e,a,d,i))}switch(n){case"input":Kl(e),lc(e,l,!1);break;case"textarea":Kl(e),ac(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ts(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?Tn(e,!!l.multiple,a,!1):l.defaultValue!=null&&Tn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Mr)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)yx(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(M(166));if(n=qs(Al.current),qs(Qt.current),lr(t)){if(l=t.stateNode,n=t.memoizedProps,l[Yt]=t,(a=l.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:nr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nr(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Yt]=t,t.stateNode=l}return at(t),null;case 13:if(Pe(Ue),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Et!==null&&t.mode&1&&!(t.flags&128))Om(),Mn(),t.flags|=98560,a=!1;else if(a=lr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Yt]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),a=!1}else Ut!==null&&(Ki(Ut),Ut=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?Xe===0&&(Xe=3):Ho())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Bn(),Fi(e,t),e===null&&El(t.stateNode.containerInfo),at(t),null;case 10:return ko(t.type._context),at(t),null;case 17:return yt(t.type)&&Or(),at(t),null;case 19:if(Pe(Ue),a=t.memoizedState,a===null)return at(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)el(a,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hr(e),i!==null){for(t.flags|=128,el(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Ue,Ue.current&1|2),t.child}e=e.sibling}a.tail!==null&&qe()>zn&&(t.flags|=128,l=!0,el(a,!1),t.lanes=4194304)}else{if(!l)if(e=Hr(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),el(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Me)return at(t),null}else 2*qe()-a.renderingStartTime>zn&&n!==1073741824&&(t.flags|=128,l=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=Ue.current,Te(Ue,l?n&1|2:n&1),t):(at(t),null);case 22:case 23:return $o(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?St&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function up(e,t){switch(wo(t),t.tag){case 1:return yt(t.type)&&Or(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),Pe(gt),Pe(ot),Do(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Po(t),null;case 13:if(Pe(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ue),null;case 4:return Bn(),null;case 10:return ko(t.type._context),null;case 22:case 23:return $o(),null;case 24:return null;default:return null}}var ir=!1,it=!1,mp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){He(e,t,l)}else n.current=null}function Vi(e,t,n){try{n()}catch(l){He(e,t,l)}}var Kc=!1;function xp(e,t){if(Ei=Rr,e=Sm(),bo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,u=0,y=0,f=e,g=null;t:for(;;){for(var j;f!==n||r!==0&&f.nodeType!==3||(o=i+r),f!==a||l!==0&&f.nodeType!==3||(d=i+l),f.nodeType===3&&(i+=f.nodeValue.length),(j=f.firstChild)!==null;)g=f,f=j;for(;;){if(f===e)break t;if(g===n&&++u===r&&(o=i),g===a&&++y===l&&(d=i),(j=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=j}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ci={focusedElem:e,selectionRange:n},Rr=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,C=N.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ot(t.type,w),C);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(p){He(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return N=Kc,Kc=!1,N}function fl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&Vi(t,n,a)}r=r.next}while(r!==l)}}function da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function $i(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jx(e){var t=e.alternate;t!==null&&(e.alternate=null,jx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[kl],delete t[Ai],delete t[K0],delete t[G0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bx(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mr));else if(l!==4&&(e=e.child,e!==null))for(Hi(e,t,n),e=e.sibling;e!==null;)Hi(e,t,n),e=e.sibling}function Wi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Wi(e,t,n),e=e.sibling;e!==null;)Wi(e,t,n),e=e.sibling}var tt=null,Bt=!1;function cs(e,t,n){for(n=n.child;n!==null;)Nx(e,t,n),n=n.sibling}function Nx(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:it||Cn(n,t);case 6:var l=tt,r=Bt;tt=null,cs(e,t,n),tt=l,Bt=r,tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?$a(e.parentNode,n):e.nodeType===1&&$a(e,n),Nl(e)):$a(tt,n.stateNode));break;case 4:l=tt,r=Bt,tt=n.stateNode.containerInfo,Bt=!0,cs(e,t,n),tt=l,Bt=r;break;case 0:case 11:case 14:case 15:if(!it&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Vi(n,t,i),r=r.next}while(r!==l)}cs(e,t,n);break;case 1:if(!it&&(Cn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){He(n,t,o)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:n.mode&1?(it=(l=it)||n.memoizedState!==null,cs(e,t,n),it=l):cs(e,t,n);break;default:cs(e,t,n)}}function Xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mp),t.forEach(function(l){var r=Np.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:tt=o.stateNode,Bt=!1;break e;case 3:tt=o.stateNode.containerInfo,Bt=!0;break e;case 4:tt=o.stateNode.containerInfo,Bt=!0;break e}o=o.return}if(tt===null)throw Error(M(160));Nx(a,i,r),tt=null,Bt=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(u){He(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wx(t,e),t=t.sibling}function wx(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Ht(e),l&4){try{fl(3,e,e.return),da(3,e)}catch(w){He(e,e.return,w)}try{fl(5,e,e.return)}catch(w){He(e,e.return,w)}}break;case 1:Mt(t,e),Ht(e),l&512&&n!==null&&Cn(n,n.return);break;case 5:if(Mt(t,e),Ht(e),l&512&&n!==null&&Cn(n,n.return),e.flags&32){var r=e.stateNode;try{gl(r,"")}catch(w){He(e,e.return,w)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Wu(r,a),pi(o,i);var u=pi(o,a);for(i=0;i<d.length;i+=2){var y=d[i],f=d[i+1];y==="style"?Gu(r,f):y==="dangerouslySetInnerHTML"?Qu(r,f):y==="children"?gl(r,f):io(r,y,f,u)}switch(o){case"input":ci(r,a);break;case"textarea":Yu(r,a);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?Tn(r,!!a.multiple,j,!1):g!==!!a.multiple&&(a.defaultValue!=null?Tn(r,!!a.multiple,a.defaultValue,!0):Tn(r,!!a.multiple,a.multiple?[]:"",!1))}r[kl]=a}catch(w){He(e,e.return,w)}}break;case 6:if(Mt(t,e),Ht(e),l&4){if(e.stateNode===null)throw Error(M(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(w){He(e,e.return,w)}}break;case 3:if(Mt(t,e),Ht(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(w){He(e,e.return,w)}break;case 4:Mt(t,e),Ht(e);break;case 13:Mt(t,e),Ht(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Fo=qe())),l&4&&Xc(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(it=(u=it)||y,Mt(t,e),it=u):Mt(t,e),Ht(e),l&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!y&&e.mode&1)for($=e,y=e.child;y!==null;){for(f=$=y;$!==null;){switch(g=$,j=g.child,g.tag){case 0:case 11:case 14:case 15:fl(4,g,g.return);break;case 1:Cn(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){l=g,n=g.return;try{t=l,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){He(l,n,w)}}break;case 5:Cn(g,g.return);break;case 22:if(g.memoizedState!==null){Zc(f);continue}}j!==null?(j.return=g,$=j):Zc(f)}y=y.sibling}e:for(y=null,f=e;;){if(f.tag===5){if(y===null){y=f;try{r=f.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,d=f.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Ku("display",i))}catch(w){He(e,e.return,w)}}}else if(f.tag===6){if(y===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){He(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(t,e),Ht(e),l&4&&Xc(e);break;case 21:break;default:Mt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bx(n)){var l=n;break e}n=n.return}throw Error(M(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(gl(r,""),l.flags&=-33);var a=Gc(e);Wi(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=Gc(e);Hi(e,o,i);break;default:throw Error(M(161))}}catch(d){He(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e,t,n){$=e,Sx(e)}function Sx(e,t,n){for(var l=(e.mode&1)!==0;$!==null;){var r=$,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||ir;if(!i){var o=r.alternate,d=o!==null&&o.memoizedState!==null||it;o=ir;var u=it;if(ir=i,(it=d)&&!u)for($=r;$!==null;)i=$,d=i.child,i.tag===22&&i.memoizedState!==null?eu(r):d!==null?(d.return=i,$=d):eu(r);for(;a!==null;)$=a,Sx(a),a=a.sibling;$=r,ir=o,it=u}Jc(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,$=a):Jc(e)}}function Jc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||da(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!it)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Mc(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var y=u.memoizedState;if(y!==null){var f=y.dehydrated;f!==null&&Nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}it||t.flags&512&&$i(t)}catch(g){He(t,t.return,g)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Zc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function eu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{da(4,t)}catch(d){He(t,n,d)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(d){He(t,r,d)}}var a=t.return;try{$i(t)}catch(d){He(t,a,d)}break;case 5:var i=t.return;try{$i(t)}catch(d){He(t,i,d)}}}catch(d){He(t,t.return,d)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var pp=Math.ceil,qr=is.ReactCurrentDispatcher,Uo=is.ReactCurrentOwner,Rt=is.ReactCurrentBatchConfig,ye=0,et=null,Ke=null,st=0,St=0,kn=Ps(0),Xe=0,Rl=null,en=0,ca=0,zo=0,pl=null,ht=null,Fo=0,zn=1/0,Jt=null,Qr=!1,Yi=null,Ss=null,or=!1,vs=null,Kr=0,hl=0,qi=null,Sr=-1,Er=0;function ut(){return ye&6?qe():Sr!==-1?Sr:Sr=qe()}function Es(e){return e.mode&1?ye&2&&st!==0?st&-st:J0.transition!==null?(Er===0&&(Er=om()),Er):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:pm(e.type)),e):1}function Ft(e,t,n,l){if(50<hl)throw hl=0,qi=null,Error(M(185));Ol(e,n,l),(!(ye&2)||e!==et)&&(e===et&&(!(ye&2)&&(ca|=n),Xe===4&&ps(e,st)),jt(e,l),n===1&&ye===0&&!(t.mode&1)&&(zn=qe()+500,aa&&Ds()))}function jt(e,t){var n=e.callbackNode;Jf(e,t);var l=Dr(e,e===et?st:0);if(l===0)n!==null&&dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&dc(n),t===1)e.tag===0?X0(tu.bind(null,e)):Im(tu.bind(null,e)),q0(function(){!(ye&6)&&Ds()}),n=null;else{switch(dm(l)){case 1:n=xo;break;case 4:n=am;break;case 16:n=Pr;break;case 536870912:n=im;break;default:n=Pr}n=Dx(n,Ex.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ex(e,t){if(Sr=-1,Er=0,ye&6)throw Error(M(327));var n=e.callbackNode;if(Rn()&&e.callbackNode!==n)return null;var l=Dr(e,e===et?st:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Gr(e,l);else{t=l;var r=ye;ye|=2;var a=kx();(et!==e||st!==t)&&(Jt=null,zn=qe()+500,Qs(e,t));do try{gp();break}catch(o){Cx(e,o)}while(!0);Co(),qr.current=a,ye=r,Ke!==null?t=0:(et=null,st=0,t=Xe)}if(t!==0){if(t===2&&(r=ji(e),r!==0&&(l=r,t=Qi(e,r))),t===1)throw n=Rl,Qs(e,0),ps(e,l),jt(e,qe()),n;if(t===6)ps(e,l);else{if(r=e.current.alternate,!(l&30)&&!hp(r)&&(t=Gr(e,l),t===2&&(a=ji(e),a!==0&&(l=a,t=Qi(e,a))),t===1))throw n=Rl,Qs(e,0),ps(e,l),jt(e,qe()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(M(345));case 2:$s(e,ht,Jt);break;case 3:if(ps(e,l),(l&130023424)===l&&(t=Fo+500-qe(),10<t)){if(Dr(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){ut(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ti($s.bind(null,e,ht,Jt),t);break}$s(e,ht,Jt);break;case 4:if(ps(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-zt(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*pp(l/1960))-l,10<l){e.timeoutHandle=Ti($s.bind(null,e,ht,Jt),l);break}$s(e,ht,Jt);break;case 5:$s(e,ht,Jt);break;default:throw Error(M(329))}}}return jt(e,qe()),e.callbackNode===n?Ex.bind(null,e):null}function Qi(e,t){var n=pl;return e.current.memoizedState.isDehydrated&&(Qs(e,t).flags|=256),e=Gr(e,t),e!==2&&(t=ht,ht=n,t!==null&&Ki(t)),e}function Ki(e){ht===null?ht=e:ht.push.apply(ht,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!Vt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ps(e,t){for(t&=~zo,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),l=1<<n;e[n]=-1,t&=~l}}function tu(e){if(ye&6)throw Error(M(327));Rn();var t=Dr(e,0);if(!(t&1))return jt(e,qe()),null;var n=Gr(e,t);if(e.tag!==0&&n===2){var l=ji(e);l!==0&&(t=l,n=Qi(e,l))}if(n===1)throw n=Rl,Qs(e,0),ps(e,t),jt(e,qe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$s(e,ht,Jt),jt(e,qe()),null}function Vo(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(zn=qe()+500,aa&&Ds())}}function tn(e){vs!==null&&vs.tag===0&&!(ye&6)&&Rn();var t=ye;ye|=1;var n=Rt.transition,l=Ee;try{if(Rt.transition=null,Ee=1,e)return e()}finally{Ee=l,Rt.transition=n,ye=t,!(ye&6)&&Ds()}}function $o(){St=kn.current,Pe(kn)}function Qs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Y0(n)),Ke!==null)for(n=Ke.return;n!==null;){var l=n;switch(wo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Or();break;case 3:Bn(),Pe(gt),Pe(ot),Do();break;case 5:Po(l);break;case 4:Bn();break;case 13:Pe(Ue);break;case 19:Pe(Ue);break;case 10:ko(l.type._context);break;case 22:case 23:$o()}n=n.return}if(et=e,Ke=e=Cs(e.current,null),st=St=t,Xe=0,Rl=null,zo=ca=en=0,ht=pl=null,Ys!==null){for(t=0;t<Ys.length;t++)if(n=Ys[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}Ys=null}return e}function Cx(e,t){do{var n=Ke;try{if(Co(),br.current=Yr,Wr){for(var l=ze.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Wr=!1}if(Zs=0,Ze=Ge=ze=null,xl=!1,Ll=0,Uo.current=null,n===null||n.return===null){Xe=1,Rl=t,Ke=null;break}e:{var a=e,i=n.return,o=n,d=t;if(t=st,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,y=o,f=y.tag;if(!(y.mode&1)&&(f===0||f===11||f===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var j=Vc(i);if(j!==null){j.flags&=-257,$c(j,i,o,a,t),j.mode&1&&Fc(a,u,t),t=j,d=u;var N=t.updateQueue;if(N===null){var w=new Set;w.add(d),t.updateQueue=w}else N.add(d);break e}else{if(!(t&1)){Fc(a,u,t),Ho();break e}d=Error(M(426))}}else if(Me&&o.mode&1){var C=Vc(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$c(C,i,o,a,t),So(Un(d,o));break e}}a=d=Un(d,o),Xe!==4&&(Xe=2),pl===null?pl=[a]:pl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=dx(a,d,t);_c(a,x);break e;case 1:o=d;var m=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ss===null||!Ss.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var p=cx(a,o,t);_c(a,p);break e}}a=a.return}while(a!==null)}Ax(n)}catch(b){t=b,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function kx(){var e=qr.current;return qr.current=Yr,e===null?Yr:e}function Ho(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(en&268435455)&&!(ca&268435455)||ps(et,st)}function Gr(e,t){var n=ye;ye|=2;var l=kx();(et!==e||st!==t)&&(Jt=null,Qs(e,t));do try{vp();break}catch(r){Cx(e,r)}while(!0);if(Co(),ye=n,qr.current=l,Ke!==null)throw Error(M(261));return et=null,st=0,Xe}function vp(){for(;Ke!==null;)Tx(Ke)}function gp(){for(;Ke!==null&&!$f();)Tx(Ke)}function Tx(e){var t=Px(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Ax(e):Ke=t,Uo.current=null}function Ax(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=up(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ke=null;return}}else if(n=cp(n,t,St),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Xe===0&&(Xe=5)}function $s(e,t,n){var l=Ee,r=Rt.transition;try{Rt.transition=null,Ee=1,yp(e,t,n,l)}finally{Rt.transition=r,Ee=l}return null}function yp(e,t,n,l){do Rn();while(vs!==null);if(ye&6)throw Error(M(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Zf(e,a),e===et&&(Ke=et=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||or||(or=!0,Dx(Pr,function(){return Rn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var i=Ee;Ee=1;var o=ye;ye|=4,Uo.current=null,xp(e,n),wx(n,e),U0(Ci),Rr=!!Ei,Ci=Ei=null,e.current=n,fp(n),Hf(),ye=o,Ee=i,Rt.transition=a}else e.current=n;if(or&&(or=!1,vs=e,Kr=r),a=e.pendingLanes,a===0&&(Ss=null),qf(n.stateNode),jt(e,qe()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(Qr)throw Qr=!1,e=Yi,Yi=null,e;return Kr&1&&e.tag!==0&&Rn(),a=e.pendingLanes,a&1?e===qi?hl++:(hl=0,qi=e):hl=0,Ds(),null}function Rn(){if(vs!==null){var e=dm(Kr),t=Rt.transition,n=Ee;try{if(Rt.transition=null,Ee=16>e?16:e,vs===null)var l=!1;else{if(e=vs,vs=null,Kr=0,ye&6)throw Error(M(331));var r=ye;for(ye|=4,$=e.current;$!==null;){var a=$,i=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var d=0;d<o.length;d++){var u=o[d];for($=u;$!==null;){var y=$;switch(y.tag){case 0:case 11:case 15:fl(8,y,a)}var f=y.child;if(f!==null)f.return=y,$=f;else for(;$!==null;){y=$;var g=y.sibling,j=y.return;if(jx(y),y===u){$=null;break}if(g!==null){g.return=j,$=g;break}$=j}}}var N=a.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}var m=e.current;for($=m;$!==null;){i=$;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,$=v;else e:for(i=m;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:da(9,o)}}catch(b){He(o,o.return,b)}if(o===i){$=null;break e}var p=o.sibling;if(p!==null){p.return=o.return,$=p;break e}$=o.return}}if(ye=r,Ds(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ta,e)}catch{}l=!0}return l}finally{Ee=n,Rt.transition=t}}return!1}function su(e,t,n){t=Un(n,t),t=dx(e,t,1),e=ws(e,t,1),t=ut(),e!==null&&(Ol(e,1,t),jt(e,t))}function He(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ss===null||!Ss.has(l))){e=Un(n,e),e=cx(t,e,1),t=ws(t,e,1),e=ut(),t!==null&&(Ol(t,1,e),jt(t,e));break}}t=t.return}}function jp(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(st&n)===n&&(Xe===4||Xe===3&&(st&130023424)===st&&500>qe()-Fo?Qs(e,0):zo|=n),jt(e,t)}function Lx(e,t){t===0&&(e.mode&1?(t=Jl,Jl<<=1,!(Jl&130023424)&&(Jl=4194304)):t=1);var n=ut();e=rs(e,t),e!==null&&(Ol(e,t,n),jt(e,n))}function bp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lx(e,n)}function Np(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(M(314))}l!==null&&l.delete(t),Lx(e,n)}var Px;Px=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,dp(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Me&&t.flags&1048576&&_m(t,zr,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;wr(e,t),e=t.pendingProps;var r=_n(t,ot.current);Dn(t,n),r=Io(null,t,l,e,r,n);var a=_o();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(l)?(a=!0,Br(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ao(t),r.updater=oa,t.stateNode=r,r._reactInternals=t,_i(t,l,e,n),t=Bi(null,t,l,!0,a,n)):(t.tag=0,Me&&a&&No(t),ct(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(wr(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=Sp(l),e=Ot(l,e),r){case 0:t=Oi(null,t,l,e,n);break e;case 1:t=Yc(null,t,l,e,n);break e;case 11:t=Hc(null,t,l,e,n);break e;case 14:t=Wc(null,t,l,Ot(l.type,e),n);break e}throw Error(M(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),Oi(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),Yc(e,t,l,r,n);case 3:e:{if(fx(t),e===null)throw Error(M(387));l=t.pendingProps,a=t.memoizedState,r=a.element,Fm(e,t),$r(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Un(Error(M(423)),t),t=qc(e,t,l,n,r);break e}else if(l!==r){r=Un(Error(M(424)),t),t=qc(e,t,l,n,r);break e}else for(Et=Ns(t.stateNode.containerInfo.firstChild),Ct=t,Me=!0,Ut=null,n=Um(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),l===r){t=as(e,t,n);break e}ct(e,t,l,n)}t=t.child}return t;case 5:return Vm(t),e===null&&Di(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,ki(l,r)?i=null:a!==null&&ki(l,a)&&(t.flags|=32),xx(e,t),ct(e,t,i,n),t.child;case 6:return e===null&&Di(t),null;case 13:return px(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=On(t,null,l,n):ct(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),Hc(e,t,l,r,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,Te(Fr,l._currentValue),l._currentValue=i,a!==null)if(Vt(a.value,i)){if(a.children===r.children&&!gt.current){t=as(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var d=o.firstContext;d!==null;){if(d.context===l){if(a.tag===1){d=ss(-1,n&-n),d.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Ri(a.return,n,t),o.lanes|=n;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(M(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ri(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ct(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,Dn(t,n),r=It(r),l=l(r),t.flags|=1,ct(e,t,l,n),t.child;case 14:return l=t.type,r=Ot(l,t.pendingProps),r=Ot(l.type,r),Wc(e,t,l,r,n);case 15:return ux(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),wr(e,t),t.tag=1,yt(l)?(e=!0,Br(t)):e=!1,Dn(t,n),ox(t,l,r),_i(t,l,r,n),Bi(null,t,l,!0,e,n);case 19:return hx(e,t,n);case 22:return mx(e,t,n)}throw Error(M(156,t.tag))};function Dx(e,t){return rm(e,t)}function wp(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,l){return new wp(e,t,n,l)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sp(e){if(typeof e=="function")return Wo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===co)return 11;if(e===uo)return 14}return 2}function Cs(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cr(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Wo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vn:return Ks(n.children,r,a,t);case oo:i=8,r|=8;break;case ri:return e=Dt(12,n,t,r|2),e.elementType=ri,e.lanes=a,e;case ai:return e=Dt(13,n,t,r),e.elementType=ai,e.lanes=a,e;case ii:return e=Dt(19,n,t,r),e.elementType=ii,e.lanes=a,e;case Vu:return ua(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zu:i=10;break e;case Fu:i=9;break e;case co:i=11;break e;case uo:i=14;break e;case ms:i=16,l=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Dt(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function Ks(e,t,n,l){return e=Dt(7,e,l,t),e.lanes=n,e}function ua(e,t,n,l){return e=Dt(22,e,l,t),e.elementType=Vu,e.lanes=n,e.stateNode={isHidden:!1},e}function Xa(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Ja(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ep(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yo(e,t,n,l,r,a,i,o,d){return e=new Ep(e,t,n,o,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(a),e}function Cp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Rx(e){if(!e)return As;e=e._reactInternals;e:{if(nn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(yt(n))return Rm(e,n,t)}return t}function Ix(e,t,n,l,r,a,i,o,d){return e=Yo(n,l,!0,e,r,a,i,o,d),e.context=Rx(null),n=e.current,l=ut(),r=Es(n),a=ss(l,r),a.callback=t??null,ws(n,a,r),e.current.lanes=r,Ol(e,r,l),jt(e,l),e}function ma(e,t,n,l){var r=t.current,a=ut(),i=Es(r);return n=Rx(n),t.context===null?t.context=n:t.pendingContext=n,t=ss(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=ws(r,t,i),e!==null&&(Ft(e,r,i,a),jr(e,r,i)),i}function Xr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qo(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function kp(){return null}var _x=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qo(e){this._internalRoot=e}xa.prototype.render=Qo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ma(e,t,null,null)};xa.prototype.unmount=Qo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tn(function(){ma(null,e,null,null)}),t[ls]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=mm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fs.length&&t!==0&&t<fs[n].priority;n++);fs.splice(n,0,e),n===0&&fm(e)}};function Ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lu(){}function Tp(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var u=Xr(i);a.call(u)}}var i=Ix(t,l,e,0,null,!1,!1,"",lu);return e._reactRootContainer=i,e[ls]=i.current,El(e.nodeType===8?e.parentNode:e),tn(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var u=Xr(d);o.call(u)}}var d=Yo(e,0,!1,null,null,!1,!1,"",lu);return e._reactRootContainer=d,e[ls]=d.current,El(e.nodeType===8?e.parentNode:e),tn(function(){ma(t,d,n,l)}),d}function pa(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var d=Xr(i);o.call(d)}}ma(t,i,e,r)}else i=Tp(n,t,e,r,l);return Xr(i)}cm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(fo(t,n|1),jt(t,qe()),!(ye&6)&&(zn=qe()+500,Ds()))}break;case 13:tn(function(){var l=rs(e,1);if(l!==null){var r=ut();Ft(l,e,1,r)}}),qo(e,1)}};po=function(e){if(e.tag===13){var t=rs(e,134217728);if(t!==null){var n=ut();Ft(t,e,134217728,n)}qo(e,134217728)}};um=function(e){if(e.tag===13){var t=Es(e),n=rs(e,t);if(n!==null){var l=ut();Ft(n,e,t,l)}qo(e,t)}};mm=function(){return Ee};xm=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};vi=function(e,t,n){switch(t){case"input":if(ci(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=ra(l);if(!r)throw Error(M(90));Hu(l),ci(l,r)}}}break;case"textarea":Yu(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}};Zu=Vo;em=tn;var Ap={usingClientEntryPoint:!1,Events:[Ul,bn,ra,Xu,Ju,Vo]},tl={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lp={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nm(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{ta=dr.inject(Lp),qt=dr}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ko(t))throw Error(M(200));return Cp(e,t,null,n)};Tt.createRoot=function(e,t){if(!Ko(e))throw Error(M(299));var n=!1,l="",r=_x;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Yo(e,1,!1,null,null,n,!1,l,r),e[ls]=t.current,El(e.nodeType===8?e.parentNode:e),new Qo(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=nm(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return tn(e)};Tt.hydrate=function(e,t,n){if(!fa(t))throw Error(M(200));return pa(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Ko(e))throw Error(M(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=_x;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ix(t,null,e,1,n??null,r,!1,a,i),e[ls]=t.current,El(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new xa(t)};Tt.render=function(e,t,n){if(!fa(t))throw Error(M(200));return pa(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!fa(e))throw Error(M(40));return e._reactRootContainer?(tn(function(){pa(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Tt.unstable_batchedUpdates=Vo;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!fa(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return pa(e,t,n,!1,l)};Tt.version="18.3.1-next-f1338f8080-20240426";function Mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mx)}catch(e){console.error(e)}}Mx(),Mu.exports=Tt;var Pp=Mu.exports,ru=Pp;ni.createRoot=ru.createRoot,ni.hydrateRoot=ru.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Il.apply(this,arguments)}var gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gs||(gs={}));const au="popstate";function Dp(e){e===void 0&&(e={});function t(l,r){let{pathname:a,search:i,hash:o}=l.location;return Gi("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(l,r){return typeof r=="string"?r:Jr(r)}return Ip(t,n,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Go(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rp(){return Math.random().toString(36).substr(2,8)}function iu(e,t){return{usr:e.state,key:e.key,idx:t}}function Gi(e,t,n,l){return n===void 0&&(n=null),Il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wn(t):t,{state:n,key:t&&t.key||l||Rp()})}function Jr(e){let{pathname:t="/",search:n="",hash:l=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Wn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Ip(e,t,n,l){l===void 0&&(l={});let{window:r=document.defaultView,v5Compat:a=!1}=l,i=r.history,o=gs.Pop,d=null,u=y();u==null&&(u=0,i.replaceState(Il({},i.state,{idx:u}),""));function y(){return(i.state||{idx:null}).idx}function f(){o=gs.Pop;let C=y(),x=C==null?null:C-u;u=C,d&&d({action:o,location:w.location,delta:x})}function g(C,x){o=gs.Push;let m=Gi(w.location,C,x);u=y()+1;let v=iu(m,u),p=w.createHref(m);try{i.pushState(v,"",p)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(p)}a&&d&&d({action:o,location:w.location,delta:1})}function j(C,x){o=gs.Replace;let m=Gi(w.location,C,x);u=y();let v=iu(m,u),p=w.createHref(m);i.replaceState(v,"",p),a&&d&&d({action:o,location:w.location,delta:0})}function N(C){let x=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof C=="string"?C:Jr(C);return m=m.replace(/ $/,"%20"),Fe(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let w={get action(){return o},get location(){return e(r,i)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(au,f),d=C,()=>{r.removeEventListener(au,f),d=null}},createHref(C){return t(r,C)},createURL:N,encodeLocation(C){let x=N(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:j,go(C){return i.go(C)}};return w}var ou;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ou||(ou={}));function _p(e,t,n){return n===void 0&&(n="/"),Mp(e,t,n)}function Mp(e,t,n,l){let r=typeof t=="string"?Wn(t):t,a=Fn(r.pathname||"/",n);if(a==null)return null;let i=Ox(e);Op(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let u=Qp(a);o=Yp(i[d],u)}return o}function Ox(e,t,n,l){t===void 0&&(t=[]),n===void 0&&(n=[]),l===void 0&&(l="");let r=(a,i,o)=>{let d={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};d.relativePath.startsWith("/")&&(Fe(d.relativePath.startsWith(l),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(l.length));let u=ks([l,d.relativePath]),y=n.concat(d);a.children&&a.children.length>0&&(Fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ox(a.children,t,y,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Hp(u,a.index),routesMeta:y})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let d of Bx(a.path))r(a,i,d)}),t}function Bx(e){let t=e.split("/");if(t.length===0)return[];let[n,...l]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(l.length===0)return r?[a,""]:[a];let i=Bx(l.join("/")),o=[];return o.push(...i.map(d=>d===""?a:[a,d].join("/"))),r&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Op(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wp(t.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const Bp=/^:[\w-]+$/,Up=3,zp=2,Fp=1,Vp=10,$p=-2,du=e=>e==="*";function Hp(e,t){let n=e.split("/"),l=n.length;return n.some(du)&&(l+=$p),t&&(l+=zp),n.filter(r=>!du(r)).reduce((r,a)=>r+(Bp.test(a)?Up:a===""?Fp:Vp),l)}function Wp(e,t){return e.length===t.length&&e.slice(0,-1).every((l,r)=>l===t[r])?e[e.length-1]-t[t.length-1]:0}function Yp(e,t,n){let{routesMeta:l}=e,r={},a="/",i=[];for(let o=0;o<l.length;++o){let d=l[o],u=o===l.length-1,y=a==="/"?t:t.slice(a.length)||"/",f=Xi({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},y),g=d.route;if(!f)return null;Object.assign(r,f.params),i.push({params:r,pathname:ks([a,f.pathname]),pathnameBase:Zp(ks([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=ks([a,f.pathnameBase]))}return i}function Xi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,l]=qp(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:l.reduce((u,y,f)=>{let{paramName:g,isOptional:j}=y;if(g==="*"){let w=o[f]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const N=o[f];return j&&!N?u[g]=void 0:u[g]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function qp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Go(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(l.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}function Qp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Go(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,l=e.charAt(n);return l&&l!=="/"?null:e.slice(n)||"/"}const Kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=e=>Kp.test(e);function Xp(e,t){t===void 0&&(t="/");let{pathname:n,search:l="",hash:r=""}=typeof e=="string"?Wn(e):e,a;if(n)if(Gp(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Go(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=cu(n.substring(1),"/"):a=cu(n,t)}else a=t;return{pathname:a,search:eh(l),hash:th(r)}}function cu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Za(e,t,n,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Xo(e,t){let n=Jp(e);return t?n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function Jo(e,t,n,l){l===void 0&&(l=!1);let r;typeof e=="string"?r=Wn(e):(r=Il({},e),Fe(!r.pathname||!r.pathname.includes("?"),Za("?","pathname","search",r)),Fe(!r.pathname||!r.pathname.includes("#"),Za("#","pathname","hash",r)),Fe(!r.search||!r.search.includes("#"),Za("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let f=t.length-1;if(!l&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;r.pathname=g.join("/")}o=f>=0?t[f]:"/"}let d=Xp(r,o),u=i&&i!=="/"&&i.endsWith("/"),y=(a||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||y)&&(d.pathname+="/"),d}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),Zp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,th=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ux=["post","put","patch","delete"];new Set(Ux);const nh=["get",...Ux];new Set(nh);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},_l.apply(this,arguments)}const ha=c.createContext(null),zx=c.createContext(null),os=c.createContext(null),va=c.createContext(null),Kt=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Fx=c.createContext(null);function lh(e,t){let{relative:n}=t===void 0?{}:t;Yn()||Fe(!1);let{basename:l,navigator:r}=c.useContext(os),{hash:a,pathname:i,search:o}=ga(e,{relative:n}),d=i;return l!=="/"&&(d=i==="/"?l:ks([l,i])),r.createHref({pathname:d,search:o,hash:a})}function Yn(){return c.useContext(va)!=null}function ln(){return Yn()||Fe(!1),c.useContext(va).location}function Vx(e){c.useContext(os).static||c.useLayoutEffect(e)}function Fl(){let{isDataRoute:e}=c.useContext(Kt);return e?yh():rh()}function rh(){Yn()||Fe(!1);let e=c.useContext(ha),{basename:t,future:n,navigator:l}=c.useContext(os),{matches:r}=c.useContext(Kt),{pathname:a}=ln(),i=JSON.stringify(Xo(r,n.v7_relativeSplatPath)),o=c.useRef(!1);return Vx(()=>{o.current=!0}),c.useCallback(function(u,y){if(y===void 0&&(y={}),!o.current)return;if(typeof u=="number"){l.go(u);return}let f=Jo(u,JSON.parse(i),a,y.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ks([t,f.pathname])),(y.replace?l.replace:l.push)(f,y.state,y)},[t,l,i,a,e])}const ah=c.createContext(null);function ih(e){let t=c.useContext(Kt).outlet;return t&&c.createElement(ah.Provider,{value:e},t)}function $x(){let{matches:e}=c.useContext(Kt),t=e[e.length-1];return t?t.params:{}}function ga(e,t){let{relative:n}=t===void 0?{}:t,{future:l}=c.useContext(os),{matches:r}=c.useContext(Kt),{pathname:a}=ln(),i=JSON.stringify(Xo(r,l.v7_relativeSplatPath));return c.useMemo(()=>Jo(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function oh(e,t){return dh(e,t)}function dh(e,t,n,l){Yn()||Fe(!1);let{navigator:r}=c.useContext(os),{matches:a}=c.useContext(Kt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=ln(),y;if(t){var f;let C=typeof t=="string"?Wn(t):t;d==="/"||(f=C.pathname)!=null&&f.startsWith(d)||Fe(!1),y=C}else y=u;let g=y.pathname||"/",j=g;if(d!=="/"){let C=d.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=_p(e,{pathname:j}),w=fh(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:ks([d,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:ks([d,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,l);return t&&w?c.createElement(va.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:gs.Pop}},w):w}function ch(){let e=gh(),t=sh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const uh=c.createElement(ch,null);class mh extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Kt.Provider,{value:this.props.routeContext},c.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xh(e){let{routeContext:t,match:n,children:l}=e,r=c.useContext(ha);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Kt.Provider,{value:t},l)}function fh(e,t,n,l){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),l===void 0&&(l=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=l)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let y=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);y>=0||Fe(!1),i=i.slice(0,Math.min(i.length,y+1))}let d=!1,u=-1;if(n&&l&&l.v7_partialHydration)for(let y=0;y<i.length;y++){let f=i[y];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=y),f.route.id){let{loaderData:g,errors:j}=n,N=f.route.loader&&g[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||N){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((y,f,g)=>{let j,N=!1,w=null,C=null;n&&(j=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||uh,d&&(u<0&&g===0?(jh("route-fallback"),N=!0,C=null):u===g&&(N=!0,C=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,g+1)),m=()=>{let v;return j?v=w:N?v=C:f.route.Component?v=c.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=y,c.createElement(xh,{match:f,routeContext:{outlet:y,matches:x,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?c.createElement(mh,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Hx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hx||{}),Wx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wx||{});function ph(e){let t=c.useContext(ha);return t||Fe(!1),t}function hh(e){let t=c.useContext(zx);return t||Fe(!1),t}function vh(e){let t=c.useContext(Kt);return t||Fe(!1),t}function Yx(e){let t=vh(),n=t.matches[t.matches.length-1];return n.route.id||Fe(!1),n.route.id}function gh(){var e;let t=c.useContext(Fx),n=hh(),l=Yx();return t!==void 0?t:(e=n.errors)==null?void 0:e[l]}function yh(){let{router:e}=ph(Hx.UseNavigateStable),t=Yx(Wx.UseNavigateStable),n=c.useRef(!1);return Vx(()=>{n.current=!0}),c.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,_l({fromRouteId:t},a)))},[e,t])}const uu={};function jh(e,t,n){uu[e]||(uu[e]=!0)}function bh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Nh(e){let{to:t,replace:n,state:l,relative:r}=e;Yn()||Fe(!1);let{future:a,static:i}=c.useContext(os),{matches:o}=c.useContext(Kt),{pathname:d}=ln(),u=Fl(),y=Jo(t,Xo(o,a.v7_relativeSplatPath),d,r==="path"),f=JSON.stringify(y);return c.useEffect(()=>u(JSON.parse(f),{replace:n,state:l,relative:r}),[u,f,r,n,l]),null}function wh(e){return ih(e.context)}function us(e){Fe(!1)}function Sh(e){let{basename:t="/",children:n=null,location:l,navigationType:r=gs.Pop,navigator:a,static:i=!1,future:o}=e;Yn()&&Fe(!1);let d=t.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:d,navigator:a,static:i,future:_l({v7_relativeSplatPath:!1},o)}),[d,o,a,i]);typeof l=="string"&&(l=Wn(l));let{pathname:y="/",search:f="",hash:g="",state:j=null,key:N="default"}=l,w=c.useMemo(()=>{let C=Fn(y,d);return C==null?null:{location:{pathname:C,search:f,hash:g,state:j,key:N},navigationType:r}},[d,y,f,g,j,N,r]);return w==null?null:c.createElement(os.Provider,{value:u},c.createElement(va.Provider,{children:n,value:w}))}function Eh(e){let{children:t,location:n}=e;return oh(Ji(t),n)}new Promise(()=>{});function Ji(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(l,r)=>{if(!c.isValidElement(l))return;let a=[...t,r];if(l.type===c.Fragment){n.push.apply(n,Ji(l.props.children,a));return}l.type!==us&&Fe(!1),!l.props.index||!l.props.children||Fe(!1);let i={id:l.props.id||a.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=Ji(l.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Zr.apply(this,arguments)}function qx(e,t){if(e==null)return{};var n={},l=Object.keys(e),r,a;for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ch(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kh(e,t){return e.button===0&&(!t||t==="_self")&&!Ch(e)}const Th=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ah=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lh="6";try{window.__reactRouterVersion=Lh}catch{}const Ph=c.createContext({isTransitioning:!1}),Dh="startTransition",mu=jf[Dh];function Rh(e){let{basename:t,children:n,future:l,window:r}=e,a=c.useRef();a.current==null&&(a.current=Dp({window:r,v5Compat:!0}));let i=a.current,[o,d]=c.useState({action:i.action,location:i.location}),{v7_startTransition:u}=l||{},y=c.useCallback(f=>{u&&mu?mu(()=>d(f)):d(f)},[d,u]);return c.useLayoutEffect(()=>i.listen(y),[i,y]),c.useEffect(()=>bh(l),[l]),c.createElement(Sh,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:l})}const Ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=c.forwardRef(function(t,n){let{onClick:l,relative:r,reloadDocument:a,replace:i,state:o,target:d,to:u,preventScrollReset:y,viewTransition:f}=t,g=qx(t,Th),{basename:j}=c.useContext(os),N,w=!1;if(typeof u=="string"&&_h.test(u)&&(N=u,Ih))try{let v=new URL(window.location.href),p=u.startsWith("//")?new URL(v.protocol+u):new URL(u),b=Fn(p.pathname,j);p.origin===v.origin&&b!=null?u=b+p.search+p.hash:w=!0}catch{}let C=lh(u,{relative:r}),x=Oh(u,{replace:i,state:o,target:d,preventScrollReset:y,relative:r,viewTransition:f});function m(v){l&&l(v),v.defaultPrevented||x(v)}return c.createElement("a",Zr({},g,{href:N||C,onClick:w||a?l:m,ref:n,target:d}))}),xu=c.forwardRef(function(t,n){let{"aria-current":l="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:d,viewTransition:u,children:y}=t,f=qx(t,Ah),g=ga(d,{relative:f.relative}),j=ln(),N=c.useContext(zx),{navigator:w,basename:C}=c.useContext(os),x=N!=null&&Bh(g)&&u===!0,m=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,v=j.pathname,p=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(v=v.toLowerCase(),p=p?p.toLowerCase():null,m=m.toLowerCase()),p&&C&&(p=Fn(p,C)||p);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let T=v===m||!i&&v.startsWith(m)&&v.charAt(b)==="/",D=p!=null&&(p===m||!i&&p.startsWith(m)&&p.charAt(m.length)==="/"),A={isActive:T,isPending:D,isTransitioning:x},P=T?l:void 0,S;typeof a=="function"?S=a(A):S=[a,T?"active":null,D?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(A):o;return c.createElement(mt,Zr({},f,{"aria-current":P,className:S,ref:n,style:R,to:d,viewTransition:u}),typeof y=="function"?y(A):y)});var Zi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zi||(Zi={}));var fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fu||(fu={}));function Mh(e){let t=c.useContext(ha);return t||Fe(!1),t}function Oh(e,t){let{target:n,replace:l,state:r,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,d=Fl(),u=ln(),y=ga(e,{relative:i});return c.useCallback(f=>{if(kh(f,n)){f.preventDefault();let g=l!==void 0?l:Jr(u)===Jr(y);d(e,{replace:g,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[u,d,y,l,r,n,e,a,i,o])}function Bh(e,t){t===void 0&&(t={});let n=c.useContext(Ph);n==null&&Fe(!1);let{basename:l}=Mh(Zi.useViewTransitionState),r=ga(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Fn(n.currentLocation.pathname,l)||n.currentLocation.pathname,i=Fn(n.nextLocation.pathname,l)||n.nextLocation.pathname;return Xi(r.pathname,i)!=null||Xi(r.pathname,a)!=null}const Uh="http://localhost:4000";function Qx(){return localStorage.getItem("jasiq_token")}function pu(e){if(!e){localStorage.removeItem("jasiq_token");return}localStorage.setItem("jasiq_token",e)}async function zh(e){const t=await e.text();try{return JSON.parse(t)}catch{return{error:{code:"HTTP_ERROR",message:t||e.statusText}}}}async function ne(e,{method:t,body:n,headers:l}={}){var y;const r=Qx(),a=await fetch(`${Uh}${e}`,{method:t||"GET",headers:{"content-type":"application/json",...r?{authorization:`Bearer ${r}`}:{},...l||{}},body:n?JSON.stringify(n):void 0});if(a.status===204)return null;const o=(a.headers.get("content-type")||"").includes("application/json");if(a.ok)return o?await a.json():null;const d=o?await a.json().catch(()=>null):await zh(a),u=new Error(((y=d==null?void 0:d.error)==null?void 0:y.message)||`Request failed (${a.status})`);throw u.status=a.status,u.payload=d,u}const Kx=c.createContext(null);function Fh(e){var p,b,T,D;const t=((p=e==null?void 0:e.navigation)==null?void 0:p.items)||[],n=((b=e==null?void 0:e.rbac)==null?void 0:b.permissions)||[],l=(e==null?void 0:e.systemConfig)||{},r=((T=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:T.value)??(l==null?void 0:l.TIMESHEET_ENABLED),a=String(r??"").trim().toLowerCase(),i=a==="true"||a==="1"||a==="yes"||a==="enabled"||a==="on",o=((D=l==null?void 0:l.LEAVE_ENABLED)==null?void 0:D.value)??(l==null?void 0:l.LEAVE_ENABLED),d=String(o??"").trim().toLowerCase(),u=d==="true"||d==="1"||d==="yes"||d==="enabled"||d==="on",y=n.includes("TIMESHEET_READ"),f=n.includes("TIMESHEET_APPROVAL_QUEUE_READ"),g=n.includes("LEAVE_REQUEST_READ"),j=n.includes("LEAVE_APPROVE_L1"),N=n.includes("LEAVE_APPROVE_L2"),w=n.includes("LEAVE_TYPE_READ"),C=n.includes("LEAVE_BALANCE_READ"),x=[...t],m=new Set(x.map(A=>A.path));i&&y&&!m.has("/timesheet/my")&&x.push({id:"timesheetMy",label:"My Timesheet",path:"/timesheet/my",requiredPermission:"TIMESHEET_READ"}),i&&y&&f&&!m.has("/timesheet/approvals")&&x.push({id:"timesheetApprovals",label:"Timesheet Approvals",path:"/timesheet/approvals",requiredPermission:"TIMESHEET_APPROVAL_QUEUE_READ"}),u&&g&&!m.has("/leave/my")&&x.push({id:"leaveMy",label:"My Leave",path:"/leave/my",requiredPermission:"LEAVE_REQUEST_READ"}),u&&g&&(j||N)&&!m.has("/leave/approvals")&&x.push({id:"leaveApprovals",label:"Leave Approvals",path:"/leave/approvals",requiredPermission:"LEAVE_REQUEST_READ"}),u&&w&&!m.has("/leave/types")&&x.push({id:"leaveTypes",label:"Leave Types",path:"/leave/types",requiredPermission:"LEAVE_TYPE_READ"}),u&&C&&!m.has("/leave/balances")&&x.push({id:"leaveBalances",label:"Leave Balances",path:"/leave/balances",requiredPermission:"LEAVE_BALANCE_READ"});const v={};for(const A of x)v[A.path]=A;return{...e,navigation:{items:x,byPath:v}}}function Vh({children:e}){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),[a,i]=c.useState(null),[o,d]=c.useState(Qx()),u=c.useCallback(async()=>{if(!o){r(null),n("idle");return}n("loading"),i(null);try{const g=await ne("/api/v1/app/bootstrap");r(Fh(g)),n("ready")}catch(g){if(g.status===401){pu(null),d(null),r(null),n("idle");return}i(g),n("error")}},[o]);c.useEffect(()=>{u()},[u]);const y=c.useCallback(g=>{pu(g),d(g||null)},[]),f=c.useMemo(()=>({status:t,bootstrap:l,error:a,refresh:u,setToken:y,token:o}),[t,l,a,u,y,o]);return s.jsx(Kx.Provider,{value:f,children:e})}function Qe(){const e=c.useContext(Kx);if(!e)throw new Error("BootstrapProvider missing");return e}function $h(){const{setToken:e,refresh:t}=Qe(),[n,l]=c.useState(""),r=c.useMemo(()=>n.trim().length>0,[n]);return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[s.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Paste a JWT to continue."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"JWT"}),s.jsx("textarea",{className:"mt-1 w-full h-32 rounded-md border-slate-300 focus:border-slate-500 focus:ring-slate-500 text-sm",value:n,onChange:a=>l(a.target.value),placeholder:"eyJ..."})]}),s.jsx("button",{type:"button",className:"mt-4 w-full inline-flex justify-center items-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{e(n.trim()),t()},disabled:!r,children:"Continue"}),s.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:["Default admin userId: ",s.jsx("span",{className:"font-mono",children:"00000000-0000-0000-0000-000000000001"})]})]})})}function Hh(){const{setToken:e,refresh:t}=Qe(),[n,l]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(!1),y=c.useMemo(()=>n.trim().length>0&&r.trim().length>0,[n,r]),f=async()=>{o(""),u(!0);try{const g=await ne("/api/v1/auth/admin/login",{method:"POST",body:{email:n.trim(),password:r}}),{accessToken:j}=g;e(j),await t()}catch(g){o(g.message||"Login failed")}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[s.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Admin Login"}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-slate-300 focus:border-slate-500 focus:ring-slate-500 text-sm",value:n,onChange:g=>l(g.target.value),placeholder:"admin@coreops.local",disabled:d})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-slate-300 focus:border-slate-500 focus:ring-slate-500 text-sm",value:r,onChange:g=>a(g.target.value),placeholder:"",disabled:d})]}),i&&s.jsx("div",{className:"mt-3 text-sm text-rose-600",children:i}),s.jsx("button",{type:"button",className:"mt-4 w-full inline-flex justify-center items-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:f,disabled:!y||d,children:d?"Signing in...":"Sign In"}),!1]})})}function Wh(){var i;const{bootstrap:e,setToken:t,refresh:n}=Qe(),l=((i=e==null?void 0:e.navigation)==null?void 0:i.items)||[],[r,a]=c.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"md:hidden bg-white border-b border-slate-200",children:s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>a(!0),children:"Menu"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Governance"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{t(null),n()},children:"Sign out"})]})}),r?s.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>a(!1)}),s.jsxs("div",{className:"relative h-full w-80 max-w-[85vw] bg-white border-r border-slate-200",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Governance Foundation"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>a(!1),children:"Close"})]}),s.jsx("nav",{className:"p-3",children:l.map(o=>s.jsx(xu,{to:o.path,onClick:()=>a(!1),className:({isActive:d})=>`block px-3 py-2 rounded-md text-sm ${d?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:o.label},o.id))})]})]}):null,s.jsxs("div",{className:"flex min-h-screen",children:[s.jsxs("aside",{className:"hidden md:flex md:flex-col w-72 bg-white border-r border-slate-200",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Governance Foundation"})]}),s.jsx("nav",{className:"p-3",children:l.map(o=>s.jsx(xu,{to:o.path,className:({isActive:d})=>`block px-3 py-2 rounded-md text-sm ${d?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:o.label},o.id))}),s.jsx("div",{className:"mt-auto p-3 border-t border-slate-200",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{t(null),n()},children:"Sign out"})})]}),s.jsx("main",{className:"flex-1 p-4 md:p-6",children:s.jsx(wh,{})})]})]})}function Yh(){return s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Not found"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"The requested page does not exist."})]})}function me({title:e,subtitle:t,right:n}){return s.jsxs("div",{className:"mb-4 flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-semibold text-slate-900",children:e}),t?s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:t}):null]}),n?s.jsx("div",{className:"shrink-0",children:n}):null]})}function bt({columns:e,rows:t}){return s.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 bg-white",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsx("tr",{children:e.map(n=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600",children:n.header},n.key))})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(n=>s.jsx("tr",{children:e.map(l=>s.jsx("td",{className:"px-4 py-2 text-sm text-slate-800",children:l.render(n.data)},l.key))},n.key))})]})})}function ke({label:e}){return s.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 text-sm text-slate-600",children:e||"Loading"})}function Ne({title:e,description:t}){return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:e||"No data"}),t?s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:t}):null]})}function ge(){return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Forbidden"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You dont have access to this screen."})]})}function q({error:e}){var l,r,a,i;const t=((r=(l=e==null?void 0:e.payload)==null?void 0:l.error)==null?void 0:r.message)||(e==null?void 0:e.message)||"Request failed",n=(i=(a=e==null?void 0:e.payload)==null?void 0:a.error)==null?void 0:i.requestId;return s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-rose-900",children:"Error"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800",children:t}),n?s.jsxs("div",{className:"mt-2 text-xs text-rose-700",children:["requestId: ",n]}):null]})}function je(e){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),a=c.useCallback(async(...i)=>{n("loading"),r(null);try{const o=await e(...i);return n("success"),o}catch(o){throw r(o),n("error"),o}},[e]);return{status:t,error:l,run:a}}function Ce({path:e,page:t,pageSize:n,enabled:l=!0}){const[r,a]=c.useState("idle"),[i,o]=c.useState(null),[d,u]=c.useState(null),[y,f]=c.useState(0),g=c.useCallback(()=>{f(N=>N+1)},[]),j=c.useMemo(()=>{const N=new URL(e,"http://local");return N.searchParams.set("page",String(t)),N.searchParams.set("pageSize",String(n)),N.pathname+N.search},[e,t,n]);return c.useEffect(()=>{if(!l)return;let N=!0;async function w(){a("loading"),u(null);try{const C=await ne(j);if(!N)return;o(C),a("ready")}catch(C){if(!N)return;u(C),a("error")}}return w(),()=>{N=!1}},[j,l,y]),{status:r,data:i,error:d,url:j,refresh:g}}function qh(){var P,S,R,_,Q,X,se,H,oe,I,z,k;const{bootstrap:e}=Qe(),t=((R=(S=(P=e==null?void 0:e.ui)==null?void 0:P.screens)==null?void 0:S.divisions)==null?void 0:R.title)||"Divisions",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[u,y]=c.useState(""),[f,g]=c.useState(!1),[j,N]=c.useState(null),[w,C]=c.useState(!1),[x,m]=c.useState(""),v=Ce({path:"/api/v1/governance/divisions",page:n,pageSize:r,enabled:!0}),p=je(async()=>ne("/api/v1/governance/divisions",{method:"POST",body:{code:a.trim(),name:o.trim(),reason:u||null}})),b=je(async({id:E,isActive:B,reason:de})=>ne(`/api/v1/governance/divisions/${E}/activation`,{method:"PATCH",body:{isActive:B,reason:de}})),T=c.useMemo(()=>a.trim().length>0&&o.trim().length>0,[a,o]),D=((_=v.data)==null?void 0:_.items)||[],A=((Q=v.data)==null?void 0:Q.total)||0;return v.status==="loading"&&!v.data?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Manage immutable divisions (activation only)."}),s.jsx(ke,{})]}):v.status==="error"?((X=v.error)==null?void 0:X.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:v.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Only activation can change after creation.",right:s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",A]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Create Division"}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:E=>i(E.target.value),maxLength:((oe=(H=(se=e==null?void 0:e.validation)==null?void 0:se.rules)==null?void 0:H.division)==null?void 0:oe.codeMax)||20})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:E=>d(E.target.value),maxLength:((k=(z=(I=e==null?void 0:e.validation)==null?void 0:I.rules)==null?void 0:z.division)==null?void 0:k.nameMax)||100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:E=>y(E.target.value)})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!T||p.status==="loading",onClick:async()=>{await p.run(),i(""),d(""),y(""),v.refresh()},children:p.status==="loading"?"Creating":"Create"}),p.status==="error"?s.jsx(q,{error:p.error}):null]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Activation Updates"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Activation changes require an explicit reason and are audited."})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Divisions"})}),D.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No divisions",description:"Create your first division to begin."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:D.map(E=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:E.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:E.name})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:E.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("button",{type:"button",className:"mt-3 w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:b.status==="loading",onClick:()=>{N(E),C(!E.isActive),m(""),g(!0)},children:["Set ",E.isActive?"Inactive":"Active"]})]},E.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsx(bt,{columns:[{key:"code",header:"Code",render:E=>s.jsx("span",{className:"font-mono",children:E.code})},{key:"name",header:"Name",render:E=>E.name},{key:"active",header:"Active",render:E=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:E.isActive?"ACTIVE":"INACTIVE"})},{key:"actions",header:"Actions",render:E=>s.jsxs("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:b.status==="loading",onClick:()=>{N(E),C(!E.isActive),m(""),g(!0)},children:["Set ",E.isActive?"Inactive":"Active"]})}],rows:D.map(E=>({key:E.id,data:E}))})})]})]}),f?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{b.status!=="loading"&&(g(!1),N(null),m(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:w?"Activate Division":"Deactivate Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:j?s.jsxs("span",{children:[j.code,"  ",j.name]}):null}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-md border-slate-300 text-sm",value:x,onChange:E=>m(E.target.value),placeholder:"Explain why this activation change is needed"}),x.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),b.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:b.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:b.status==="loading",onClick:()=>{g(!1),N(null),m("")},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:b.status==="loading"||x.trim().length===0||!j,onClick:async()=>{await b.run({id:j.id,isActive:w,reason:x.trim()}),g(!1),N(null),m(""),v.refresh()},children:b.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n<=1,onClick:()=>l(E=>Math.max(1,E-1)),children:"Prev"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n*r>=A,onClick:()=>l(E=>E+1),children:"Next"})]})]})]})}function Qh(e){const t=new URL("/api/v1/governance/projects","http://local");return e&&t.searchParams.set("divisionId",e),t.pathname+t.search}function Kh(){var Q,X,se,H,oe,I,z,k,E,B,de,le,W;const{bootstrap:e}=Qe(),t=((se=(X=(Q=e==null?void 0:e.ui)==null?void 0:Q.screens)==null?void 0:X.projects)==null?void 0:se.title)||"Projects",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[u,y]=c.useState(""),[f,g]=c.useState(""),[j,N]=c.useState(!1),[w,C]=c.useState(null),[x,m]=c.useState(!1),[v,p]=c.useState(""),b=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),T=Ce({path:Qh(a||null),page:n,pageSize:r,enabled:!0}),D=je(async()=>ne("/api/v1/governance/projects",{method:"POST",body:{divisionId:a,code:o.trim(),name:u.trim(),reason:f||null}})),A=je(async({id:O,isActive:fe,reason:F})=>ne(`/api/v1/governance/projects/${O}`,{method:"PATCH",body:{isActive:fe,reason:F}})),P=c.useMemo(()=>a.trim().length>0&&o.trim().length>0&&u.trim().length>0,[a,o,u]),S=((H=T.data)==null?void 0:H.items)||[],R=((oe=T.data)==null?void 0:oe.total)||0,_=((I=b.data)==null?void 0:I.items)||[];return T.status==="loading"&&!T.data?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Projects are scoped to a division."}),s.jsx(ke,{})]}):T.status==="error"?((z=T.error)==null?void 0:z.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:T.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Division-scoped projects.",right:s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",R]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm mb-6",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Create Project"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:O=>{i(O.target.value),l(1)},children:[s.jsx("option",{value:"",children:"Select"}),_.map(O=>s.jsxs("option",{value:O.id,children:[O.code,"  ",O.name]},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:O=>d(O.target.value),maxLength:((B=(E=(k=e==null?void 0:e.validation)==null?void 0:k.rules)==null?void 0:E.project)==null?void 0:B.codeMax)||30})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:O=>y(O.target.value),maxLength:((W=(le=(de=e==null?void 0:e.validation)==null?void 0:de.rules)==null?void 0:le.project)==null?void 0:W.nameMax)||150})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:f,onChange:O=>g(O.target.value)})]})]}),s.jsx("button",{type:"button",className:"mt-3 w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!P||D.status==="loading",onClick:async()=>{await D.run(),d(""),y(""),g(""),T.refresh()},children:D.status==="loading"?"Creating":"Create Project"}),D.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:D.error})}):null]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Projects"})}),S.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No projects",description:"Create a project after selecting a division."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:S.map(O=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:O.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:O.name})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:O.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("button",{type:"button",className:"mt-3 w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:A.status==="loading",onClick:()=>{C(O),m(!O.isActive),p(""),N(!0)},children:["Set ",O.isActive?"Inactive":"Active"]})]},O.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsx(bt,{columns:[{key:"code",header:"Code",render:O=>s.jsx("span",{className:"font-mono",children:O.code})},{key:"name",header:"Name",render:O=>O.name},{key:"active",header:"Active",render:O=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:O.isActive?"ACTIVE":"INACTIVE"})},{key:"actions",header:"Actions",render:O=>s.jsxs("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:A.status==="loading",onClick:()=>{C(O),m(!O.isActive),p(""),N(!0)},children:["Set ",O.isActive?"Inactive":"Active"]})}],rows:S.map(O=>({key:O.id,data:O}))})})]})]}),j?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{A.status!=="loading"&&(N(!1),C(null),p(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:x?"Activate Project":"Deactivate Project"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:w?s.jsxs("span",{children:[w.code,"  ",w.name]}):null}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-md border-slate-300 text-sm",value:v,onChange:O=>p(O.target.value),placeholder:"Explain why this activation change is needed"}),v.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),A.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:A.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:A.status==="loading",onClick:()=>{N(!1),C(null),p("")},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:A.status==="loading"||v.trim().length===0||!w,onClick:async()=>{await A.run({id:w.id,isActive:x,reason:v.trim()}),N(!1),C(null),p(""),T.refresh()},children:A.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n<=1,onClick:()=>l(O=>Math.max(1,O-1)),children:"Prev"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n*r>=R,onClick:()=>l(O=>O+1),children:"Next"})]})]})]})}function Gh(){var d,u,y,f,g;const{bootstrap:e}=Qe(),t=((y=(u=(d=e==null?void 0:e.ui)==null?void 0:d.screens)==null?void 0:u.rbac)==null?void 0:y.title)||"RBAC",[n,l]=c.useState("roles"),r=Ce({path:"/api/v1/governance/rbac/roles",page:1,pageSize:200,enabled:n==="roles"}),a=Ce({path:"/api/v1/governance/rbac/permissions",page:1,pageSize:200,enabled:n==="permissions"}),i=n==="roles"?r:a;if(i.status==="loading"&&!i.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ke,{})]});if(i.status==="error")return((f=i.error)==null?void 0:f.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:i.error})]});const o=((g=i.data)==null?void 0:g.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Viewer only (Phase 0)."}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm mb-6",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Browse"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:gap-2",children:[s.jsx("button",{type:"button",className:`w-full sm:w-auto rounded-md px-3 py-2 text-sm border ${n==="roles"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-100"}`,onClick:()=>l("roles"),children:"Roles"}),s.jsx("button",{type:"button",className:`w-full sm:w-auto rounded-md px-3 py-2 text-sm border ${n==="permissions"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-100"}`,onClick:()=>l("permissions"),children:"Permissions"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:n==="roles"?"Roles":"Permissions"})}),o.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No data"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:n==="roles"?o.map(j=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:j.name}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:j.description||"-"})]},j.id)):o.map(j=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:j.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:j.description||"-"})]},j.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:n==="roles"?s.jsx(bt,{columns:[{key:"name",header:"Name",render:j=>j.name},{key:"desc",header:"Description",render:j=>j.description||""}],rows:o.map(j=>({key:j.id,data:j}))}):s.jsx(bt,{columns:[{key:"code",header:"Code",render:j=>s.jsx("span",{className:"font-mono",children:j.code})},{key:"desc",header:"Description",render:j=>j.description||""}],rows:o.map(j=>({key:j.id,data:j}))})})]})]})]})]})}function Gx(e){const t=e instanceof Date?e:new Date(e);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function Xh(e){return(e instanceof Date?e:new Date(e)).toISOString().slice(0,7)}function cn(e){return Gx((e==null?void 0:e.monthEnd)||(e==null?void 0:e.monthStart)||(e==null?void 0:e.month))}function Jh(){var T,D,A,P,S,R;const{bootstrap:e}=Qe(),t=((A=(D=(T=e==null?void 0:e.ui)==null?void 0:T.screens)==null?void 0:D.monthClose)==null?void 0:A.title)||"Month Close",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(Xh(new Date)),[o,d]=c.useState("CLOSED"),[u,y]=c.useState(""),[f,g]=c.useState(null),j=Ce({path:"/api/v1/governance/month-close",page:n,pageSize:r,enabled:!0}),N=je(async()=>{const _=u.trim(),Q=Gx(`${a}-01`);return ne("/api/v1/governance/month-close/status",{method:"POST",body:{month:Q,status:o,reason:_||null}})}),w=((P=j.data)==null?void 0:P.items)||[],C=((S=j.data)==null?void 0:S.total)||0,x=o==="OPEN"||o==="CLOSED",m=u.trim().length>0,v=!!a&&!!o&&m,p=c.useMemo(()=>{const _=new Map;for(const Q of w){const X=cn(Q);_.has(X)||_.set(X,Q)}return Array.from(_.values()).sort((Q,X)=>{const se=cn(Q),H=cn(X);return new Date(H)-new Date(se)})},[w]),b=async()=>{try{const _=await N.run();g(_),y(""),await j.refetch()}catch{}};return j.status==="loading"&&!j.data?s.jsxs("div",{children:[s.jsx(me,{title:t}),s.jsx(ke,{})]}):j.status==="error"?((R=j.error)==null?void 0:R.status)===403?s.jsxs("div",{children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{children:[s.jsx(me,{title:t}),s.jsx(q,{error:j.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Month Close is a critical governance action"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Each action is recorded. Ensure the reason is clear and accurate."})]})]})}),s.jsx("div",{className:"mx-4 mb-4 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Months"}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:p.length})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Closed"}),s.jsx("div",{className:"text-2xl font-bold text-green-700 mt-1",children:p.filter(_=>_.status==="CLOSED").length})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Open"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:p.filter(_=>_.status==="OPEN").length})]})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm sticky top-4 z-10",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Apply Month Close Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Month"}),s.jsx("input",{type:"month",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:_=>i(_.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:_=>d(_.target.value),children:[s.jsx("option",{value:"OPEN",children:"OPEN"}),s.jsx("option",{value:"CLOSED",children:"CLOSED"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason"}),s.jsx("input",{className:`mt-1 w-full rounded-md border-slate-300 text-sm ${x&&!m?"border-rose-500":""}`,value:u,onChange:_=>y(_.target.value),placeholder:x?"Required":"Optional"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"w-full md:w-auto px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium disabled:bg-slate-400 disabled:cursor-not-allowed hover:bg-slate-800 transition-colors",disabled:!v||N.status==="loading",onClick:b,children:N.status==="loading"?"Applying...":"Apply"})})]}),N.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:N.error})}):null,f?s.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:[s.jsx("div",{className:"text-sm font-medium text-green-800",children:"Saved"}),s.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[cn(f),"  ",f.status,f.closedReason?` | ${f.closedReason}`:""]})]}):null]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"History"})}),w.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No month close entries",description:"Set a month status above."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:w.map(_=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Month"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:String(cn(_)).slice(0,10)})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:_.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:_.closedReason||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Closed At"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:_.closedAt?String(_.closedAt):"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Closed By"}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-700",children:_.closedBy||"-"})]})]})]})]},_.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsx(bt,{columns:[{key:"month",header:"Month",render:_=>s.jsx("span",{className:"font-mono text-sm",children:String(cn(_)).slice(0,10)})},{key:"status",header:"Status",render:_=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:_.status})},{key:"closedAt",header:"Closed At",render:_=>_.closedAt?String(_.closedAt):"-"},{key:"closedBy",header:"Closed By",render:_=>_.closedBy?s.jsx("span",{className:"font-mono text-xs",children:_.closedBy}):"-"},{key:"reason",header:"Reason",render:_=>_.closedReason||"-"}],rows:w.map(_=>({key:_.id,data:_}))})})]})]})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n<=1,onClick:()=>l(_=>Math.max(1,_-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," / Total ",C]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n*r>=C,onClick:()=>l(_=>_+1),children:"Next"})]})})]})}const Zh=[{label:"Admin",value:"00000000-0000-0000-0000-000000000001"},{label:"System",value:"system"},{label:"Service Account",value:"service-account"}];function ev(e){const t=new URL("/api/v1/governance/audit","http://local");for(const[n,l]of Object.entries(e))l==null||l===""||l==="undefined"||t.searchParams.set(n,String(l));return t.pathname+t.search}function tv(e){return e?e==="00000000-0000-0000-0000-000000000001"?"Admin":e==="system"?"System":e==="service-account"?"Service Account":e.slice(0,8)+"":"System"}function hu(e){const t=e==null?void 0:e.actorId,n=tv(t);return s.jsx("span",{className:"font-mono text-xs",title:t||"",children:n})}function vu(e,t){return e?t?`${e}:${t.slice(0,8)}`:e:""}function sv(){var x,m,v,p,b,T,D,A,P;const{bootstrap:e}=Qe(),t=((v=(m=(x=e==null?void 0:e.ui)==null?void 0:x.screens)==null?void 0:m.audit)==null?void 0:v.title)||"Audit Logs",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[u,y]=c.useState(""),f=a.trim(),g=o.trim(),j=c.useMemo(()=>{const S={};return f&&(S.entityType=f),g&&(S.action=g),u&&(S.actorId=u),ev(S)},[f,g,u]),N=Ce({path:j||"/api/v1/governance/audit",page:n,pageSize:r,enabled:!!j}),w=((p=N.data)==null?void 0:p.items)||[],C=((b=N.data)==null?void 0:b.total)||0;return N.status==="loading"&&!N.data?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ke,{})]}):N.status==="error"?((T=N.error)==null?void 0:T.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:N.error}),(P=(A=(D=N.error)==null?void 0:D.payload)==null?void 0:A.error)!=null&&P.message?s.jsxs("div",{className:"mx-4 mt-2 text-sm text-rose-700 md:mx-6 lg:mx-8",children:["Backend: ",N.error.payload.error.message]}):null]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Append-only audit trail"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Every governance action is recorded. Use filters to search."})]})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Entity Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:S=>{i(S.target.value)},placeholder:"division"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Action"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:S=>{d(S.target.value)},placeholder:"CREATE"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Actor"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Select actor who performed the action"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:S=>{y(S.target.value),l(1)},children:[s.jsx("option",{value:"",children:"Any"}),Zh.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))]})]})]}),s.jsx("button",{type:"button",className:"mt-3 w-full md:w-auto px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium disabled:bg-slate-400 disabled:cursor-not-allowed hover:bg-slate-800 transition-colors",disabled:!j,onClick:()=>{l(1)},children:"Filter"})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Audit Trail"})}),w.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No audit logs"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:w.map(S=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Time"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:new Date(S.createdAt).toLocaleString()})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.action==="CREATE"?"bg-green-100 text-green-800":S.action==="UPDATE"||S.action==="ACTIVATE"?"bg-blue-100 text-blue-800":S.action==="DELETE"||S.action==="DEACTIVATE"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:S.action})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Entity"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:vu(S.entityType,S.entityId)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Actor"}),s.jsx("div",{className:"mt-1",children:hu(S)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Request"}),s.jsxs("div",{className:"mt-1 font-mono text-xs text-slate-700",children:[S.requestId.slice(0,8),""]})]})]})]})]},S.id))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsx(bt,{columns:[{key:"createdAt",header:"Time",render:S=>s.jsx("span",{className:"text-xs text-slate-600",children:new Date(S.createdAt).toLocaleString()})},{key:"entity",header:"Entity",render:S=>s.jsx("span",{className:"font-mono text-sm",children:vu(S.entityType,S.entityId)})},{key:"action",header:"Action",render:S=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.action==="CREATE"?"bg-green-100 text-green-800":S.action==="UPDATE"||S.action==="ACTIVATE"?"bg-blue-100 text-blue-800":S.action==="DELETE"||S.action==="DEACTIVATE"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:S.action})},{key:"actor",header:"Actor",render:S=>hu(S)},{key:"request",header:"Request",render:S=>s.jsxs("span",{className:"font-mono text-xs",children:[S.requestId.slice(0,8),""]})}],rows:w.map(S=>({key:S.id,data:S}))})})]})]})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n<=1,onClick:()=>l(S=>Math.max(1,S-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," / Total ",C]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n*r>=C,onClick:()=>l(S=>S+1),children:"Next"})]})})]})}function nv(){var v,p,b,T,D,A;const{bootstrap:e}=Qe(),t=((b=(p=(v=e==null?void 0:e.ui)==null?void 0:v.screens)==null?void 0:p.systemConfig)==null?void 0:b.title)||"System Config",[n]=c.useState(1),[l]=c.useState(200),r=((T=e==null?void 0:e.rbac)==null?void 0:T.permissions)||[],a=c.useMemo(()=>r.includes("GOV_SYSTEM_CONFIG_WRITE"),[r]),[i,o]=c.useState(!1),[d,u]=c.useState(""),[y,f]=c.useState(""),[g,j]=c.useState(""),[N,w]=c.useState(""),C=Ce({path:"/api/v1/governance/system-config",page:n,pageSize:l,enabled:!0}),x=je(async()=>ne(`/api/v1/governance/system-config/${encodeURIComponent(d)}`,{method:"PUT",body:{value:y,description:g||null,reason:N||null}}));if(C.status==="loading"&&!C.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ke,{})]});if(C.status==="error")return((D=C.error)==null?void 0:D.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:C.error})]});const m=((A=C.data)==null?void 0:A.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Central system configuration controls."}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"System Config is critical"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Changes can impact enforcement and features. Use a clear reason for any update."})]})]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Write access"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:a?"You can update configuration values.":"Read-only: GOV_SYSTEM_CONFIG_WRITE is required to update values."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:()=>{u(""),f(""),j(""),w(""),o(!0)},children:"Add / Update"}):null]})}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Config Entries"})}),m.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Ne,{title:"No config entries"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:m.map(P=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:P.key}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:P.value}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:P.description||"-"}),a?s.jsx("button",{type:"button",className:"mt-3 w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{u(P.key),f(P.value),j(P.description||""),w(""),o(!0)},children:"Edit"}):null]},P.key))}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsx(bt,{columns:[{key:"key",header:"Key",render:P=>s.jsx("span",{className:"font-mono",children:P.key})},{key:"value",header:"Value",render:P=>P.value},{key:"desc",header:"Description",render:P=>P.description||""},...a?[{key:"actions",header:"Actions",render:P=>s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{u(P.key),f(P.value),j(P.description||""),w(""),o(!0)},children:"Edit"})}]:[]],rows:m.map(P=>({key:P.key,data:P}))})})]})]})]}),i?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{x.status!=="loading"&&o(!1)}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Update System Config"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Reason is required for any write."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Key"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:d,onChange:P=>u(P.target.value),placeholder:"PROJECTS_ENABLED",disabled:x.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Value"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:y,onChange:P=>f(P.target.value),placeholder:"true",disabled:x.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Description (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:g,onChange:P=>j(P.target.value),disabled:x.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:N,onChange:P=>w(P.target.value),disabled:x.status==="loading",placeholder:"Explain why this change is needed"}),N.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),x.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:x.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col-reverse sm:flex-row sm:items-center sm:justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x.status==="loading",onClick:()=>o(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:x.status==="loading"||!d.trim()||N.trim().length===0,onClick:async()=>{await x.run(),o(!1),C.refresh()},children:x.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function Gs(...e){return e.filter(Boolean).join(" ")}function lv({divisionId:e,scope:t,status:n}){const l=new URL("/api/v1/employees","http://local");return e&&l.searchParams.set("divisionId",e),t&&l.searchParams.set("scope",t),n&&l.searchParams.set("status",n),l.pathname+l.search}function cr(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function Hs({name:e,className:t}){const n={className:Gs("h-4 w-4",t),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};return e==="filter"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M3 5h18M6 12h12M10 19h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="search"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M21 21l-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="chevron"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="x"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M18 6 6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="edit"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M12 20h9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):e==="download"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M7 10l5 5 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 15V3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):null}function ur(e){const t=String(e||"").toUpperCase(),n=t==="ACTIVE"?"bg-emerald-50 text-emerald-700":t==="ON_HOLD"?"bg-amber-50 text-amber-800":t==="EXITED"?"bg-rose-50 text-rose-700":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t||""})}function mr(e){const t=String(e||"").toUpperCase(),n=t==="MONTHLY"?"bg-blue-50 text-blue-700":t==="HOURLY"?"bg-purple-50 text-purple-700":t==="ANNUAL"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t})}function un(e){const t=String(e||"").toUpperCase(),n=t==="DIVISION"?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t||""})}function Fs(e){const t=(e==null?void 0:e.firstName)||"",n=(e==null?void 0:e.lastName)||"";return`${t} ${n}`.trim()||""}function mn(e,t){if(!t)return"";const n=e[t];return n?`${n.code}  ${n.name}`:t.slice(0,8)+""}function sl({title:e,open:t,onToggle:n,children:l}){return s.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between",onClick:n,children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:e}),s.jsx("div",{className:Gs("transition-transform",t?"rotate-180":""),children:s.jsx(Hs,{name:"chevron",className:"text-slate-500"})})]}),t?s.jsx("div",{className:"mt-3",children:l}):null]})}function wt({label:e,checked:t,onChange:n,count:l,disabled:r=!1}){return s.jsxs("button",{type:"button",className:Gs("w-full flex items-center justify-between rounded-lg px-3 py-2 text-sm",r?"text-slate-400 cursor-not-allowed":"text-slate-700 hover:bg-slate-50",t?"bg-slate-100":""),onClick:()=>{r||n()},disabled:r,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:Gs("h-4 w-4 rounded-full border flex items-center justify-center",t?"border-slate-900":"border-slate-300"),children:t?s.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-900"}):null}),s.jsx("span",{children:e})]}),typeof l=="number"?s.jsx("span",{className:"text-xs text-slate-500",children:l}):null]})}function rv(){var Cd,kd,Td,Ad,Ld,Pd,Dd,Rd,Id,_d,Md,Od,Bd,Ud,zd,Fd,Vd,$d,Hd,Wd,Yd,qd,Qd,Kd,Gd;const{bootstrap:e}=Qe(),t=((Td=(kd=(Cd=e==null?void 0:e.ui)==null?void 0:Cd.screens)==null?void 0:kd.employees)==null?void 0:Td.title)||"Employees",n=((Ad=e==null?void 0:e.rbac)==null?void 0:Ad.permissions)||[],l=n.includes("EMPLOYEE_WRITE"),r=n.includes("EMPLOYEE_COMPENSATION_WRITE"),a=n.includes("EMPLOYEE_DOCUMENT_WRITE"),[i,o]=c.useState(1),[d]=c.useState(20),[u,y]=c.useState(""),[f,g]=c.useState(""),[j,N]=c.useState(""),[w,C]=c.useState(""),[x,m]=c.useState(""),[v,p]=c.useState(!1),[b,T]=c.useState(!1),[D,A]=c.useState(!0),[P,S]=c.useState(!0),[R,_]=c.useState(!0),[Q,X]=c.useState(!1),[se,H]=c.useState(!0),oe=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),I=c.useMemo(()=>{var ie;const h=((ie=oe.data)==null?void 0:ie.items)||[],te={};for(const Se of h)te[Se.id]=Se;return te},[oe.data]),z=Ce({path:lv({divisionId:u||null,scope:f||null,status:j||null}),page:i,pageSize:d,enabled:!0}),k=((Ld=z.data)==null?void 0:Ld.items)||[],E=((Pd=z.data)==null?void 0:Pd.total)||0,B=c.useMemo(()=>x?x==="NONE"?k.filter(h=>!h.compensationType):k.filter(h=>h.compensationType===x):k,[k,x]),de=c.useMemo(()=>{const h=String(w||"").trim().toLowerCase();return h?B.filter(te=>{const ie=String(te.employeeCode||"").toLowerCase(),Se=Fs(te).toLowerCase();return ie.includes(h)||Se.includes(h)}):B},[B,w]),le=c.useMemo(()=>{const h={ACTIVE:0,ON_HOLD:0,EXITED:0},te={COMPANY:0,DIVISION:0},ie={};for(const Se of k){Se.status&&h[Se.status]!==void 0&&(h[Se.status]+=1),Se.scope&&te[Se.scope]!==void 0&&(te[Se.scope]+=1);const Ca=Se.primaryDivisionId||"";Ca&&(ie[Ca]=(ie[Ca]||0)+1)}return{statusCounts:h,scopeCounts:te,divisionCounts:ie}},[k]),[W,O]=c.useState(null),[fe,F]=c.useState("profile"),[re,Y]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),$e=()=>Y(h=>({...h,refreshIndex:h.refreshIndex+1}));c.useEffect(()=>{let h=!0;async function te(){if(!W){Y(ie=>({...ie,status:"idle",data:null,error:null}));return}Y(ie=>({...ie,status:"loading",error:null}));try{const ie=await ne(`/api/v1/employees/${W}`);if(!h)return;Y(Se=>({...Se,status:"ready",data:ie,error:null}))}catch(ie){if(!h)return;Y(Se=>({...Se,status:"error",error:ie}))}}return te(),()=>{h=!1}},[W,re.refreshIndex]);const U=((Dd=re.data)==null?void 0:Dd.item)||null,De=(U==null?void 0:U.status)==="EXITED",[we,Oe]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),pt=()=>Oe(h=>({...h,refreshIndex:h.refreshIndex+1}));c.useEffect(()=>{let h=!0;async function te(){if(!(!W||fe!=="compensation")){Oe(ie=>({...ie,status:"loading",error:null}));try{const ie=await ne(`/api/v1/employees/${W}/compensation`);if(!h)return;Oe(Se=>({...Se,status:"ready",data:ie,error:null}))}catch(ie){if(!h)return;Oe(Se=>({...Se,status:"error",error:ie}))}}}return te(),()=>{h=!1}},[W,fe,we.refreshIndex]);const[We,ce]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),Je=()=>ce(h=>({...h,refreshIndex:h.refreshIndex+1}));c.useEffect(()=>{let h=!0;async function te(){if(!(!W||fe!=="documents")){ce(ie=>({...ie,status:"loading",error:null}));try{const ie=await ne(`/api/v1/employees/${W}/documents`);if(!h)return;ce(Se=>({...Se,status:"ready",data:ie,error:null}))}catch(ie){if(!h)return;ce(Se=>({...Se,status:"error",error:ie}))}}}return te(),()=>{h=!1}},[W,fe,We.refreshIndex]);const Z=je(async h=>ne("/api/v1/employees",{method:"POST",body:h,headers:h!=null&&h.idempotencyKey?{"x-idempotency-key":h.idempotencyKey}:void 0})),xe=je(async({id:h,payload:te})=>ne(`/api/v1/employees/${h}`,{method:"PATCH",body:te})),ee=je(async({id:h,payload:te})=>ne(`/api/v1/employees/${h}/change-scope`,{method:"POST",body:te})),Re=je(async({id:h,payload:te})=>ne(`/api/v1/employees/${h}/change-status`,{method:"POST",body:te})),Be=je(async({id:h,payload:te})=>ne(`/api/v1/employees/${h}/compensation`,{method:"POST",body:te})),K=je(async({id:h,payload:te})=>ne(`/api/v1/employees/${h}/documents`,{method:"POST",body:te})),Ie=je(async({id:h,docId:te})=>ne(`/api/v1/employees/${h}/documents/${te}/download`)),[ve,G]=c.useState(!1),[pe,ue]=c.useState("create"),[_e,lt]=c.useState(""),[dt,Rs]=c.useState(""),[Is,_s]=c.useState(""),[rn,Ms]=c.useState(""),[an,Os]=c.useState(""),[qn,Bs]=c.useState("ACTIVE"),[Gt,Us]=c.useState("COMPANY"),[on,zs]=c.useState(""),[L,J]=c.useState(""),[V,ae]=c.useState(""),be=()=>{ue("create"),lt(""),Rs(""),_s(""),Ms(""),Os(""),Bs("ACTIVE"),Us("COMPANY"),zs(""),J(""),ae(""),G(!0)},Ye=h=>{h&&(ue("edit"),lt(h.employeeCode||""),Rs(h.firstName||""),_s(h.lastName||""),Ms(h.email||""),Os(h.phone||""),Bs(h.status||"ACTIVE"),Us(h.scope||"COMPANY"),zs(h.primaryDivisionId||""),J(""),ae(""),G(!0))},Nt=()=>{U&&(ue("edit"),lt(U.employeeCode||""),Rs(U.firstName||""),_s(U.lastName||""),Ms(U.email||""),Os(U.phone||""),Bs(U.status||"ACTIVE"),Us(U.scope||"COMPANY"),zs(U.primaryDivisionId||""),J(""),ae(""),G(!0))},[Ae,$t]=c.useState(!1),[ds,Zo]=c.useState("COMPANY"),[ya,ed]=c.useState(""),[Vl,td]=c.useState(""),sd=()=>{U&&(Zo(U.scope||"COMPANY"),ed(U.primaryDivisionId||""),td(""),$t(!0))},[Zx,$l]=c.useState(!1),[nd,ld]=c.useState("ACTIVE"),[rd,ad]=c.useState(""),id=()=>{U&&(ld(U.status||"ACTIVE"),ad(""),$l(!0))},[ef,Hl]=c.useState(!1),[ja,od]=c.useState(""),[dd,cd]=c.useState("USD"),[ud,md]=c.useState("MONTHLY"),[ba,xd]=c.useState(""),[Wl,fd]=c.useState(""),pd=()=>{od(""),cd("USD"),md("MONTHLY"),xd(""),fd(""),Hl(!0)},[tf,Yl]=c.useState(!1),[Na,hd]=c.useState(""),[wa,vd]=c.useState(""),[Sa,gd]=c.useState(""),[yd,jd]=c.useState(""),[Ea,bd]=c.useState(""),[Nd,wd]=c.useState(""),Sd=()=>{hd(""),vd(""),gd(""),jd(""),bd(""),wd(""),Yl(!0)};if(z.status==="loading"&&!z.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ke,{})]});if(z.status==="error")return((Rd=z.error)==null?void 0:Rd.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(ge,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t}),s.jsx(q,{error:z.error})]});const Ed=s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Filters"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Counts reflect the current page."})]}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50",onClick:()=>{y(""),g(""),N(""),C(""),o(1)},children:"Clear"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-2",children:[s.jsx(Hs,{name:"search",className:"text-slate-400"}),s.jsx("input",{className:"w-full border-0 p-0 text-sm focus:ring-0",value:w,onChange:h=>C(h.target.value),placeholder:"Search by name or code"})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"border-t border-slate-100"}),s.jsx(sl,{title:"Status",open:D,onToggle:()=>A(h=>!h),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"Any",checked:!j,count:k.length,onChange:()=>{N(""),o(1)}}),s.jsx(wt,{label:"Active",checked:j==="ACTIVE",count:le.statusCounts.ACTIVE,onChange:()=>{N("ACTIVE"),o(1)}}),s.jsx(wt,{label:"On hold",checked:j==="ON_HOLD",count:le.statusCounts.ON_HOLD,onChange:()=>{N("ON_HOLD"),o(1)}}),s.jsx(wt,{label:"Exited",checked:j==="EXITED",count:le.statusCounts.EXITED,onChange:()=>{N("EXITED"),o(1)}})]})}),s.jsx(sl,{title:"Scope",open:P,onToggle:()=>S(h=>!h),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"Any",checked:!f,count:k.length,onChange:()=>{g(""),o(1)}}),s.jsx(wt,{label:"Company",checked:f==="COMPANY",count:le.scopeCounts.COMPANY,onChange:()=>{g("COMPANY"),o(1)}}),s.jsx(wt,{label:"Division",checked:f==="DIVISION",count:le.scopeCounts.DIVISION,onChange:()=>{g("DIVISION"),o(1)}})]})}),s.jsx(sl,{title:"Division",open:R,onToggle:()=>_(h=>!h),children:s.jsxs("div",{className:"space-y-1 max-h-64 overflow-auto pr-1",children:[s.jsx(wt,{label:"Any",checked:!u,count:k.length,onChange:()=>{y(""),o(1)}}),(((Id=oe.data)==null?void 0:Id.items)||[]).map(h=>{const te=le.divisionCounts[h.id]||0;return s.jsx(wt,{label:`${h.code}  ${h.name}`,checked:u===h.id,count:te,onChange:()=>{y(h.id),o(1)}},h.id)})]})}),s.jsx(sl,{title:"Employment Type",open:Q,onToggle:()=>X(h=>!h),children:s.jsx("div",{className:"space-y-1",children:s.jsx(wt,{label:"Not available",checked:!0,count:0,onChange:()=>{},disabled:!0})})}),s.jsx(sl,{title:"Compensation Type",open:se,onToggle:()=>H(h=>!h),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"All",checked:!x,count:k.length,onChange:()=>{m(""),o(1)}}),["MONTHLY","HOURLY","ANNUAL"].map(h=>{const te=k.filter(ie=>ie.compensationType===h).length;return s.jsx(wt,{label:h,checked:x===h,count:te,onChange:()=>{m(h),o(1)}},h)}),s.jsx(wt,{label:"None",checked:x==="NONE",count:k.filter(h=>!h.compensationType).length,onChange:()=>{m("NONE"),o(1)}})]})})]})]});return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Directory",right:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"inline-flex lg:hidden items-center gap-2 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>T(!0),children:[s.jsx(Hs,{name:"filter",className:"text-slate-600"}),"Filters"]}),l?s.jsx("button",{type:"button",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:be,children:"Add Employee"}):null]})}),b?s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-slate-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Filters"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white p-2 text-slate-700",onClick:()=>T(!1),children:s.jsx(Hs,{name:"x"})})]}),s.jsx("div",{className:"mt-4",children:Ed})]})]}):null,W&&v?s.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 xl:hidden",children:[s.jsx("div",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>p(!1),children:"Back"}),s.jsx("div",{className:"min-w-0 text-sm font-semibold text-slate-900 truncate",children:"Employee"}),s.jsx("div",{className:"w-[68px]"})]})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:U?cr(U):""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:U?Fs(U):"Employee detail"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:U?`${U.employeeCode}  ${U.email||""}`:"Select an employee to view details."})]})]}),U?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||xe.status==="loading",onClick:Nt,children:"Edit Profile"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||ee.status==="loading",onClick:sd,children:"Change Scope"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||Re.status==="loading",onClick:id,children:"Change Status"}):null]}):null]}),U?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[ur(U.status),U.compensationType?mr(U.compensationType):null,un(U.scope),U.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:mn(I,U.primaryDivisionId)}):null]}):null,De?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Status is EXITED. Write actions are disabled."}):null,s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"profile",label:"Profile"},{id:"scope",label:"Scope History"},{id:"compensation",label:"Compensation"},{id:"documents",label:"Documents"}].map(h=>s.jsx("button",{type:"button",className:Gs("rounded-lg px-3 py-2 text-sm font-medium",fe===h.id?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",U?"":"opacity-50 cursor-not-allowed"),onClick:()=>F(h.id),disabled:!U,children:h.label},h.id))})})]}),s.jsx("div",{className:"p-4",children:W?re.status==="loading"?s.jsx(ke,{label:"Loading employee"}):re.status==="error"?((_d=re.error)==null?void 0:_d.status)===403?s.jsx(ge,{}):s.jsx(q,{error:re.error}):U?s.jsxs(s.Fragment,{children:[fe==="profile"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Employee Code"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:U.employeeCode})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Name"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:Fs(U)})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Email"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:U.email||""})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Phone"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:U.phone||""})]})]}):null,fe==="scope"?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Scope History"}),s.jsx("div",{className:"mt-2 grid grid-cols-1 gap-3",children:(((Md=re.data)==null?void 0:Md.scopeHistory)||[]).length===0?s.jsx(Ne,{title:"No scope history"}):(((Od=re.data)==null?void 0:Od.scopeHistory)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Scope"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[un(h.scope),h.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:mn(I,h.primaryDivisionId)}):null]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[new Date(h.effectiveFrom).toLocaleString(),"  ",h.effectiveTo?new Date(h.effectiveTo).toLocaleString():"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:h.reason})]})]},h.id))})]}):null,fe==="compensation"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Compensation"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Append-only versions. Effective dates must not overlap."})]}),r?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!U||De||Be.status==="loading",onClick:pd,children:"Add Version"}):null]}),s.jsx("div",{className:"mt-3",children:we.status==="loading"?s.jsx(ke,{label:"Loading compensation"}):we.status==="error"?s.jsx(q,{error:we.error}):(((Bd=we.data)==null?void 0:Bd.items)||[]).length===0?s.jsx(Ne,{title:"No compensation versions"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Ud=we.data)==null?void 0:Ud.items)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Amount"}),s.jsxs("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:[h.currency," ",Number(h.amount).toFixed(2)," (",h.frequency,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[String(h.effectiveFrom),"  ",h.effectiveTo?String(h.effectiveTo):"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:h.reason})]})]},h.id))})})]}):null,fe==="documents"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Documents"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Metadata only. Downloads use signed URLs."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!U||De||K.status==="loading",onClick:Sd,children:"Upload Metadata"}):null]}),s.jsx("div",{className:"mt-3",children:We.status==="loading"?s.jsx(ke,{label:"Loading documents"}):We.status==="error"?s.jsx(q,{error:We.error}):(((zd=We.data)==null?void 0:zd.items)||[]).length===0?s.jsx(Ne,{title:"No documents"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Fd=We.data)==null?void 0:Fd.items)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:h.fileName}),h.isActive?s.jsx("span",{className:"inline-flex rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-700",children:"Inactive"})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:h.documentType})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:!h.isActive||Ie.status==="loading",onClick:async()=>{const te=await Ie.run({id:W,docId:h.id}),ie=te==null?void 0:te.url;ie&&window.open(ie,"_blank","noopener,noreferrer")},children:[s.jsx(Hs,{name:"download"}),"Download"]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"MIME"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.mimeType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Size"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:typeof h.sizeBytes=="number"?`${h.sizeBytes} bytes`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.uploadedAt?new Date(h.uploadedAt).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded By"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.uploadedBy?String(h.uploadedBy).slice(0,8)+"":""})]})]})]},h.id))})})]}):null]}):null:s.jsx(Ne,{title:"No employee selected",description:"Pick someone from the directory to view profile, history, compensation and documents."})})]})})]}):null,s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 pb-8",children:[s.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:s.jsx("div",{className:"sticky top-6",children:Ed})}),s.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Employees"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Showing ",de.length," on this page  Total ",E]})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Page ",i]})]})}),de.length===0?s.jsx("div",{className:"p-6",children:s.jsx(Ne,{title:"No employees",description:"Try changing filters or search."})}):s.jsxs("div",{children:[s.jsx("div",{className:"md:hidden p-3 space-y-2",children:de.map(h=>{const te=W===h.id;return s.jsx("button",{type:"button",className:Gs("w-full text-left rounded-2xl border p-4 shadow-sm",te?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>{O(h.id),F("profile"),p(!0)},children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:cr(h)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Fs(h)}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs text-slate-600",children:h.employeeCode}),ur(h.status),un(h.scope),h.compensationType?mr(h.compensationType):null]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:mn(I,h.primaryDivisionId)})]})]})})},h.id)})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Avatar"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Code"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Compensation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Scope"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Division"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:de.map(h=>{const te=W===h.id,ie=h.status==="EXITED";return s.jsxs("tr",{className:te?"bg-slate-50":"",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{type:"button",className:"flex items-center gap-3 text-left",onClick:()=>{O(h.id),F("profile"),p(!0)},children:s.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:cr(h)})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-mono text-sm text-slate-900",children:h.employeeCode})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Fs(h)}),s.jsx("div",{className:"text-xs text-slate-500",children:h.email||""})]}),s.jsx("td",{className:"px-4 py-3",children:ur(h.status)}),s.jsx("td",{className:"px-4 py-3",children:h.compensationType?mr(h.compensationType):s.jsx("span",{className:"text-xs text-slate-400",children:""})}),s.jsx("td",{className:"px-4 py-3",children:un(h.scope)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:mn(I,h.primaryDivisionId)})}),s.jsx("td",{className:"px-4 py-3 text-right",children:l?s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:ie,onClick:()=>{O(h.id),F("profile"),Ye(h)},children:[s.jsx(Hs,{name:"edit"}),"Edit"]}):s.jsx("span",{className:"text-xs text-slate-400",children:""})})]},h.id)})})]})})}),s.jsx("div",{className:"p-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:i<=1,onClick:()=>o(h=>Math.max(1,h-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",i]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:i*d>=E,onClick:()=>o(h=>h+1),children:"Next"})]})})]})]}),s.jsxs("div",{className:"hidden xl:block bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:U?cr(U):""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:U?Fs(U):"Employee detail"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:U?`${U.employeeCode}  ${U.email||""}`:"Select an employee to view details."})]})]}),U?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||xe.status==="loading",onClick:Nt,children:"Edit Profile"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||ee.status==="loading",onClick:sd,children:"Change Scope"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:De||Re.status==="loading",onClick:id,children:"Change Status"}):null]}):null]}),U?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[ur(U.status),U.compensationType?mr(U.compensationType):null,un(U.scope),U.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:mn(I,U.primaryDivisionId)}):null]}):null,De?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Status is EXITED. Write actions are disabled."}):null,s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"profile",label:"Profile"},{id:"scope",label:"Scope History"},{id:"compensation",label:"Compensation"},{id:"documents",label:"Documents"}].map(h=>s.jsx("button",{type:"button",className:Gs("rounded-lg px-3 py-2 text-sm font-medium",fe===h.id?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",U?"":"opacity-50 cursor-not-allowed"),onClick:()=>F(h.id),disabled:!U,children:h.label},h.id))})})]}),s.jsx("div",{className:"p-4",children:W?re.status==="loading"?s.jsx(ke,{label:"Loading employee"}):re.status==="error"?((Vd=re.error)==null?void 0:Vd.status)===403?s.jsx(ge,{}):s.jsx(q,{error:re.error}):U?s.jsxs(s.Fragment,{children:[fe==="profile"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Employee Code"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:U.employeeCode})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Name"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:Fs(U)})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Email"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:U.email||""})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Phone"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:U.phone||""})]})]}):null,fe==="scope"?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Scope History"}),s.jsx("div",{className:"mt-2 grid grid-cols-1 gap-3",children:((($d=re.data)==null?void 0:$d.scopeHistory)||[]).length===0?s.jsx(Ne,{title:"No scope history"}):(((Hd=re.data)==null?void 0:Hd.scopeHistory)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Scope"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[un(h.scope),h.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:mn(I,h.primaryDivisionId)}):null]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[new Date(h.effectiveFrom).toLocaleString(),"  ",h.effectiveTo?new Date(h.effectiveTo).toLocaleString():"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:h.reason})]})]},h.id))})]}):null,fe==="compensation"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Compensation"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Append-only versions. Effective dates must not overlap."})]}),r?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!U||De||Be.status==="loading",onClick:pd,children:"Add Version"}):null]}),s.jsx("div",{className:"mt-3",children:we.status==="loading"?s.jsx(ke,{label:"Loading compensation"}):we.status==="error"?s.jsx(q,{error:we.error}):(((Wd=we.data)==null?void 0:Wd.items)||[]).length===0?s.jsx(Ne,{title:"No compensation versions"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Yd=we.data)==null?void 0:Yd.items)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Amount"}),s.jsxs("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:[h.currency," ",Number(h.amount).toFixed(2)," (",h.frequency,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[String(h.effectiveFrom),"  ",h.effectiveTo?String(h.effectiveTo):"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:h.reason})]})]},h.id))})})]}):null,fe==="documents"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Documents"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Metadata only. Downloads use signed URLs."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!U||De||K.status==="loading",onClick:Sd,children:"Upload Metadata"}):null]}),s.jsx("div",{className:"mt-3",children:We.status==="loading"?s.jsx(ke,{label:"Loading documents"}):We.status==="error"?s.jsx(q,{error:We.error}):(((qd=We.data)==null?void 0:qd.items)||[]).length===0?s.jsx(Ne,{title:"No documents"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Qd=We.data)==null?void 0:Qd.items)||[]).map(h=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:h.fileName}),h.isActive?s.jsx("span",{className:"inline-flex rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-700",children:"Inactive"})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:h.documentType})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:!h.isActive||Ie.status==="loading",onClick:async()=>{const te=await Ie.run({id:W,docId:h.id}),ie=te==null?void 0:te.url;ie&&window.open(ie,"_blank","noopener,noreferrer")},children:[s.jsx(Hs,{name:"download"}),"Download"]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"MIME"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.mimeType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Size"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:typeof h.sizeBytes=="number"?`${h.sizeBytes} bytes`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.uploadedAt?new Date(h.uploadedAt).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded By"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:h.uploadedBy?String(h.uploadedBy).slice(0,8)+"":""})]})]})]},h.id))})})]}):null]}):null:s.jsx(Ne,{title:"No employee selected",description:"Pick someone from the directory to view profile, history, compensation and documents."})})]})]})})]})}),ve?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Z.status==="loading"||xe.status==="loading"||G(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:pe==="create"?"Create Employee":"Edit Employee"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono disabled:bg-slate-50",value:_e,onChange:h=>lt(h.target.value),disabled:pe!=="create"}),pe!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Employee code is immutable."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:qn,onChange:h=>Bs(h.target.value),disabled:pe!=="create",children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]}),pe!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Status for lifecycle transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"First Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:dt,onChange:h=>Rs(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Is,onChange:h=>_s(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:rn,onChange:h=>Ms(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Phone"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:an,onChange:h=>Os(h.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:Gt,onChange:h=>Us(h.target.value),disabled:pe!=="create",children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]}),pe!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Scope for scope transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:on,onChange:h=>zs(h.target.value),disabled:pe!=="create"||Gt!=="DIVISION",children:[s.jsx("option",{value:"",children:Gt==="DIVISION"?"Select":""}),(((Kd=oe.data)==null?void 0:Kd.items)||[]).map(h=>s.jsxs("option",{value:h.id,children:[h.code,"  ",h.name]},h.id))]})]}),pe==="create"?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Idempotency Key (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:V,onChange:h=>ae(h.target.value)}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If provided, repeated creates will return the same employee."})]}):null,s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:L,onChange:h=>J(h.target.value)})]})]}),Z.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:Z.error})}):null,xe.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:xe.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Z.status==="loading"||xe.status==="loading",onClick:()=>G(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:(pe==="create"?Z.status==="loading":xe.status==="loading")||_e.trim().length===0||dt.trim().length===0||Is.trim().length===0||pe==="create"&&Gt==="DIVISION"&&!on,onClick:async()=>{if(pe==="create"){const te={employeeCode:_e.trim(),firstName:dt.trim(),lastName:Is.trim(),email:rn.trim()||null,phone:an.trim()||null,status:qn,scope:Gt,primaryDivisionId:Gt==="DIVISION"?on:null,reason:L.trim()||null,idempotencyKey:V.trim()||null},ie=await Z.run(te),Se=ie==null?void 0:ie.item;G(!1),z.refresh(),Se!=null&&Se.id&&(O(Se.id),F("profile"),$e());return}if(!W)return;const h={firstName:dt.trim()||null,lastName:Is.trim()||null,email:rn.trim()||null,phone:an.trim()||null,reason:L.trim()||null};await xe.run({id:W,payload:h}),G(!1),z.refresh(),$e()},children:pe==="create"?Z.status==="loading"?"Creating":"Create":xe.status==="loading"?"Saving":"Save"})]})]})]}):null,Ae?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{ee.status!=="loading"&&$t(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Scope"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Scope changes are append-only and require a reason."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ds,onChange:h=>Zo(h.target.value),children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:ya,onChange:h=>ed(h.target.value),disabled:ds!=="DIVISION",children:[s.jsx("option",{value:"",children:ds==="DIVISION"?"Select":""}),(((Gd=oe.data)==null?void 0:Gd.items)||[]).map(h=>s.jsxs("option",{value:h.id,children:[h.code,"  ",h.name]},h.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Vl,onChange:h=>td(h.target.value)}),Vl.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),ee.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:ee.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:ee.status==="loading",onClick:()=>$t(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:ee.status==="loading"||!W||Vl.trim().length===0||ds==="DIVISION"&&!ya,onClick:async()=>{await ee.run({id:W,payload:{scope:ds,primaryDivisionId:ds==="DIVISION"?ya:null,reason:Vl.trim()}}),$t(!1),z.refresh(),$e()},children:ee.status==="loading"?"Saving":"Confirm"})]})]})]}):null,Zx?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Re.status!=="loading"&&$l(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Status"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Status affects payroll and attendance eligibility."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:nd,onChange:h=>ld(h.target.value),children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:rd,onChange:h=>ad(h.target.value)})]})]}),Re.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:Re.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Re.status==="loading",onClick:()=>$l(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Re.status==="loading"||!W,onClick:async()=>{await Re.run({id:W,payload:{status:nd,reason:rd.trim()||null}}),$l(!1),z.refresh(),$e()},children:Re.status==="loading"?"Saving":"Confirm"})]})]})]}):null,ef?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Be.status!=="loading"&&Hl(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Add Compensation Version"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Effective dates must not overlap. Reason is required."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ja,onChange:h=>od(h.target.value),placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Currency"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:dd,onChange:h=>cd(h.target.value),placeholder:"USD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Frequency"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ud,onChange:h=>md(h.target.value),children:[s.jsx("option",{value:"HOURLY",children:"HOURLY"}),s.jsx("option",{value:"MONTHLY",children:"MONTHLY"}),s.jsx("option",{value:"ANNUAL",children:"ANNUAL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Effective From"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",type:"date",value:ba,onChange:h=>xd(h.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Wl,onChange:h=>fd(h.target.value)}),Wl.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),Be.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:Be.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Be.status==="loading",onClick:()=>Hl(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Be.status==="loading"||!W||Wl.trim().length===0||ba.trim().length===0||ja.trim().length===0,onClick:async()=>{await Be.run({id:W,payload:{amount:Number(ja),currency:dd.trim().toUpperCase(),frequency:ud,effectiveFrom:ba,reason:Wl.trim()}}),Hl(!1),pt()},children:Be.status==="loading"?"Saving":"Confirm"})]})]})]}):null,tf?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{K.status!=="loading"&&Yl(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Employee Document (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey. No deletes; documents can only be deactivated."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Document Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Na,onChange:h=>hd(h.target.value),placeholder:"OFFER_LETTER"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:wa,onChange:h=>vd(h.target.value),placeholder:"offer-letter.pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:Sa,onChange:h=>gd(h.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:yd,onChange:h=>jd(h.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size (bytes, optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Ea,onChange:h=>bd(h.target.value),placeholder:"12345"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Nd,onChange:h=>wd(h.target.value)})]})]}),K.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:K.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:K.status==="loading",onClick:()=>Yl(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:K.status==="loading"||!W||Na.trim().length===0||wa.trim().length===0||Sa.trim().length===0,onClick:async()=>{await K.run({id:W,payload:{documentType:Na.trim(),fileName:wa.trim(),storageKey:Sa.trim(),mimeType:yd.trim()||null,sizeBytes:Ea.trim().length>0?Number(Ea):null,reason:Nd.trim()||null}}),Yl(!1),Je()},children:K.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function xn(e){return e&&typeof e=="string"?e.slice(0,10):null}function gu(e){return String(e).padStart(2,"0")}function av(e){return e%4===0&&e%100!==0||e%400===0}function iv(e,t){return t===2?av(e)?29:28:t===4||t===6||t===9||t===11?30:31}function ov(e,t){const n=[],l=t+1,r=iv(e,l);for(let a=1;a<=r;a++)n.push(`${e}-${gu(l)}-${gu(a)}`);return n}function ei(...e){return e.filter(Boolean).join(" ")}function dv(e){return e.slice(0,7)}function cv(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function uv(e){const t=String(e||"").toUpperCase();return t==="PRESENT"?"bg-emerald-50 text-emerald-700 border-emerald-200":t==="ABSENT"?"bg-rose-50 text-rose-700 border-rose-200":t==="LEAVE"?"bg-amber-50 text-amber-800 border-amber-200":"bg-white text-slate-500 border-slate-200"}function mv(){return"bg-slate-100 text-slate-400 border-slate-200"}function xv(){var lt,dt,Rs,Is,_s,rn,Ms,an,Os,qn,Bs,Gt,Us,on,zs;const{bootstrap:e}=Qe(),t=((Rs=(dt=(lt=e==null?void 0:e.ui)==null?void 0:lt.screens)==null?void 0:dt.attendance)==null?void 0:Rs.title)||"Attendance",n=((Is=e==null?void 0:e.rbac)==null?void 0:Is.permissions)||[],l=n.includes("ATTENDANCE_READ"),r=n.includes("ATTENDANCE_WRITE"),a=n.includes("ATTENDANCE_BULK_WRITE"),i=n.includes("ATTENDANCE_OVERRIDE"),[o,d]=c.useState(""),[u,y]=c.useState(""),[f,g]=c.useState("monthly"),j=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),N=c.useMemo(()=>{var J;const L={};for(const V of((J=j.data)==null?void 0:J.items)||[])L[V.id]=V;return L},[j.data]),[w,C]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),x=()=>C(L=>({...L,refreshIndex:L.refreshIndex+1}));c.useEffect(()=>{if(!l||!o)return;let L=!0;async function J(){C(V=>({...V,status:"loading",error:null}));try{const V=new URL("/api/v1/attendance/month","http://local");V.searchParams.set("month",o),u&&V.searchParams.set("divisionId",u);const ae=await ne(V.pathname+V.search);if(!L)return;C(be=>({...be,status:"ready",data:ae,error:null}))}catch(V){if(!L)return;C(ae=>({...ae,status:"error",error:V}))}}return J(),()=>{L=!1}},[l,o,u,w.refreshIndex]),c.useEffect(()=>{if(!l||o)return;let L=!0;async function J(){try{const V=new URL("/api/v1/attendance/month","http://local"),ae=await ne("/api/v1/attendance/today"),be=(ae==null?void 0:ae.todayDate)||null;if(!L)return;be&&/^\d{4}-\d{2}-\d{2}$/.test(be)&&d(dv(be))}catch{}}return J(),()=>{L=!1}},[l,o]);const[m,v]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),p=()=>v(L=>({...L,refreshIndex:L.refreshIndex+1}));c.useEffect(()=>{if(!l||f!=="summary")return;let L=!0;async function J(){v(V=>({...V,status:"loading",error:null}));try{const V=new URL("/api/v1/attendance/summary","http://local");V.searchParams.set("month",o),u&&V.searchParams.set("divisionId",u);const ae=await ne(V.pathname+V.search);if(!L)return;v(be=>({...be,status:"ready",data:ae,error:null}))}catch(V){if(!L)return;v(ae=>({...ae,status:"error",error:V}))}}return J(),()=>{L=!1}},[l,f,o,u,m.refreshIndex]);const b=!!((_s=w.data)!=null&&_s.isMonthClosed),T=r&&!b,D=((rn=w.data)==null?void 0:rn.todayDate)||null,A=c.useMemo(()=>{if(!o)return[];const[L,J]=o.split("-").map(Number);return ov(L,J-1)},[o]),P=((Ms=w.data)==null?void 0:Ms.employees)||[],S=((an=w.data)==null?void 0:an.records)||[],[R,_]=c.useState({});c.useEffect(()=>{if(!l)return;let L=!0;async function J(){const V=(P||[]).map(Ye=>Ye.id).filter(Ye=>Ye&&!R[Ye]);if(V.length===0)return;const ae=V.slice(0,50),be=await Promise.all(ae.map(async Ye=>{try{const Nt=await ne(`/api/v1/employees/${Ye}`),Ae=(Nt==null?void 0:Nt.item)||null,$t=xn(Ae==null?void 0:Ae.joiningDate)||(typeof(Ae==null?void 0:Ae.createdAt)=="string"?xn(Ae.createdAt):null),ds=xn(Ae==null?void 0:Ae.exitDate);return[Ye,{joiningDate:$t,exitDate:ds,status:(Ae==null?void 0:Ae.status)||null}]}catch{return[Ye,{joiningDate:null,exitDate:null,status:null}]}}));L&&_(Ye=>{const Nt={...Ye};for(const[Ae,$t]of be)Nt[Ae]=$t;return Nt})}return J(),()=>{L=!1}},[l,P,R]);function Q({employeeId:L,attendanceDate:J}){var Ye,Nt;if(!r)return"You do not have permission to mark attendance";if(b)return"Month is CLOSED";if(!D)return"Server date unavailable";if(J!==D)return J<D?"Past dates are not allowed":"Future dates are not allowed";const V=(P||[]).find(Ae=>Ae.id===L),ae=xn(V==null?void 0:V.joiningDate)||((Ye=R[L])==null?void 0:Ye.joiningDate)||null,be=xn(V==null?void 0:V.exitDate)||((Nt=R[L])==null?void 0:Nt.exitDate)||null;return ae&&J<ae?"Attendance not allowed before employee joining date":be&&J>be?`Employee exited on ${be}`:null}function X({employeeId:L,attendanceDate:J}){return!Q({employeeId:L,attendanceDate:J})}const se=c.useMemo(()=>{const L=new Map;for(const J of S){const V=xn(J.attendanceDate);V&&L.set(`${J.employeeId}:${V}`,J)}return L},[S]),H=je(async L=>ne("/api/v1/attendance/mark",{method:"POST",body:L})),oe=je(async L=>ne("/api/v1/attendance/bulk-mark",{method:"POST",body:L})),[I,z]=c.useState(!1),[k,E]=c.useState(null),[B,de]=c.useState(""),[le,W]=c.useState(""),[O,fe]=c.useState("PRESENT"),[F,re]=c.useState("HR"),[Y,$e]=c.useState(""),[U,De]=c.useState(""),[we,Oe]=c.useState(!1),pt=(L,J)=>{const V=se.get(`${L.id}:${J}`);E(L),de(J),W(J),fe((V==null?void 0:V.status)||"PRESENT"),re((V==null?void 0:V.source)||"HR"),$e((V==null?void 0:V.note)||""),De(""),z(!0)},We=O==="ABSENT"||O==="LEAVE",ce=async()=>{console.assert(/^\d{4}-\d{2}-\d{2}$/.test(B),"Invalid attendanceDate"),console.assert(B===le,"Modal date mismatch (must submit clicked cell date)");const L={employeeId:k.id,attendanceDate:B,status:O,source:F,note:Y.trim()||null,reason:U.trim()||null};console.assert(L.attendanceDate===le,"Payload date mismatch (must submit clicked cell date)"),await H.run(L),z(!1),Oe(!1),x()},[Je,Z]=c.useState(!1),[xe,ee]=c.useState(""),[Re,Be]=c.useState("HR"),[K,Ie]=c.useState([]),[ve,G]=c.useState(null);c.useEffect(()=>{if(!o){ee("");return}const[L,J]=o.split("-").map(Number);ee(`${L}-${String(J).padStart(2,"0")}-01`)},[o]);const pe=()=>{if(!o)return;const L=xe||(()=>{const[V,ae]=o.split("-").map(Number);return`${V}-${String(ae).padStart(2,"0")}-01`})(),J=(P||[]).map(V=>{const ae=se.get(`${V.id}:${L}`);return{employeeId:V.id,employeeCode:V.employeeCode,firstName:V.firstName,lastName:V.lastName,status:(ae==null?void 0:ae.status)||"PRESENT",note:(ae==null?void 0:ae.note)||"",reason:""}});Ie(J),G(null),Z(!0)},ue=async()=>{if(!o)return;console.assert(/^\d{4}-\d{2}-\d{2}$/.test(xe),"Invalid attendanceDate");const L={attendanceDate:xe,source:Re,items:K.map(V=>({employeeId:V.employeeId,status:V.status,note:V.note.trim()||null,reason:V.reason.trim()||null}))},J=await oe.run(L);G(J),x()};if(!l)return s.jsxs("div",{children:[s.jsx(me,{title:t}),s.jsx(ge,{})]});if(w.status==="loading"&&!w.data)return s.jsxs("div",{children:[s.jsx(me,{title:t}),s.jsx(ke,{})]});if(w.status==="error")return s.jsxs("div",{children:[s.jsx(me,{title:t}),((Os=w.error)==null?void 0:Os.status)===403?s.jsx(ge,{}):s.jsx(q,{error:w.error})]});const _e=((qn=w.data)==null?void 0:qn.monthStatus)||"OPEN";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:t,subtitle:"Monthly",right:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{type:"button",className:ei("rounded-lg px-3 py-2 text-sm font-medium",f==="monthly"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>g("monthly"),children:"Monthly"}),s.jsx("button",{type:"button",className:ei("rounded-lg px-3 py-2 text-sm font-medium",f==="summary"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>{g("summary"),p()},children:"Summary"})]})}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Controls"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Month close status: ",_e]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Month"}),s.jsx("input",{type:"month",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:L=>{d(L.target.value),x()}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:L=>{y(L.target.value),x(),p()},disabled:j.status==="error"||(((Bs=j.data)==null?void 0:Bs.items)||[]).length===0,children:[s.jsx("option",{value:"",children:"All"}),(((Gt=j.data)==null?void 0:Gt.items)||[]).map(L=>s.jsxs("option",{value:L.id,children:[L.code,"  ",L.name]},L.id))]}),j.status==="error"?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Divisions unavailable."}):null]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-600",children:"Editability"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:b?"Month is CLOSED. Read-only.":r?"Month is OPEN. You can mark attendance.":"Read-only."})]}),f==="monthly"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!a||b,onClick:pe,children:"Bulk Mark"}),a?null:s.jsx("div",{className:"text-xs text-slate-500",children:"Requires ATTENDANCE_BULK_WRITE."})]}):null]})]})}),s.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:f==="monthly"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly View"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[P.length," employees  ",A.length," days"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-slate-600",children:[s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-emerald-200"})," Present",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-rose-200"})," Absent",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-amber-200"})," Leave"]})})]}),P.length===0?s.jsx("div",{className:"p-6",children:s.jsx(Ne,{title:"No active employees",description:"Attendance applies to ACTIVE employees only."})}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full border-separate",style:{borderSpacing:0},children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-20 bg-white border-b border-slate-200 px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),A.map(L=>s.jsx("th",{className:"border-b border-slate-200 px-2 py-2 text-center text-xs font-semibold text-slate-600 whitespace-nowrap",children:L.slice(8)},L))]})}),s.jsx("tbody",{children:P.map(L=>{var V;const J=L.primaryDivisionId&&((V=N[L.primaryDivisionId])==null?void 0:V.code)||"";return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white border-b border-slate-100 px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:cv(L)}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[L.employeeCode,"  ",L.firstName," ",L.lastName]}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:J?`Division: ${J}`:L.scope})]})]})}),A.map(ae=>{const be=se.get(`${L.id}:${ae}`),Ye=(be==null?void 0:be.status)||"",Ae=!(T&&X({employeeId:L.id,attendanceDate:ae})),$t=Q({employeeId:L.id,attendanceDate:ae});return s.jsx("td",{className:"border-b border-slate-100 px-2 py-2 text-center",children:s.jsx("button",{type:"button",className:ei("w-12 h-9 rounded-lg border text-xs font-semibold",Ae?mv():uv(Ye),Ae?"cursor-not-allowed":"hover:shadow-sm"),disabled:Ae,onClick:Ae?void 0:()=>pt(L,ae),title:Ae?$t||"Not allowed":Ye?`${Ye}`:"",children:Ye?Ye[0]:""})},ae)})]},L.id)})})]})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly Summary"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Read-only aggregation for payroll reference."})]}),m.status==="loading"?s.jsx("div",{className:"p-6",children:s.jsx(ke,{label:"Loading summary"})}):m.status==="error"?s.jsx("div",{className:"p-6",children:((Us=m.error)==null?void 0:Us.status)===403?s.jsx(ge,{}):s.jsx(q,{error:m.error})}):(((on=m.data)==null?void 0:on.items)||[]).length===0?s.jsx("div",{className:"p-6",children:s.jsx(Ne,{title:"No data"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Present"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Absent"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Leave"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Working Days"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:(((zs=m.data)==null?void 0:zs.items)||[]).map(L=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[L.employeeCode,"  ",L.firstName," ",L.lastName]})}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:L.presentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:L.absentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:L.leaveDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:L.totalWorkingDays})]},L.employeeId))})]})})]})})]})}),I?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{H.status!=="loading"&&(z(!1),Oe(!1))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:k?`${k.employeeCode}  ${k.firstName} ${k.lastName}`:""}),s.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Date: ",B]}),b?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:O,onChange:L=>fe(L.target.value),disabled:b,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:F,onChange:L=>re(L.target.value),disabled:b,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Note (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Y,onChange:L=>$e(L.target.value),disabled:b})]}),i?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required for override)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:U,onChange:L=>De(L.target.value),disabled:b,placeholder:"Required when updating an existing record"})]}):null]}),H.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:H.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:H.status==="loading",onClick:()=>{z(!1),Oe(!1)},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:H.status==="loading"||b||!k||!B,onClick:()=>{if(We){Oe(!0);return}ce()},children:H.status==="loading"?"Saving":"Confirm"})]}),we?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-amber-900",children:["Confirm ",O]}),s.jsxs("div",{className:"mt-1 text-xs text-amber-900",children:["This will mark the employee as ",O," for ",B,"."]}),s.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-amber-300 bg-white px-3 py-2 text-sm text-amber-900 hover:bg-amber-50",onClick:()=>Oe(!1),disabled:H.status==="loading",children:"Back"}),s.jsx("button",{type:"button",className:"rounded-md bg-amber-600 px-3 py-2 text-sm font-medium text-white disabled:bg-amber-300",onClick:ce,disabled:H.status==="loading",children:"Confirm"})]})]}):null]})]}):null,Je?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{oe.status!=="loading"&&Z(!1)}}),s.jsxs("div",{className:"relative w-full max-w-4xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Bulk Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Max batch size: 500"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>Z(!1),disabled:oe.status==="loading",children:"Close"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:xe,onChange:L=>ee(L.target.value),disabled:b})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Re,onChange:L=>Be(L.target.value),disabled:b,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:oe.status==="loading"||b,onClick:ue,children:oe.status==="loading"?"Submitting":"Submit"})})]}),b?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,oe.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:oe.error})}):null,s.jsx("div",{className:"mt-4 overflow-auto border border-slate-200 rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Note"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Reason (override)"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:K.map(L=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-sm text-slate-900",children:[s.jsx("div",{className:"font-semibold",children:L.employeeCode}),s.jsxs("div",{className:"text-xs text-slate-500",children:[L.firstName," ",L.lastName]})]}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("select",{className:"w-full rounded-md border-slate-300 text-sm",value:L.status,onChange:J=>{const V=J.target.value;Ie(ae=>ae.map(be=>be.employeeId===L.employeeId?{...be,status:V}:be))},disabled:b,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:L.note,onChange:J=>{const V=J.target.value;Ie(ae=>ae.map(be=>be.employeeId===L.employeeId?{...be,note:V}:be))},disabled:b})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:L.reason,onChange:J=>{const V=J.target.value;Ie(ae=>ae.map(be=>be.employeeId===L.employeeId?{...be,reason:V}:be))},disabled:b})})]},L.employeeId))})]})}),ve?s.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Result"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Created"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(ve.items||[]).filter(L=>L.outcome==="CREATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Updated"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(ve.items||[]).filter(L=>L.outcome==="UPDATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Failed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-rose-700",children:(ve.items||[]).filter(L=>L.outcome==="FAILED").length})]})]}),(ve.items||[]).filter(L=>L.outcome==="FAILED").length>0?s.jsx("div",{className:"mt-3 overflow-auto max-h-56",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Error"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:(ve.items||[]).filter(L=>L.outcome==="FAILED").map(L=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-xs font-mono text-slate-700",children:[String(L.employeeId).slice(0,8),""]}),s.jsx("td",{className:"px-3 py-2 text-xs text-rose-700",children:L.error||"Failed"})]},`${L.employeeId}:${L.attendanceDate}`))})]})}):null]}):null]})]}):null]})}function fv(...e){return e.filter(Boolean).join(" ")}function pv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function hv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function yu({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:fv("inline-flex rounded-full px-2 py-1 text-xs font-semibold",hv(t)),children:t}):null}function vv(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)===400&&(t.includes("employee not found")||t.includes("not found"))}function gv(){var j,N,w,C;const{bootstrap:e}=Qe(),n=(((j=e==null?void 0:e.rbac)==null?void 0:j.permissions)||[]).includes("TIMESHEET_READ"),l=(e==null?void 0:e.systemConfig)||{},r=pv(((N=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:N.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),d=Ce({path:"/api/v1/timesheets/my",page:a,pageSize:o,enabled:n&&r}),u=((w=d.data)==null?void 0:w.items)||[],y=((C=d.data)==null?void 0:C.total)||0,f=d.status==="error"&&vv(d.error),g=c.useMemo(()=>{var x;return n?r?d.status==="loading"&&!d.data?s.jsx(ke,{}):f?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):d.status==="error"?((x=d.error)==null?void 0:x.status)===403?s.jsx(ge,{}):s.jsx(q,{error:d.error}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Timesheets"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",y]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:d.refresh,disabled:d.status==="loading",children:d.status==="loading"?"Refreshing":"Refresh"})]}),s.jsxs("div",{className:"p-4",children:[u.length===0?s.jsx(Ne,{title:"No timesheets",description:"No weekly timesheets found."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"week",header:"Week",render:m=>s.jsxs("span",{className:"font-mono text-sm",children:[m.periodStart,"  ",m.periodEnd]})},{key:"status",header:"Status",render:m=>s.jsx(yu,{status:m.status})},{key:"action",header:"Action",render:m=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(mt,{to:`/timesheet/${m.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:u.map(m=>({key:m.id,data:m}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:u.map(m=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[m.periodStart,"  ",m.periodEnd]})]}),s.jsx(yu,{status:m.status})]}),s.jsx("div",{className:"mt-3",children:s.jsx(mt,{to:`/timesheet/${m.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},m.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(m=>Math.max(1,m-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=y,onClick:()=>i(m=>m+1),children:"Next"})]})})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[n,f,u,d,a,o,r,y]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"My Timesheet"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:g})})]})}function yv(...e){return e.filter(Boolean).join(" ")}function jv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function ti(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim();return`${t} ${n}`.trim()||""}function bv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function ju({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:yv("inline-flex rounded-full px-2 py-1 text-xs font-semibold",bv(t)),children:t}):null}function Nv(){var w,C,x,m;const{bootstrap:e}=Qe(),n=(((w=e==null?void 0:e.rbac)==null?void 0:w.permissions)||[]).includes("TIMESHEET_APPROVAL_QUEUE_READ"),l=(e==null?void 0:e.systemConfig)||{},r=jv(((C=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:C.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),[d,u]=c.useState(""),y=Ce({path:"/api/v1/timesheets/approvals",page:a,pageSize:o,enabled:n&&r}),f=((x=y.data)==null?void 0:x.items)||[],g=((m=y.data)==null?void 0:m.total)||0,j=c.useMemo(()=>{const v=String(d||"").trim().toLowerCase();return v?f.filter(p=>`${p.employeeCode||""} ${ti(p)} ${p.periodStart||""} ${p.periodEnd||""}`.toLowerCase().includes(v)):f},[f,d]),N=c.useMemo(()=>{var v;return n?r?y.status==="loading"&&!y.data?s.jsx(ke,{}):y.status==="error"?((v=y.error)==null?void 0:v.status)===403?s.jsx(ge,{}):s.jsx(q,{error:y.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:d,onChange:p=>{u(p.target.value),i(1)},placeholder:"Employee code or name"})]}),s.jsx("div",{className:"md:col-span-1 flex items-end justify-end",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:y.refresh,disabled:y.status==="loading",children:y.status==="loading"?"Refreshing":"Refresh"})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Queue"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",g]})]}),s.jsxs("div",{className:"p-4",children:[j.length===0?s.jsx(Ne,{title:"No approvals",description:"No timesheets pending approval."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"employee",header:"Employee",render:p=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:ti(p)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:p.employeeCode||""})]})},{key:"week",header:"Week",render:p=>s.jsxs("span",{className:"font-mono text-sm",children:[p.periodStart,"  ",p.periodEnd]})},{key:"status",header:"Status",render:p=>s.jsx(ju,{status:p.status})},{key:"action",header:"Action",render:p=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(mt,{to:`/timesheet/${p.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:j.map(p=>({key:p.id,data:p}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:j.map(p=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:ti(p)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:p.employeeCode||""})]}),s.jsx(ju,{status:p.status})]}),s.jsx("div",{className:"mt-3 text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[p.periodStart,"  ",p.periodEnd]}),s.jsx("div",{className:"mt-3",children:s.jsx(mt,{to:`/timesheet/${p.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},p.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(p=>Math.max(1,p-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=g,onClick:()=>i(p=>p+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[n,j,y,a,o,d,r,g]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Timesheet Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:N})})]})}function Xx(...e){return e.filter(Boolean).join(" ")}function wv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Sv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function Ev({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Xx("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Sv(t)),children:t}):null}function Cv(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function fn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function kv(e,t){const n=({id:l,label:r})=>{const a=e===l;return s.jsx("button",{type:"button",className:Xx("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",a?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>t(l),children:r})};return s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(n,{id:"worklogs",label:"Worklogs"}),s.jsx(n,{id:"timeline",label:"Approval Timeline"}),s.jsx(n,{id:"audit",label:"Audit Trail"})]})}function Tv(){var U,De,we,Oe,pt,We;const{id:e}=$x(),t=Fl(),{bootstrap:n}=Qe(),l=((U=n==null?void 0:n.rbac)==null?void 0:U.permissions)||[],r=l.includes("TIMESHEET_READ"),a=l.includes("TIMESHEET_SUBMIT"),i=l.includes("TIMESHEET_APPROVE_L1"),o=l.includes("TIMESHEET_APPROVE_L2"),d=l.includes("TIMESHEET_WORKLOG_WRITE"),u=l.includes("GOV_MONTH_CLOSE_READ"),y=l.includes("GOV_AUDIT_READ"),f=(n==null?void 0:n.systemConfig)||{},g=((De=n==null?void 0:n.features)==null?void 0:De.flags)||{},j=wv(((we=f==null?void 0:f.TIMESHEET_ENABLED)==null?void 0:we.value)??(f==null?void 0:f.TIMESHEET_ENABLED)),N=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[w,C]=c.useState("worklogs"),[x,m]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),v=()=>m(ce=>({...ce,refreshIndex:ce.refreshIndex+1}));c.useEffect(()=>{C("worklogs")},[e]),c.useEffect(()=>{if(!r||!j||!e)return;let ce=!0;async function Je(){m(Z=>({...Z,status:"loading",error:null}));try{const Z=await ne(`/api/v1/timesheets/${e}`);if(!ce)return;m(xe=>({...xe,status:"ready",data:Z,error:null}))}catch(Z){if(!ce)return;m(xe=>({...xe,status:"error",error:Z}))}}return Je(),()=>{ce=!1}},[r,e,x.refreshIndex,j]);const p=((Oe=x.data)==null?void 0:Oe.header)||null,b=((pt=x.data)==null?void 0:pt.worklogs)||[],T=p!=null&&p.periodEnd?Cv(p.periodEnd):null,D=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:N&&u&&!!T}),A=c.useMemo(()=>{var Je;const ce=new Set;for(const Z of((Je=D.data)==null?void 0:Je.items)||[]){const xe=(Z==null?void 0:Z.monthEnd)||(Z==null?void 0:Z.monthStart)||(Z==null?void 0:Z.month);xe&&String((Z==null?void 0:Z.status)||"").toUpperCase()==="CLOSED"&&ce.add(String(xe).slice(0,10))}return ce},[D.data]),P=!!(T&&A.has(T)),S=Ce({path:p!=null&&p.id?(()=>{const ce=new URL("/api/v1/governance/audit","http://local");return ce.searchParams.set("entityType","TIMESHEET"),ce.searchParams.set("entityId",p.id),ce.pathname+ce.search})():"/api/v1/governance/audit",page:1,pageSize:50,enabled:w==="audit"&&y&&!!(p!=null&&p.id)}),R=je(async ce=>ne("/api/v1/timesheets/worklog",{method:"POST",body:ce})),_=je(async()=>ne(`/api/v1/timesheets/${e}/submit`,{method:"POST",body:{}})),Q=je(async()=>ne(`/api/v1/timesheets/${e}/approve`,{method:"POST",body:{}})),X=je(async({reason:ce})=>ne(`/api/v1/timesheets/${e}/reject`,{method:"POST",body:{reason:ce}})),se=je(async({reason:ce})=>ne(`/api/v1/timesheets/${e}/request-revision`,{method:"POST",body:{reason:ce}})),[H,oe]=c.useState(""),[I,z]=c.useState(""),[k,E]=c.useState(""),[B,de]=c.useState(""),[le,W]=c.useState(""),O=c.useMemo(()=>{const ce=new Map;for(const Z of b){const xe=String(Z.workDate||"").slice(0,10);xe&&(ce.has(xe)||ce.set(xe,[]),ce.get(xe).push(Z))}return Array.from(ce.entries()).sort((Z,xe)=>Z[0]<xe[0]?1:-1).map(([Z,xe])=>{const ee=xe.slice().sort((Be,K)=>String(Be.updatedAt||"")<String(K.updatedAt||"")?1:-1),Re=ee.reduce((Be,K)=>Be+(Number(K.hours)||0),0);return{date:Z,items:ee,totalHours:Re}})},[b]),fe=!!(p&&String(p.employeeId)===String((We=n==null?void 0:n.user)==null?void 0:We.id)&&d&&!P&&String(p.status||"").toUpperCase()!=="SUBMITTED"&&String(p.status||"").toUpperCase()!=="APPROVED"),F=!!((i||o)&&p&&String(p.status||"").toUpperCase()==="SUBMITTED"&&!P),re=!!(a&&p&&String(p.status||"").toUpperCase()==="DRAFT"&&!P),Y=l.includes("TIMESHEET_APPROVAL_QUEUE_READ")?"/timesheet/approvals":"/timesheet/my",$e=c.useMemo(()=>{var ce,Je,Z,xe;return r?j?x.status==="loading"&&!x.data?s.jsx(ke,{}):x.status==="error"?((ce=x.error)==null?void 0:ce.status)===403?s.jsx(ge,{}):s.jsx(q,{error:x.error}):p?s.jsxs("div",{className:"space-y-4",children:[P?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This timesheet falls within a closed payroll month and is read-only."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-800",children:[p.periodStart,"  ",p.periodEnd]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Timesheet ID: ",s.jsxs("span",{className:"font-mono",children:[String(p.id).slice(0,12),""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ev,{status:p.status}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:v,disabled:x.status==="loading",children:x.status==="loading"?"Refreshing":"Refresh"})]})]}),s.jsx("div",{className:"mt-4",children:kv(w,C)})]}),w==="worklogs"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Worklogs"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[b.length," entries"]})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[fe?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Add Worklog"}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:H,onChange:ee=>oe(ee.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Task"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:I,onChange:ee=>z(ee.target.value),placeholder:"e.g., Client support"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Hours"}),s.jsx("input",{type:"number",step:"0.25",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:k,onChange:ee=>E(ee.target.value),placeholder:"8"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Description (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:B,onChange:ee=>de(ee.target.value),placeholder:"Short note"})]})]}),s.jsx("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:R.status==="loading"||!H||!I.trim()||!k||!p,onClick:async()=>{const ee=Number(k);await R.run({employeeId:p.employeeId,workDate:H,task:I.trim(),hours:ee,description:B.trim()||null,projectId:null}),z(""),E(""),de(""),v()},children:R.status==="loading"?"Saving":"Add"})}),R.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:R.error})}):null]}):null,O.length===0?s.jsx(Ne,{title:"No worklogs",description:"This timesheet has no worklogs."}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Task"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Hours"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:O.map(ee=>s.jsxs(lo.Fragment,{children:[ee.items.map((Re,Be)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-slate-800",children:Be===0?ee.date:""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800",children:Re.task||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 text-right",children:Re.hours??""})]},`${ee.date}-${Re.id}`)),s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-xs text-slate-500"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-600",children:"Total"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-800 text-right",children:ee.totalHours})]})]},ee.date))})]})}),re?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submit"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Submit this timesheet for approval."}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:_.status==="loading",onClick:async()=>{await _.run(),v()},children:_.status==="loading"?"Submitting":"Submit"})}),_.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:_.error})}):null]}):null,F?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Actions"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Approve, reject, or request revision."}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required for reject / revision)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:le,onChange:ee=>W(ee.target.value),placeholder:"Explain your decision"})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:se.status==="loading"||!le.trim(),onClick:async()=>{await se.run({reason:le.trim()}),W(""),v()},children:se.status==="loading"?"Sending":"Request Revision"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-medium text-rose-800 hover:bg-rose-100 disabled:bg-rose-50",disabled:X.status==="loading"||!le.trim(),onClick:async()=>{await X.run({reason:le.trim()}),W(""),v()},children:X.status==="loading"?"Rejecting":"Reject"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:Q.status==="loading",onClick:async()=>{await Q.run(),v()},children:Q.status==="loading"?"Approving":"Approve"})]}),Q.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:Q.error})}):null,X.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:X.error})}):null,se.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:se.error})}):null]}):null]})]}):null,w==="timeline"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-slate-800",children:fn(p.submittedAt)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L1"}),s.jsx("div",{className:"mt-1 text-slate-800",children:fn(p.approvedL1At)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L2"}),s.jsx("div",{className:"mt-1 text-slate-800",children:fn(p.approvedL2At)})]})]}),p.rejectedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejected"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800",children:fn(p.rejectedAt)}),p.rejectedReason?s.jsxs("div",{className:"mt-1 text-sm text-rose-800",children:["Reason: ",p.rejectedReason]}):null]}):null,p.revisionRequestedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Revision Requested"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:fn(p.revisionRequestedAt)}),p.revisionRequestedReason?s.jsxs("div",{className:"mt-1 text-sm text-amber-800",children:["Reason: ",p.revisionRequestedReason]}):null]}):null]}):null,w==="audit"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Audit Trail"}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:S.refresh,disabled:S.status==="loading",children:"Refresh"})]}),s.jsx("div",{className:"p-4",children:S.status==="loading"&&!S.data?s.jsx(ke,{label:"Loading audit logs"}):S.status==="error"?((Je=S.error)==null?void 0:Je.status)===403?s.jsx(ge,{}):s.jsx(q,{error:S.error}):(((Z=S.data)==null?void 0:Z.items)||[]).length===0?s.jsx(Ne,{title:"No audit logs"}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"At"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Action"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Reason"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:(((xe=S.data)==null?void 0:xe.items)||[]).map(ee=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:fn(ee.createdAt)}),s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900",children:ee.action||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 font-mono",children:ee.actorId||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:ee.reason||""})]},ee.id))})]})})})]}):null]}):s.jsx(Ne,{title:"Timesheet not found"}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[S,fe,r,F,re,le,O,p,P,v,x,_,w,j,R,b.length,H,B,k,I,Q,X,se]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-4",children:s.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"text-xs text-slate-500",children:[s.jsx(mt,{to:Y,className:"hover:text-slate-700 hover:underline",children:"Timesheet"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-slate-600",children:"Detail"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50",onClick:()=>{window.history.length>1?t(-1):t(Y)},children:"Back"})]})}),s.jsx(me,{title:"Timesheet Detail"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:$e})})]})}function Av(...e){return e.filter(Boolean).join(" ")}function Lv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Pv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Dv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function bu({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Av("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Dv(t)),children:t}):null}function nl(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function Nu(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)!==403?!1:t.includes("employee")||t.includes("division")}function Rv(){var v,p,b,T,D,A;const{bootstrap:e}=Qe(),t=((v=e==null?void 0:e.rbac)==null?void 0:v.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_BALANCE_READ"),r=t.includes("LEAVE_REQUEST_CREATE"),a=(e==null?void 0:e.systemConfig)||{},i=Lv(((p=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:p.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=((b=e==null?void 0:e.user)==null?void 0:b.id)||null,d=c.useMemo(()=>{var S;const P=Pv(((S=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:S.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return P>=2e3&&P<=2100?P:new Date().getFullYear()},[a]),[u,y]=c.useState(1),[f]=c.useState(20),g=Ce({path:o?`/api/v1/leave/balances?employeeId=${encodeURIComponent(o)}&year=${encodeURIComponent(d)}`:"/api/v1/leave/balances",page:1,pageSize:200,enabled:!!o&&i&&l}),j=Ce({path:o?`/api/v1/leave/requests?employeeId=${encodeURIComponent(o)}`:"/api/v1/leave/requests",page:u,pageSize:f,enabled:!!o&&i&&n}),N=((T=g.data)==null?void 0:T.items)||[],w=((D=j.data)==null?void 0:D.items)||[],C=((A=j.data)==null?void 0:A.total)||0,x=g.status==="error"&&Nu(g.error)||j.status==="error"&&Nu(j.error),m=c.useMemo(()=>{var P,S;return n?i?x?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):j.status==="loading"&&!j.data||g.status==="loading"&&!g.data?s.jsx(ke,{}):j.status==="error"?((P=j.error)==null?void 0:P.status)===403?s.jsx(ge,{}):s.jsx(q,{error:j.error}):g.status==="error"?((S=g.error)==null?void 0:S.status)===403?s.jsx(ge,{}):s.jsx(q,{error:g.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Year: ",d]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>{g.refresh(),j.refresh()},disabled:g.status==="loading"||j.status==="loading",children:"Refresh"}),r?s.jsx(mt,{to:"/leave/apply",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"Apply Leave"}):null]})]}),s.jsx("div",{className:"p-4",children:N.length===0?s.jsx(Ne,{title:"No leave balances",description:"No leave balances are configured for this year."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(R=>{const _=Number(R.openingBalance||0)+Number(R.grantedBalance||0);return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:R.leaveTypeName||R.leaveTypeCode||"Leave"}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:nl(R.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:nl(R.consumedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Entitled"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:nl(_)})]})]}),s.jsx("div",{className:"mt-2 text-xs text-slate-500",children:R.leaveTypeIsPaid?"Paid leave":"Unpaid leave"})]},R.id)})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request History"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",C]})]}),s.jsx("div",{className:"p-4",children:w.length===0?s.jsx(Ne,{title:"No leave requests",description:"You have not submitted any leave requests yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"type",header:"Leave Type",render:R=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:R.leaveTypeName||R.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:R.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:R=>s.jsxs("span",{className:"font-mono text-sm",children:[R.startDate,"  ",R.endDate]})},{key:"units",header:"Units",render:R=>s.jsxs("span",{className:"text-sm text-slate-700",children:[nl(R.units)," (",String(R.unit||"").toUpperCase(),")"]})},{key:"status",header:"Status",render:R=>s.jsx(bu,{status:R.status})},{key:"action",header:"Action",render:R=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(mt,{to:`/leave/requests/${R.id}`,state:{employeeId:o,item:R},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:w.map(R=>({key:R.id,data:R}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:w.map(R=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:R.leaveTypeName||R.leaveTypeCode||""}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:R.leaveTypeIsPaid?"Paid":"Unpaid"})]}),s.jsx(bu,{status:R.status})]}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"font-mono text-slate-700",children:[R.startDate,"  ",R.endDate]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Units"}),s.jsxs("div",{className:"text-slate-700",children:[nl(R.units)," (",String(R.unit||"").toUpperCase(),")"]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx(mt,{to:`/leave/requests/${R.id}`,state:{employeeId:o,item:R},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View Request"})})]},R.id))})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:u<=1,onClick:()=>y(R=>Math.max(1,R-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",u]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:u*f>=C,onClick:()=>y(R=>R+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[N,g,r,n,o,x,j,i,u,f,w,C,d]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"My Leave"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:m})})]})}function Iv(...e){return e.filter(Boolean).join(" ")}function xr(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function _v(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Mv(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${l}`}function Ov(e,t){const n=new Date(`${e}T00:00:00.000Z`);return n.setUTCDate(n.getUTCDate()+t),n.toISOString().slice(0,10)}function Bv(e,t){if(!e||!t)return 0;const n=new Date(`${String(e).slice(0,10)}T00:00:00.000Z`),l=new Date(`${String(t).slice(0,10)}T00:00:00.000Z`);return Number.isNaN(n.getTime())||Number.isNaN(l.getTime())||n.getTime()>l.getTime()?0:Math.floor((l.getTime()-n.getTime())/(24*60*60*1e3))+1}function Uv(){var Je,Z,xe,ee,Re,Be,K,Ie,ve;const e=Fl(),{bootstrap:t}=Qe(),n=((Je=t==null?void 0:t.rbac)==null?void 0:Je.permissions)||[],l=n.includes("LEAVE_REQUEST_CREATE"),r=n.includes("LEAVE_TYPE_READ"),a=n.includes("LEAVE_ATTACHMENT_UPLOAD"),i=n.includes("LEAVE_BALANCE_READ"),o=(t==null?void 0:t.systemConfig)||{},d=xr(((Z=o==null?void 0:o.LEAVE_ENABLED)==null?void 0:Z.value)??(o==null?void 0:o.LEAVE_ENABLED)),u=xr(((xe=o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)==null?void 0:xe.value)??(o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)),y=xr(((ee=o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)==null?void 0:ee.value)??(o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)),f=_v(((Re=o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS)==null?void 0:Re.value)??(o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS),0),g=xr(((Be=o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:Be.value)??(o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)),j=((K=t==null?void 0:t.user)==null?void 0:K.id)||null,N=c.useMemo(()=>Mv(),[]),w=c.useMemo(()=>{if(!y)return N;const G=Number.isFinite(f)?f:0;return G>0?Ov(N,-1*G):""},[y,f,N]),C=Ce({path:"/api/v1/leave/types",page:1,pageSize:200,enabled:d&&r}),x=((Ie=C.data)==null?void 0:Ie.items)||[],v=((ve=Ce({path:`/api/v1/leave/balances?employeeId=${encodeURIComponent(j||"")}`,page:1,pageSize:200,enabled:d&&i&&!!j}).data)==null?void 0:ve.items)||[],[p,b]=c.useState(""),[T,D]=c.useState(""),[A,P]=c.useState(""),[S,R]=c.useState("FULL_DAY"),[_,Q]=c.useState("AM"),[X,se]=c.useState(""),[H,oe]=c.useState(""),[I,z]=c.useState(""),[k,E]=c.useState(""),[B,de]=c.useState(""),[le,W]=c.useState(""),[O,fe]=c.useState(null),F=c.useMemo(()=>x.find(G=>String(G.id)===String(p))||null,[p,x]),re=!!(u&&(F==null?void 0:F.supportsHalfDay)!==!1),Y=v.length>0,$e=F==null?void 0:F.isPaid;$e&&v.some(G=>String(G.leaveTypeId)===String(F==null?void 0:F.id));const U=$e&&!Y,De=c.useMemo(()=>S==="HALF_DAY"?.5:Bv(T,A),[A,T,S]),we=je(async G=>ne("/api/v1/leave/requests",{method:"POST",body:G})),Oe=c.useMemo(()=>{if(we.status!=="error")return null;const G=we.error;if(!G)return null;const pe=G==null?void 0:G.status,ue=(G==null?void 0:G.requestId)||"";return pe>=500?{title:"Unable to submit leave request",message:`Your leave request could not be submitted at this time.
Please try again or contact HR/Admin if the problem persists.`,requestId:ue}:null},[we.status,we.error]),pt=je(async({id:G,payload:pe})=>ne(`/api/v1/leave/requests/${G}/attachments`,{method:"POST",body:pe})),We=!!(g&&a&&H.trim()&&I.trim()&&k.trim()&&B.trim()),ce=c.useMemo(()=>{var pe;if(!l)return s.jsx(ge,{});if(!d)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(!j)return s.jsx(Ne,{title:"Missing user context",description:"No user id found in bootstrap."});if(!r)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave Types not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_TYPE_READ permission to apply for leave."})]});if(C.status==="loading"&&!C.data)return s.jsx(ke,{});if(C.status==="error")return((pe=C.error)==null?void 0:pe.status)===403?s.jsx(ge,{}):s.jsx(q,{error:C.error});if(x.length===0)return s.jsx(Ne,{title:"No leave types",description:"No active leave types are configured."});const G=we.status==="loading"||pt.status==="loading";return s.jsxs("div",{className:"space-y-4",children:[U?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Leave balance is not configured for you"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"Please contact HR/Admin to set up your leave balance before submitting paid leave requests."})]}):null,O?s.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-emerald-900",children:"Leave request submitted"}),s.jsxs("div",{className:"mt-1 text-sm text-emerald-800",children:["Request ID: ",s.jsx("span",{className:"font-mono",children:O.id})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-2",children:[s.jsx(mt,{to:`/leave/requests/${O.id}`,state:{employeeId:j,item:O},className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"View request"}),s.jsx(mt,{to:"/leave/my",className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Back to My Leave"})]})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Apply Leave"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Submit a leave request for approval."})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>e(-1),disabled:G,children:"Back"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:p,onChange:ue=>b(ue.target.value),disabled:G,children:[s.jsx("option",{value:"",children:"Select"}),x.map(ue=>s.jsxs("option",{value:ue.id,children:[ue.code,"  ",ue.name,ue.isPaid?" (Paid)":""]},ue.id))]}),F&&F.isActive===!1?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:"Selected type is inactive."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Unit"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:S,onChange:ue=>{const _e=ue.target.value;R(_e),_e==="HALF_DAY"&&T&&A&&T!==A&&P(T)},disabled:G,children:[s.jsx("option",{value:"FULL_DAY",children:"Full day"}),s.jsx("option",{value:"HALF_DAY",disabled:!re,children:"Half day"})]}),re?null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day is disabled by config or leave type settings."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Start Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:T,min:w||void 0,onChange:ue=>{const _e=ue.target.value;D(_e),(!A||A<_e)&&P(_e),S==="HALF_DAY"&&P(_e)},disabled:G}),y?f>0?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Backdate limit: ",f," day(s)."]}):null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Backdated requests are disabled."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"End Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:A,min:T||w||void 0,onChange:ue=>{const _e=ue.target.value;P(_e),S==="HALF_DAY"&&D(_e)},disabled:G||S==="HALF_DAY"}),S==="HALF_DAY"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day requests are single-day only."}):null]}),S==="HALF_DAY"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Half-day Part"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:_,onChange:ue=>Q(ue.target.value),disabled:G,children:[s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"PM",children:"PM"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:X,onChange:ue=>se(ue.target.value),disabled:G,placeholder:"Provide a clear reason for this leave request"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Summary"}),s.jsxs("div",{className:"mt-1 text-sm text-slate-700",children:[s.jsxs("span",{className:"font-mono",children:[T||"","  ",A||""]}),s.jsx("span",{className:"mx-2",children:"|"}),"Units: ",s.jsx("span",{className:"font-semibold",children:S==="HALF_DAY"?"0.5":String(De||0)})]}),F!=null&&F.isPaid?s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Paid leave: sufficient balance will be validated by the backend."}):s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Unpaid leave: balance checks may not apply."})]})}),g?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Attachment (optional)"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Provide a signed URL as storageKey. File upload is metadata-only."}),a?s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:H,onChange:ue=>oe(ue.target.value),disabled:G,placeholder:"medical_certificate.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:k,onChange:ue=>E(ue.target.value),disabled:G,placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:I,onChange:ue=>z(ue.target.value),disabled:G,placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:B,onChange:ue=>de(ue.target.value),disabled:G,placeholder:"12345"})]})]}):s.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"You do not have LEAVE_ATTACHMENT_UPLOAD permission."})]})}):null,le?s.jsx("div",{className:"md:col-span-2",children:s.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:le})}):null,Oe?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:Oe.title}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-line",children:Oe.message}),Oe.requestId?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Reference ID: ",Oe.requestId]}):null]})}):null,we.status==="error"&&!Oe?s.jsx("div",{className:"md:col-span-2",children:s.jsx(q,{error:we.error})}):null,pt.status==="error"?s.jsx("div",{className:"md:col-span-2",children:s.jsx(q,{error:pt.error})}):null,s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx(mt,{to:"/leave/my",className:Iv("inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",G?"pointer-events-none opacity-70":""),children:"Cancel"}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400 min-h-[44px] w-full sm:w-auto",disabled:G||!p||!T||!A||X.trim().length===0||S==="HALF_DAY"&&(!_||T!==A)||U&&$e,onClick:async()=>{W(""),fe(null);const ue=X.trim();if(!ue){W("Reason is required");return}if(S==="HALF_DAY"&&T!==A){W("Half-day leave must be for a single date");return}try{const _e={employeeId:j,leaveTypeId:p,startDate:T,endDate:A,unit:S,halfDayPart:S==="HALF_DAY"?_:null,reason:ue},lt=await we.run(_e),dt=(lt==null?void 0:lt.item)||null;dt&&fe(dt),dt&&We&&await pt.run({id:dt.id,payload:{fileName:H.trim(),storageKey:I.trim(),mimeType:k.trim(),sizeBytes:Number(B)}}),dt&&e(`/leave/requests/${dt.id}`,{state:{employeeId:j,item:dt}})}catch{}},children:we.status==="loading"?"Submitting":"Submit Request"})]})]})]})]})},[y,u,H,k,B,I,g,f,We,l,i,r,a,le,we,O,U,j,A,Oe,_,Y,d,p,w,e,X,$e,F,T,x,C,S,De,pt]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Apply Leave"}),s.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:ce})})]})}function Jx(...e){return e.filter(Boolean).join(" ")}function wu(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function zv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Fv({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Jx("inline-flex rounded-full px-2 py-1 text-xs font-semibold",zv(t)),children:t}):null}function pn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function Vv(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function $v(){var ce,Je,Z,xe,ee,Re,Be;const{id:e}=$x(),t=Fl(),n=ln(),{bootstrap:l}=Qe(),r=((ce=l==null?void 0:l.rbac)==null?void 0:ce.permissions)||[],a=r.includes("LEAVE_REQUEST_READ"),i=r.includes("LEAVE_REQUEST_CANCEL"),o=r.includes("LEAVE_APPROVE_L1"),d=r.includes("LEAVE_APPROVE_L2"),u=r.includes("LEAVE_ATTACHMENT_READ"),y=r.includes("LEAVE_ATTACHMENT_UPLOAD"),f=(l==null?void 0:l.systemConfig)||{},g=((Je=l==null?void 0:l.features)==null?void 0:Je.flags)||{},j=wu(((Z=f==null?void 0:f.LEAVE_ENABLED)==null?void 0:Z.value)??(f==null?void 0:f.LEAVE_ENABLED)),N=wu(((xe=f==null?void 0:f.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:xe.value)??(f==null?void 0:f.LEAVE_ATTACHMENTS_ENABLED)),w=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[C,x]=c.useState("details"),m=((ee=n.state)==null?void 0:ee.item)||null,v=((Re=n.state)==null?void 0:Re.employeeId)||null,p=Ce({path:v?`/api/v1/leave/requests?employeeId=${encodeURIComponent(v)}`:"/api/v1/leave/requests",page:1,pageSize:200,enabled:j&&a&&!!e&&!m}),b=c.useMemo(()=>{var Ie;return m&&String(m.id)===String(e)?m:(((Ie=p.data)==null?void 0:Ie.items)||[]).find(ve=>String(ve.id)===String(e))||null},[e,p.data,m]),T=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:w&&!!(b!=null&&b.startDate||b!=null&&b.endDate)}),D=c.useMemo(()=>{var Ie;const K=new Set;for(const ve of((Ie=T.data)==null?void 0:Ie.items)||[]){const G=(ve==null?void 0:ve.monthEnd)||(ve==null?void 0:ve.monthStart)||(ve==null?void 0:ve.month);G&&String((ve==null?void 0:ve.status)||"").toUpperCase()==="CLOSED"&&K.add(String(G).slice(0,10))}return K},[T.data]),A=c.useMemo(()=>{if(!(b!=null&&b.startDate)||!(b!=null&&b.endDate))return!1;const K=new Date(`${b.startDate}T00:00:00.000Z`),Ie=new Date(`${b.endDate}T00:00:00.000Z`);if(Number.isNaN(K.getTime())||Number.isNaN(Ie.getTime()))return!1;const ve=new Date(K.getTime());for(;ve.getTime()<=Ie.getTime();){const G=new Date(Date.UTC(ve.getUTCFullYear(),ve.getUTCMonth()+1,0)).toISOString().slice(0,10);if(D.has(G))return!0;ve.setUTCMonth(ve.getUTCMonth()+1),ve.setUTCDate(1)}return!1},[D,b==null?void 0:b.endDate,b==null?void 0:b.startDate]),P=Ce({path:e?`/api/v1/leave/requests/${e}/attachments`:"/api/v1/leave/requests/x/attachments",page:1,pageSize:200,enabled:N&&u&&C==="attachments"&&!!e}),S=je(async({reason:K})=>ne(`/api/v1/leave/requests/${e}/cancel`,{method:"POST",body:{reason:K}})),R=je(async({reason:K})=>ne(`/api/v1/leave/requests/${e}/approve`,{method:"POST",body:{reason:K||null}})),_=je(async({reason:K})=>ne(`/api/v1/leave/requests/${e}/reject`,{method:"POST",body:{reason:K}})),Q=je(async({payload:K})=>ne(`/api/v1/leave/requests/${e}/attachments`,{method:"POST",body:K})),X=je(async({attId:K})=>ne(`/api/v1/leave/requests/${e}/attachments/${K}/download`)),[se,H]=c.useState(null),[oe,I]=c.useState(""),[z,k]=c.useState(!1),[E,B]=c.useState(""),[de,le]=c.useState(""),[W,O]=c.useState(""),[fe,F]=c.useState(""),re=String((b==null?void 0:b.status)||"").toUpperCase(),Y=!!(b&&String(b.employeeId)===String((Be=l==null?void 0:l.user)==null?void 0:Be.id)),$e=!!((Y||i)&&re&&re!=="CANCELLED"&&re!=="REJECTED"),U=!!((o||d)&&re==="SUBMITTED"),De=p.status==="loading"&&!p.data&&!m,we=c.useMemo(()=>{var Ie,ve,G;if(!a)return s.jsx(ge,{});if(!j)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(De)return s.jsx(ke,{});if(p.status==="error")return((Ie=p.error)==null?void 0:Ie.status)===403?s.jsx(ge,{}):s.jsx(q,{error:p.error});if(!b)return s.jsx(Ne,{title:"Leave request not found",description:"This request may not be accessible in your scope."});const K=({id:pe,label:ue})=>{const _e=C===pe;return s.jsx("button",{type:"button",className:Jx("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",_e?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>x(pe),children:ue})};return s.jsxs("div",{className:"space-y-4",children:[A?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This request falls within a closed payroll month. Actions may require override permission and a reason."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500 font-mono",children:b.id})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>t(-1),children:"Back"}),s.jsx(mt,{to:Y?"/leave/my":"/leave/approvals",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Go to list"}),$e?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",disabled:S.status==="loading",onClick:()=>{I(""),H("cancel")},children:"Cancel"}):null,U?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:R.status==="loading",onClick:()=>{I(""),H("approve")},children:"Approve"}):null,U?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:_.status==="loading",onClick:()=>{I(""),H("reject")},children:"Reject"}):null]})]}),s.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-2",children:[s.jsx(Fv,{status:b.status}),s.jsxs("div",{className:"text-xs text-slate-500",children:[b.leaveTypeCode,"  ",b.leaveTypeName]})]}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(K,{id:"details",label:"Details"}),s.jsx(K,{id:"attachments",label:"Attachments"})]})}),C==="details"?s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[b.startDate,"  ",b.endDate]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Unit: ",String(b.unit||"").toUpperCase(),b.unit==="HALF_DAY"?` (${b.halfDayPart})`:""]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Units: ",Vv(b.units)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900 whitespace-pre-wrap",children:b.reason||""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:pn(b.createdAt)}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Updated: ",pn(b.updatedAt)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L1"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:b.approvedL1At?pn(b.approvedL1At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L2"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:b.approvedL2At?pn(b.approvedL2At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Rejected"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:b.rejectedAt?pn(b.rejectedAt):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Cancelled"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:b.cancelledAt?pn(b.cancelledAt):""})]})]})]}),b.rejectionReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejection Reason"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-wrap",children:b.rejectionReason})]}):null,b.cancelReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Cancel Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:b.cancelReason})]}):null]})}):null,C==="attachments"?s.jsx("div",{className:"p-4 pt-0",children:N?u?P.status==="loading"&&!P.data?s.jsx(ke,{}):P.status==="error"?s.jsx(q,{error:P.error}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:P.refresh,disabled:P.status==="loading",children:"Refresh"}),y?s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{B(""),le(""),O(""),F(""),k(!0)},disabled:Q.status==="loading",children:"Upload Metadata"}):null]}),(((ve=P.data)==null?void 0:ve.items)||[]).length===0?s.jsx(Ne,{title:"No attachments",description:"No attachments uploaded for this request."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"file",header:"File",render:pe=>s.jsx("div",{className:"text-sm font-medium text-slate-900",children:pe.fileName})},{key:"mime",header:"MIME",render:pe=>s.jsx("div",{className:"text-sm font-mono text-slate-700",children:pe.mimeType||""})},{key:"size",header:"Size",render:pe=>s.jsx("div",{className:"text-sm text-slate-700",children:typeof pe.sizeBytes=="number"?`${pe.sizeBytes} bytes`:""})},{key:"action",header:"Action",render:pe=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:X.status==="loading",onClick:async()=>{var ue;try{const _e=await X.run({attId:pe.id}),lt=(ue=_e==null?void 0:_e.item)==null?void 0:ue.storageKey;lt&&(String(lt).startsWith("http://")||String(lt).startsWith("https://"))&&window.open(lt,"_blank","noopener,noreferrer")}catch{}},children:"Download"})})}],rows:(((G=P.data)==null?void 0:G.items)||[]).map(pe=>({key:pe.id,data:pe}))})}),X.status==="error"?s.jsx(q,{error:X.error}):null,Q.status==="error"?s.jsx(q,{error:Q.error}):null]}):s.jsx(ge,{}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Attachments are disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ATTACHMENTS_ENABLED must be enabled in system config."})]})}):null]})]})},[P,N,R.status,U,$e,a,u,y,S.status,X,e,A,Y,b,j,p,t,_.status,C,De,Q]),Oe=se==="cancel"?"Cancel Leave Request":se==="reject"?"Reject Leave Request":se==="approve"?"Approve Leave Request":"",pt=se==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required.",We=se==="cancel"||se==="reject";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Leave Request"}),s.jsx("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:we})}),se?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{S.status==="loading"||_.status==="loading"||R.status==="loading"||H(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:Oe}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:pt}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:oe,onChange:K=>I(K.target.value),placeholder:se==="approve"?"Optional":"Required"})]}),S.status==="error"||_.status==="error"||R.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:S.error||_.error||R.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:S.status==="loading"||_.status==="loading"||R.status==="loading",onClick:()=>H(null),children:"Close"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:S.status==="loading"||_.status==="loading"||R.status==="loading"||We&&oe.trim().length===0,onClick:async()=>{const K=oe.trim();try{se==="cancel"?await S.run({reason:K}):se==="reject"?await _.run({reason:K}):se==="approve"&&await R.run({reason:K||null}),H(null),t(-1)}catch{}},children:"Confirm"})]})]})]}):null,z?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Q.status!=="loading"&&k(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Attachment (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:E,onChange:K=>B(K.target.value),placeholder:"document.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:W,onChange:K=>O(K.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:de,onChange:K=>le(K.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:fe,onChange:K=>F(K.target.value),placeholder:"12345"})]})]}),Q.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:Q.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Q.status==="loading",onClick:()=>k(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Q.status==="loading"||E.trim().length===0||de.trim().length===0||W.trim().length===0||fe.trim().length===0,onClick:async()=>{try{await Q.run({payload:{fileName:E.trim(),storageKey:de.trim(),mimeType:W.trim(),sizeBytes:Number(fe)}}),k(!1),P.refresh()}catch{}},children:Q.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function kr(...e){return e.filter(Boolean).join(" ")}function Hv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Wv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Su({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:kr("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Wv(t)),children:t}):null}function fr(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function Yv(){var H,oe,I,z;const{bootstrap:e}=Qe(),t=((H=e==null?void 0:e.rbac)==null?void 0:H.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_APPROVE_L1"),r=t.includes("LEAVE_APPROVE_L2"),a=t.includes("GOV_MONTH_CLOSE_READ"),i=(e==null?void 0:e.systemConfig)||{},o=((oe=e==null?void 0:e.features)==null?void 0:oe.flags)||{},d=Hv(((I=i==null?void 0:i.LEAVE_ENABLED)==null?void 0:I.value)??(i==null?void 0:i.LEAVE_ENABLED)),u=!!(o!=null&&o.MONTH_CLOSE_ENABLED),y=!!(l||r),[f,g]=c.useState(""),[j,N]=c.useState(""),[w,C]=c.useState(""),[x,m]=c.useState(1),[v]=c.useState(20);c.useMemo(()=>{const k=new URL("/api/v1/leave/requests","http://local");return k.searchParams.set("page",String(x)),k.searchParams.set("pageSize",String(v)),k.searchParams.set("status","SUBMITTED"),f.trim()&&k.searchParams.set("divisionId",f.trim()),k.pathname+k.search},[f,x,v]);const p=Ce({path:"/api/v1/leave/requests",page:x,pageSize:v,enabled:d&&n&&y}),b=c.useMemo(()=>{var B;const k=[...((B=p.data)==null?void 0:B.items)||[]],E="SUBMITTED";return E?k.filter(de=>String(de.status||"").toUpperCase()===E):k},[p.data]),T=((z=p.data)==null?void 0:z.total)||0,D=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:u&&a}),A=c.useMemo(()=>{var E;const k=new Set;for(const B of((E=D.data)==null?void 0:E.items)||[]){const de=(B==null?void 0:B.monthEnd)||(B==null?void 0:B.monthStart)||(B==null?void 0:B.month);de&&String((B==null?void 0:B.status)||"").toUpperCase()==="CLOSED"&&k.add(String(de).slice(0,10))}return k},[D.data]),P=je(async({id:k,reason:E})=>ne(`/api/v1/leave/requests/${k}/approve`,{method:"POST",body:{reason:E||null}})),S=je(async({id:k,reason:E})=>ne(`/api/v1/leave/requests/${k}/reject`,{method:"POST",body:{reason:E}})),[R,_]=c.useState(null),[Q,X]=c.useState(""),se=c.useMemo(()=>{var k;return n?d?y?p.status==="loading"&&!p.data?s.jsx(ke,{}):p.status==="error"?((k=p.error)==null?void 0:k.status)===403?s.jsx(ge,{}):s.jsx(q,{error:p.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Approvals"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",T]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:p.refresh,disabled:p.status==="loading"||P.status==="loading"||S.status==="loading",children:"Refresh"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division Id (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:j,onChange:E=>{const B=E.target.value;N(B),B.trim()===""?(g(""),C(""),m(1)):/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(B.trim())?(g(B.trim()),C(""),m(1)):C("Please enter a valid UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)")},placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Filter the approval queue to a specific division."}),w?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:w}):null]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Month Close"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:u?a?"Closed months are marked if readable.":"You do not have GOV_MONTH_CLOSE_READ permission.":"Month-close feature is disabled."})]})]}),s.jsx("div",{className:"p-4",children:b.length===0?s.jsx(Ne,{title:"No pending requests",description:"No SUBMITTED leave requests found for your scope."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"employee",header:"Employee",render:E=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:E.employeeCode||String(E.employeeId).slice(0,8)+""}),s.jsxs("div",{className:"mt-0.5 text-xs text-slate-500",children:[E.firstName||""," ",E.lastName||""]})]})},{key:"type",header:"Leave Type",render:E=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:E.leaveTypeName||E.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:E.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:E=>{const B=String(E.startDate||"").slice(0,10),de=String(E.endDate||"").slice(0,10),le=B?fr(B):null,W=de?fr(de):null,O=!!(le&&A.has(le))||!!(W&&A.has(W));return s.jsxs("div",{children:[s.jsxs("div",{className:"font-mono text-sm text-slate-900",children:[B,"  ",de]}),u&&a?s.jsx("div",{className:kr("mt-0.5 text-xs",O?"text-amber-700":"text-slate-500"),children:O?"Month CLOSED":"Month open"}):null]})}},{key:"status",header:"Status",render:E=>s.jsx(Su,{status:E.status})},{key:"action",header:"Action",render:E=>s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(mt,{to:`/leave/requests/${E.id}`,state:{item:E,employeeId:E.employeeId},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:P.status==="loading"||S.status==="loading",onClick:()=>{X(""),_({mode:"approve",item:E})},children:"Approve"}),s.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:P.status==="loading"||S.status==="loading",onClick:()=>{X(""),_({mode:"reject",item:E})},children:"Reject"})]})}],rows:b.map(E=>({key:E.id,data:E}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:b.map(E=>{const B=String(E.startDate||"").slice(0,10),de=String(E.endDate||"").slice(0,10),le=B?fr(B):null,W=de?fr(de):null,O=!!(le&&A.has(le))||!!(W&&A.has(W));return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[E.firstName||""," ",E.lastName||""]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:E.employeeCode||String(E.employeeId).slice(0,8)+""})]}),s.jsx(Su,{status:E.status})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Leave"}),s.jsx("div",{className:"mt-0.5 text-sm text-slate-900",children:E.leaveTypeName||E.leaveTypeCode}),s.jsxs("div",{className:"mt-2 font-mono text-sm text-slate-700",children:[B,"  ",de]}),u&&a?s.jsx("div",{className:kr("mt-1 text-xs",O?"text-amber-700":"text-slate-500"),children:O?"Month CLOSED":"Month open"}):null]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsx(mt,{to:`/leave/requests/${E.id}`,state:{item:E,employeeId:E.employeeId},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:P.status==="loading"||S.status==="loading",onClick:()=>{X(""),_({mode:"approve",item:E})},children:"Approve"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:P.status==="loading"||S.status==="loading",onClick:()=>{X(""),_({mode:"reject",item:E})},children:"Reject"})]})]},E.id)})})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x<=1,onClick:()=>m(E=>Math.max(1,E-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",x]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x*v>=T,onClick:()=>m(E=>E+1),children:"Next"})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Approvals not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_APPROVE_L1 or LEAVE_APPROVE_L2 permission."})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[P.status,y,n,a,A,f,b,d,p,u,x,v,S.status,T]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Leave Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:se})}),R?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{P.status==="loading"||S.status==="loading"||_(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:R.mode==="approve"?"Approve Leave Request":"Reject Leave Request"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:R.mode==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:Q,onChange:k=>X(k.target.value),placeholder:R.mode==="approve"?"Optional":"Required"})]}),P.status==="error"||S.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:P.error||S.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{P.status==="loading"||S.status==="loading"||(_(null),X(""))},disabled:P.status==="loading"||S.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:kr("w-full sm:w-auto rounded-md px-4 py-3 text-sm font-medium text-white min-h-[44px]",R.mode==="approve"?"bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-300":"bg-rose-600 hover:bg-rose-700 disabled:bg-rose-300"),disabled:P.status==="loading"||S.status==="loading"||R.mode==="reject"&&Q.trim().length===0,onClick:async()=>{const k=Q.trim();try{R.mode==="approve"?await P.run({id:R.item.id,reason:k||null}):await S.run({id:R.item.id,reason:k}),_(null),X(""),p.refresh()}catch{}},children:R.mode==="approve"?"Approve":"Reject"})]})]})]})}):null]})}function si(...e){return e.filter(Boolean).join(" ")}function qv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Qv(){var oe,I,z;const{bootstrap:e}=Qe(),t=((oe=e==null?void 0:e.rbac)==null?void 0:oe.permissions)||[],n=t.includes("LEAVE_TYPE_READ"),l=t.includes("LEAVE_TYPE_WRITE"),r=(e==null?void 0:e.systemConfig)||{},a=qv(((I=r==null?void 0:r.LEAVE_ENABLED)==null?void 0:I.value)??(r==null?void 0:r.LEAVE_ENABLED)),[i,o]=c.useState(!1),d=c.useMemo(()=>{const k=new URL("/api/v1/leave/types","http://local");return i&&k.searchParams.set("includeInactive","true"),k.pathname+k.search},[i]),u=Ce({path:d,page:1,pageSize:200,enabled:a&&n}),y=((z=u.data)==null?void 0:z.items)||[],f=je(async k=>ne("/api/v1/leave/types",{method:"POST",body:k})),g=je(async({id:k,payload:E})=>ne(`/api/v1/leave/types/${k}`,{method:"PATCH",body:E})),[j,N]=c.useState(null),[w,C]=c.useState(""),[x,m]=c.useState(""),[v,p]=c.useState(!1),[b,T]=c.useState(!0),[D,A]=c.useState(!1),[P,S]=c.useState(""),[R,_]=c.useState(!0),Q=()=>{C(""),m(""),p(!1),T(!0),A(!1),S(""),_(!0),N({mode:"create"})},X=k=>{C(String(k.code||"")),m(String(k.name||"")),p(!!k.isPaid),T(!!k.supportsHalfDay),A(!!k.affectsPayroll),S(String(k.deductionRule||"")),_(!!k.isActive),N({mode:"edit",item:k})},se=c.useMemo(()=>{var k;return n?a?u.status==="loading"&&!u.data?s.jsx(ke,{}):u.status==="error"?((k=u.error)==null?void 0:k.status)===403?s.jsx(ge,{}):s.jsx(q,{error:u.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Types"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Configure master leave types used for requests and balances."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:u.refresh,disabled:u.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:Q,disabled:f.status==="loading"||g.status==="loading",children:"New Type"}):null]})]}),s.jsxs("div",{className:"p-4 flex items-center justify-between gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:E=>o(E.target.checked),className:"rounded border-slate-300"}),"Include inactive"]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",y.length]})]}),s.jsx("div",{className:"p-4 pt-0",children:y.length===0?s.jsx(Ne,{title:"No leave types",description:"No leave types found."}):s.jsx(bt,{columns:[{key:"code",header:"Code",render:E=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:E.code})},{key:"name",header:"Name",render:E=>s.jsx("span",{className:"text-sm font-medium text-slate-900",children:E.name})},{key:"flags",header:"Flags",render:E=>s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:si("text-xs px-2 py-1 rounded-full",E.isPaid?"bg-emerald-50 text-emerald-800":"bg-slate-100 text-slate-800"),children:E.isPaid?"Paid":"Unpaid"}),s.jsx("span",{className:si("text-xs px-2 py-1 rounded-full",E.supportsHalfDay?"bg-blue-50 text-blue-800":"bg-slate-100 text-slate-800"),children:E.supportsHalfDay?"Half-day":"Full-day only"}),s.jsx("span",{className:si("text-xs px-2 py-1 rounded-full",E.isActive?"bg-slate-900 text-white":"bg-slate-200 text-slate-700"),children:E.isActive?"Active":"Inactive"})]})},{key:"version",header:"Version",render:E=>s.jsx("span",{className:"text-sm text-slate-700",children:E.version})},{key:"action",header:"Action",render:E=>s.jsx("div",{className:"flex items-center justify-end",children:l?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>X(E),children:"Edit"}):null})}],rows:y.map(E=>({key:E.id,data:E}))})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[n,l,f.status,i,y,a,u,g.status]),H=f.status==="loading"||g.status==="loading";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Leave Types"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:se})}),j?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{H||N(null)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:j.mode==="create"?"Create Leave Type":"Edit Leave Type"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Updates are version-safe; refresh if you hit a version conflict."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:w,onChange:k=>C(k.target.value),placeholder:"ANNUAL",disabled:H})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:x,onChange:k=>m(k.target.value),placeholder:"Annual Leave",disabled:H})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:k=>p(k.target.checked),className:"rounded border-slate-300",disabled:H}),"Paid leave"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:k=>T(k.target.checked),className:"rounded border-slate-300",disabled:H}),"Supports half-day"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:D,onChange:k=>A(k.target.checked),className:"rounded border-slate-300",disabled:H}),"Affects payroll"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:R,onChange:k=>_(k.target.checked),className:"rounded border-slate-300",disabled:H}),"Active"]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Deduction Rule (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:P,onChange:k=>S(k.target.value),placeholder:"",disabled:H})]})]}),f.status==="error"||g.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:f.error||g.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:H,onClick:()=>N(null),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:H||w.trim().length===0||x.trim().length===0,onClick:async()=>{try{if(j.mode==="create")await f.run({code:w.trim(),name:x.trim(),isPaid:v,supportsHalfDay:b,affectsPayroll:D,deductionRule:P.trim()||null,isActive:R});else{const k=j.item;await g.run({id:k.id,payload:{code:w.trim(),name:x.trim(),isPaid:v,supportsHalfDay:b,affectsPayroll:D,deductionRule:P.trim()||null,isActive:R,version:k.version}})}N(null),u.refresh()}catch{}},children:H?"Saving":"Confirm"})]})]})]}):null]})}function Kv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Gv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Xt(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(2):""}function Xv(){var W,O,fe;const{bootstrap:e}=Qe(),t=((W=e==null?void 0:e.rbac)==null?void 0:W.permissions)||[],n=t.includes("LEAVE_BALANCE_READ"),l=t.includes("LEAVE_BALANCE_GRANT"),r=t.includes("LEAVE_TYPE_READ"),a=(e==null?void 0:e.systemConfig)||{},i=Kv(((O=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:O.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=c.useMemo(()=>{var re;const F=Gv(((re=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:re.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return F>=2e3&&F<=2100?F:new Date().getFullYear()},[a]),[d,u]=c.useState(""),[y,f]=c.useState(""),[g,j]=c.useState(""),[N,w]=c.useState(String(o)),C=Ce({path:"/api/v1/leave/types?includeInactive=true",page:1,pageSize:200,enabled:i&&r}),x=((fe=C.data)==null?void 0:fe.items)||[];c.useMemo(()=>{const F=new URL("/api/v1/leave/balances","http://local");return d.trim()&&F.searchParams.set("employeeId",d.trim()),N.trim()&&F.searchParams.set("year",N.trim()),F.pathname+F.search},[d,N]);const m=Ce({path:"/api/v1/leave/balances",page:1,pageSize:200,enabled:i&&n}),v=c.useMemo(()=>{var re;let F=[...((re=m.data)==null?void 0:re.items)||[]];return d.trim()&&(F=F.filter(Y=>String(Y.employeeId)===d.trim())),N.trim()&&(F=F.filter(Y=>String(Y.year)===N.trim())),F},[m.data,d,N]),p=je(async F=>ne("/api/v1/leave/balances/grant",{method:"POST",body:F})),[b,T]=c.useState(!1),[D,A]=c.useState(""),[P,S]=c.useState(""),[R,_]=c.useState(String(o)),[Q,X]=c.useState(""),[se,H]=c.useState(""),[oe,I]=c.useState(""),[z,k]=c.useState(""),[E,B]=c.useState(""),de=()=>{A(d.trim()||""),k(d.trim()||""),B(""),S(""),_(N.trim()||String(o)),X(""),H(""),I(""),T(!0)},le=c.useMemo(()=>{var F,re;return n?i?C.status==="loading"&&!C.data||m.status==="loading"&&!m.data?s.jsx(ke,{}):C.status==="error"?((F=C.error)==null?void 0:F.status)===403?s.jsx(ge,{}):s.jsx(q,{error:C.error}):m.status==="error"?((re=m.error)==null?void 0:re.status)===403?s.jsx(ge,{}):s.jsx(q,{error:m.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Search and grant balances. Grant requires a reason."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:m.refresh,disabled:m.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:de,disabled:p.status==="loading",children:"Grant Balance"}):null]})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee Id (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:y,onChange:Y=>{const $e=Y.target.value;f($e),$e.trim()===""?(u(""),j("")):/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($e.trim())?(u($e.trim()),j("")):j("Please enter a valid UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)")},placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If blank, returns balances across all employees you can access."}),g?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:g}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:N,onChange:Y=>w(Y.target.value),placeholder:"2026"})]})]}),s.jsx("div",{className:"p-4 pt-0",children:v.length===0?s.jsx(Ne,{title:"No balances",description:"No balances found for the selected filters."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(bt,{columns:[{key:"employeeId",header:"Employee",render:Y=>s.jsxs("span",{className:"font-mono text-xs text-slate-700",children:[String(Y.employeeId).slice(0,8),""]})},{key:"type",header:"Leave Type",render:Y=>s.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[Y.leaveTypeCode,"  ",Y.leaveTypeName]})},{key:"year",header:"Year",render:Y=>s.jsx("span",{className:"text-sm text-slate-700",children:Y.year})},{key:"opening",header:"Opening",render:Y=>s.jsx("span",{className:"text-sm text-slate-700",children:Xt(Y.openingBalance)})},{key:"granted",header:"Granted",render:Y=>s.jsx("span",{className:"text-sm text-slate-700",children:Xt(Y.grantedBalance)})},{key:"consumed",header:"Consumed",render:Y=>s.jsx("span",{className:"text-sm text-slate-700",children:Xt(Y.consumedBalance)})},{key:"available",header:"Available",render:Y=>s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Xt(Y.availableBalance)})}],rows:v.map(Y=>({key:Y.id,data:Y}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:v.map(Y=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[Y.leaveTypeCode,"  ",Y.leaveTypeName]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Employee: ",String(Y.employeeId).slice(0,8),""]})]}),s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Xt(Y.availableBalance)})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Year"}),s.jsx("div",{className:"text-slate-700",children:Y.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"font-semibold text-slate-900",children:Xt(Y.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Opening"}),s.jsx("div",{className:"text-slate-700",children:Xt(Y.openingBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Granted"}),s.jsx("div",{className:"text-slate-700",children:Xt(Y.grantedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"text-slate-700",children:Xt(Y.consumedBalance)})]})]})]},Y.id))})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ge,{})},[l,n,d,p.status,v,i,m,C,N]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(me,{title:"Leave Balances"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:le})}),b?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{p.status!=="loading"&&T(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Grant Leave Balance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Grant adds to granted balance. Opening balance can also be set."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee Id"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:z,onChange:F=>{const re=F.target.value;k(re),re.trim()===""?(A(""),B("")):/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(re.trim())?(A(re.trim()),B("")):B("Please enter a valid UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)")},placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),E?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:E}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:R,onChange:F=>_(F.target.value),placeholder:"2026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm min-h-[44px]",value:P,onChange:F=>S(F.target.value),children:[s.jsx("option",{value:"",children:"Select"}),x.map(F=>s.jsxs("option",{value:F.id,children:[F.code,"  ",F.name,F.isActive?"":" (Inactive)"]},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Opening Balance (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:Q,onChange:F=>X(F.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Grant Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:se,onChange:F=>H(F.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:oe,onChange:F=>I(F.target.value),placeholder:"Provide a clear reason for granting this balance"})]})]}),p.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(q,{error:p.error})}):null,s.jsxs("div",{className:"mt-6 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{p.status!=="loading"&&T(!1)},disabled:p.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white disabled:bg-slate-400 min-h-[44px]",disabled:p.status==="loading"||D.trim().length===0||P.trim().length===0||R.trim().length===0||se.trim().length===0||oe.trim().length===0||E.trim().length>0,onClick:async()=>{try{await p.run({employeeId:D.trim(),leaveTypeId:P.trim(),year:Number(R),openingBalance:Q.trim().length>0?Number(Q):void 0,grantAmount:Number(se),reason:oe.trim()}),T(!1),m.refresh()}catch{}},children:p.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function Jv(e){return e==="/admin/divisions"?s.jsx(qh,{}):e==="/admin/projects"?s.jsx(Kh,{}):e==="/admin/rbac"?s.jsx(Gh,{}):e==="/admin/month-close"?s.jsx(Jh,{}):e==="/admin/audit"?s.jsx(sv,{}):e==="/admin/system-config"?s.jsx(nv,{}):e==="/admin/employees"?s.jsx(rv,{}):e==="/admin/attendance"?s.jsx(xv,{}):e==="/timesheet/my"?s.jsx(gv,{}):e==="/timesheet/approvals"?s.jsx(Nv,{}):e==="/leave/my"?s.jsx(Rv,{}):e==="/leave/approvals"?s.jsx(Yv,{}):e==="/leave/types"?s.jsx(Qv,{}):e==="/leave/balances"?s.jsx(Xv,{}):null}function Zv(){var r,a;const{status:e,bootstrap:t}=Qe();if(e==="idle")return window.location.hash==="#/jwt-paste"?s.jsx($h,{}):s.jsx(Hh,{});if(e==="loading")return s.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-600",children:"Loading"});if(e==="error")return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Bootstrap failed"}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"Check your token and backend connectivity."})]})});const n=((r=t==null?void 0:t.navigation)==null?void 0:r.items)||[],l=((a=n[0])==null?void 0:a.path)||"/admin/divisions";return s.jsx(Eh,{children:s.jsxs(us,{element:s.jsx(Wh,{}),children:[s.jsx(us,{index:!0,element:s.jsx(Nh,{to:l,replace:!0})}),n.map(i=>{const o=Jv(i.path);return o?s.jsx(us,{path:i.path,element:o},i.id):null}),s.jsx(us,{path:"/timesheet/:id",element:s.jsx(Tv,{})}),s.jsx(us,{path:"/leave/apply",element:s.jsx(Uv,{})}),s.jsx(us,{path:"/leave/requests/:id",element:s.jsx($v,{})}),s.jsx(us,{path:"*",element:s.jsx(Yh,{})})]})})}function eg(){return s.jsx(Rh,{children:s.jsx(Vh,{children:s.jsx(Zv,{})})})}ni.createRoot(document.getElementById("root")).render(s.jsx(lo.StrictMode,{children:s.jsx(eg,{})}));
