function Lx(e,t){for(var n=0;n<t.length;n++){const l=t[n];if(typeof l!="string"&&!Array.isArray(l)){for(const r in l)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(l,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>l[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Ax(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qc={exports:{}},Jr={},Kc={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),Tx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),Dx=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Mx=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),Ox=Symbol.for("react.suspense"),Bx=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),pd=Symbol.iterator;function Ux(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Xc={};function Pn(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Gc}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zc(){}Zc.prototype=Pn.prototype;function so(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Gc}var no=so.prototype=new Zc;no.constructor=so;Jc(no,Pn.prototype);no.isPureReactComponent=!0;var vd=Array.isArray,eu=Object.prototype.hasOwnProperty,lo={current:null},tu={key:!0,ref:!0,__self:!0,__source:!0};function su(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)eu.call(t,l)&&!tu.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var d=Array(o),u=0;u<o;u++)d[u]=arguments[u+2];r.children=d}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:Al,type:e,key:a,ref:i,props:r,_owner:lo.current}}function Fx(e,t){return{$$typeof:Al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ro(e){return typeof e=="object"&&e!==null&&e.$$typeof===Al}function $x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$x(""+e.key):t.toString(36)}function ur(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Al:case Tx:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+Ea(i,0):l,vd(r)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),ur(r,t,n,"",function(u){return u})):r!=null&&(ro(r)&&(r=Fx(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(gd,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",vd(e))for(var o=0;o<e.length;o++){a=e[o];var d=l+Ea(a,o);i+=ur(a,t,n,d,r)}else if(d=Ux(e),typeof d=="function")for(e=d.call(e),o=0;!(a=e.next()).done;)a=a.value,d=l+Ea(a,o++),i+=ur(a,t,n,d,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Fl(e,t,n){if(e==null)return e;var l=[],r=0;return ur(e,l,"","",function(a){return t.call(n,a,r++)}),l}function Vx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},mr={transition:null},Hx={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:mr,ReactCurrentOwner:lo};function nu(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Fl,forEach:function(e,t,n){Fl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fl(e,function(){t++}),t},toArray:function(e){return Fl(e,function(t){return t})||[]},only:function(e){if(!ro(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Pn;fe.Fragment=_x;fe.Profiler=Dx;fe.PureComponent=so;fe.StrictMode=Px;fe.Suspense=Ox;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;fe.act=nu;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Jc({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=lo.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)eu.call(t,d)&&!tu.hasOwnProperty(d)&&(l[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)l.children=n;else if(1<d){o=Array(d);for(var u=0;u<d;u++)o[u]=arguments[u+2];l.children=o}return{$$typeof:Al,type:e.type,key:r,ref:a,props:l,_owner:i}};fe.createContext=function(e){return e={$$typeof:Mx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rx,_context:e},e.Consumer=e};fe.createElement=su;fe.createFactory=function(e){var t=su.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Ix,render:e}};fe.isValidElement=ro;fe.lazy=function(e){return{$$typeof:zx,_payload:{_status:-1,_result:e},_init:Vx}};fe.memo=function(e,t){return{$$typeof:Bx,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=mr.transition;mr.transition={};try{e()}finally{mr.transition=t}};fe.unstable_act=nu;fe.useCallback=function(e,t){return ht.current.useCallback(e,t)};fe.useContext=function(e){return ht.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};fe.useEffect=function(e,t){return ht.current.useEffect(e,t)};fe.useId=function(){return ht.current.useId()};fe.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return ht.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};fe.useRef=function(e){return ht.current.useRef(e)};fe.useState=function(e){return ht.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return ht.current.useTransition()};fe.version="18.3.1";Kc.exports=fe;var c=Kc.exports;const Xr=Ax(c),Wx=Lx({__proto__:null,default:Xr},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=c,Qx=Symbol.for("react.element"),qx=Symbol.for("react.fragment"),Kx=Object.prototype.hasOwnProperty,Gx=Yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jx={key:!0,ref:!0,__self:!0,__source:!0};function lu(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)Kx.call(t,l)&&!Jx.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Qx,type:e,key:a,ref:i,props:r,_owner:Gx.current}}Jr.Fragment=qx;Jr.jsx=lu;Jr.jsxs=lu;qc.exports=Jr;var s=qc.exports,ni={},ru={exports:{}},Ct={},au={exports:{}},iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,A){var S=D.length;D.push(A);e:for(;0<S;){var T=S-1>>>1,$=D[T];if(0<r($,A))D[T]=A,D[S]=$,S=T;else break e}}function n(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var A=D[0],S=D.pop();if(S!==A){D[0]=S;e:for(var T=0,$=D.length,ee=$>>>1;T<ee;){var de=2*(T+1)-1,ne=D[de],F=de+1,X=D[F];if(0>r(ne,S))F<$&&0>r(X,ne)?(D[T]=X,D[F]=S,T=F):(D[T]=ne,D[de]=S,T=de);else if(F<$&&0>r(X,S))D[T]=X,D[F]=S,T=F;else break e}}return A}function r(D,A){var S=D.sortIndex-A.sortIndex;return S!==0?S:D.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],u=[],p=1,h=null,g=3,b=!1,y=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(D){for(var A=n(u);A!==null;){if(A.callback===null)l(u);else if(A.startTime<=D)l(u),A.sortIndex=A.expirationTime,t(d,A);else break;A=n(u)}}function v(D){if(j=!1,f(D),!y)if(n(d)!==null)y=!0,H(N);else{var A=n(u);A!==null&&re(v,A.startTime-D)}}function N(D,A){y=!1,j&&(j=!1,x(_),_=-1),b=!0;var S=g;try{for(f(A),h=n(d);h!==null&&(!(h.expirationTime>A)||D&&!k());){var T=h.callback;if(typeof T=="function"){h.callback=null,g=h.priorityLevel;var $=T(h.expirationTime<=A);A=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(d)&&l(d),f(A)}else l(d);h=n(d)}if(h!==null)var ee=!0;else{var de=n(u);de!==null&&re(v,de.startTime-A),ee=!1}return ee}finally{h=null,g=S,b=!1}}var L=!1,U=null,_=-1,O=5,M=-1;function k(){return!(e.unstable_now()-M<O)}function Q(){if(U!==null){var D=e.unstable_now();M=D;var A=!0;try{A=U(!0,D)}finally{A?q():(L=!1,U=null)}}else L=!1}var q;if(typeof m=="function")q=function(){m(Q)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=Q,q=function(){I.postMessage(null)}}else q=function(){P(Q,0)};function H(D){U=D,L||(L=!0,q())}function re(D,A){_=P(function(){D(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,H(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var S=g;g=A;try{return D()}finally{g=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,A){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var S=g;g=D;try{return A()}finally{g=S}},e.unstable_scheduleCallback=function(D,A,S){var T=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?T+S:T):S=T,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=S+$,D={id:p++,callback:A,priorityLevel:D,startTime:S,expirationTime:$,sortIndex:-1},S>T?(D.sortIndex=S,t(u,D),n(d)===null&&D===n(u)&&(j?(x(_),_=-1):j=!0,re(v,S-T))):(D.sortIndex=$,t(d,D),y||b||(y=!0,H(N))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var A=g;return function(){var S=g;g=A;try{return D.apply(this,arguments)}finally{g=S}}}})(iu);au.exports=iu;var Xx=au.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx=c,kt=Xx;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ou=new Set,cl={};function Qs(e,t){Sn(e,t),Sn(e+"Capture",t)}function Sn(e,t){for(cl[e]=t,e=0;e<t.length;e++)ou.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=Object.prototype.hasOwnProperty,e0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},bd={};function t0(e){return li.call(bd,e)?!0:li.call(jd,e)?!1:e0.test(e)?bd[e]=!0:(jd[e]=!0,!1)}function s0(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n0(e,t,n,l){if(t===null||typeof t>"u"||s0(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var ao=/[\-:]([a-z])/g;function io(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ao,io);rt[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ao,io);rt[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ao,io);rt[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function oo(e,t,n,l){var r=rt.hasOwnProperty(t)?rt[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n0(t,n,r,l)&&(n=null),l||r===null?t0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var is=Zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),rn=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),co=Symbol.for("react.strict_mode"),ri=Symbol.for("react.profiler"),du=Symbol.for("react.provider"),cu=Symbol.for("react.context"),uo=Symbol.for("react.forward_ref"),ai=Symbol.for("react.suspense"),ii=Symbol.for("react.suspense_list"),mo=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),uu=Symbol.for("react.offscreen"),yd=Symbol.iterator;function $n(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Ca;function Jn(e){if(Ca===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ca=t&&t[1]||""}return`
`+Ca+e}var La=!1;function Aa(e,t){if(!e||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var l=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){l=u}e.call(t.prototype)}else{try{throw Error()}catch(u){l=u}e()}}catch(u){if(u&&l&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var d=`
`+r[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{La=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jn(e):""}function l0(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function oi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case an:return"Fragment";case rn:return"Portal";case ri:return"Profiler";case co:return"StrictMode";case ai:return"Suspense";case ii:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cu:return(e.displayName||"Context")+".Consumer";case du:return(e._context.displayName||"Context")+".Provider";case uo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mo:return t=e.displayName||null,t!==null?t:oi(e.type)||"Memo";case cs:t=e._payload,e=e._init;try{return oi(e(t))}catch{}}return null}function r0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oi(t);case 8:return t===co?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a0(e){var t=mu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vl(e){e._valueTracker||(e._valueTracker=a0(e))}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=mu(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function di(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nd(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Es(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hu(e,t){t=t.checked,t!=null&&oo(e,"checked",t,!1)}function ci(e,t){hu(e,t);var n=Es(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ui(e,t.type,n):t.hasOwnProperty("defaultValue")&&ui(e,t.type,Es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ui(e,t,n){(t!=="number"||Sr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xn=Array.isArray;function gn(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Es(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Xn(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Es(n)}}function fu(e,t){var n=Es(t.value),l=Es(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,vu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i0=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(e){i0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tl[t]=tl[e]})});function gu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tl.hasOwnProperty(e)&&tl[e]?(""+t).trim():t+"px"}function ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=gu(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var o0=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hi(e,t){if(t){if(o0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function fi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,jn=null,bn=null;function Ed(e){if(e=Pl(e)){if(typeof vi!="function")throw Error(V(280));var t=e.stateNode;t&&(t=na(t),vi(e.stateNode,e.type,t))}}function bu(e){jn?bn?bn.push(e):bn=[e]:jn=e}function yu(){if(jn){var e=jn,t=bn;if(bn=jn=null,Ed(e),t)for(e=0;e<t.length;e++)Ed(t[e])}}function Nu(e,t){return e(t)}function wu(){}var Ta=!1;function Su(e,t,n){if(Ta)return e(t,n);Ta=!0;try{return Nu(e,t,n)}finally{Ta=!1,(jn!==null||bn!==null)&&(wu(),yu())}}function ml(e,t){var n=e.stateNode;if(n===null)return null;var l=na(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var gi=!1;if(ns)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{gi=!1}function d0(e,t,n,l,r,a,i,o,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var sl=!1,kr=null,Er=!1,ji=null,c0={onError:function(e){sl=!0,kr=e}};function u0(e,t,n,l,r,a,i,o,d){sl=!1,kr=null,d0.apply(c0,arguments)}function m0(e,t,n,l,r,a,i,o,d){if(u0.apply(this,arguments),sl){if(sl){var u=kr;sl=!1,kr=null}else throw Error(V(198));Er||(Er=!0,ji=u)}}function qs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ku(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cd(e){if(qs(e)!==e)throw Error(V(188))}function x0(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Cd(r),e;if(a===l)return Cd(r),t;a=a.sibling}throw Error(V(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(V(189))}}if(n.alternate!==l)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Eu(e){return e=x0(e),e!==null?Cu(e):null}function Cu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cu(e);if(t!==null)return t;e=e.sibling}return null}var Lu=kt.unstable_scheduleCallback,Ld=kt.unstable_cancelCallback,h0=kt.unstable_shouldYield,f0=kt.unstable_requestPaint,Ge=kt.unstable_now,p0=kt.unstable_getCurrentPriorityLevel,ho=kt.unstable_ImmediatePriority,Au=kt.unstable_UserBlockingPriority,Cr=kt.unstable_NormalPriority,v0=kt.unstable_LowPriority,Tu=kt.unstable_IdlePriority,Zr=null,Yt=null;function g0(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Zr,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:y0,j0=Math.log,b0=Math.LN2;function y0(e){return e>>>=0,e===0?32:31-(j0(e)/b0|0)|0}var Wl=64,Yl=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lr(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=Zn(o):(a&=i,a!==0&&(l=Zn(a)))}else i=n&~r,i!==0?l=Zn(i):a!==0&&(l=Zn(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-zt(t),r=1<<n,l|=e[n],t&=~r;return l}function N0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-zt(a),o=1<<i,d=r[i];d===-1?(!(o&n)||o&l)&&(r[i]=N0(o,t)):d<=t&&(e.expiredLanes|=o),a&=~o}}function bi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _u(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function _a(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function S0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-zt(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function fo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-zt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var Ae=0;function Pu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Du,po,Ru,Mu,Iu,yi=!1,Ql=[],vs=null,gs=null,js=null,xl=new Map,hl=new Map,ms=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function Hn(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Pl(t),t!==null&&po(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function E0(e,t,n,l,r){switch(t){case"focusin":return vs=Hn(vs,e,t,n,l,r),!0;case"dragenter":return gs=Hn(gs,e,t,n,l,r),!0;case"mouseover":return js=Hn(js,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return xl.set(a,Hn(xl.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,hl.set(a,Hn(hl.get(a)||null,e,t,n,l,r)),!0}return!1}function Ou(e){var t=Os(e.target);if(t!==null){var n=qs(t);if(n!==null){if(t=n.tag,t===13){if(t=ku(n),t!==null){e.blockedOn=t,Iu(e.priority,function(){Ru(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ni(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);pi=l,n.target.dispatchEvent(l),pi=null}else return t=Pl(n),t!==null&&po(t),e.blockedOn=n,!1;t.shift()}return!0}function Td(e,t,n){xr(e)&&n.delete(t)}function C0(){yi=!1,vs!==null&&xr(vs)&&(vs=null),gs!==null&&xr(gs)&&(gs=null),js!==null&&xr(js)&&(js=null),xl.forEach(Td),hl.forEach(Td)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,yi||(yi=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,C0)))}function fl(e){function t(r){return Wn(r,e)}if(0<Ql.length){Wn(Ql[0],e);for(var n=1;n<Ql.length;n++){var l=Ql[n];l.blockedOn===e&&(l.blockedOn=null)}}for(vs!==null&&Wn(vs,e),gs!==null&&Wn(gs,e),js!==null&&Wn(js,e),xl.forEach(t),hl.forEach(t),n=0;n<ms.length;n++)l=ms[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)Ou(n),n.blockedOn===null&&ms.shift()}var yn=is.ReactCurrentBatchConfig,Ar=!0;function L0(e,t,n,l){var r=Ae,a=yn.transition;yn.transition=null;try{Ae=1,vo(e,t,n,l)}finally{Ae=r,yn.transition=a}}function A0(e,t,n,l){var r=Ae,a=yn.transition;yn.transition=null;try{Ae=4,vo(e,t,n,l)}finally{Ae=r,yn.transition=a}}function vo(e,t,n,l){if(Ar){var r=Ni(e,t,n,l);if(r===null)Fa(e,t,l,Tr,n),Ad(e,l);else if(E0(r,e,t,n,l))l.stopPropagation();else if(Ad(e,l),t&4&&-1<k0.indexOf(e)){for(;r!==null;){var a=Pl(r);if(a!==null&&Du(a),a=Ni(e,t,n,l),a===null&&Fa(e,t,l,Tr,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else Fa(e,t,l,null,n)}}var Tr=null;function Ni(e,t,n,l){if(Tr=null,e=xo(l),e=Os(e),e!==null)if(t=qs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ku(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tr=e,null}function Bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p0()){case ho:return 1;case Au:return 4;case Cr:case v0:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var hs=null,go=null,hr=null;function zu(){if(hr)return hr;var e,t=go,n=t.length,l,r="value"in hs?hs.value:hs.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return hr=r.slice(e,1<l?1-l:void 0)}function fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function _d(){return!1}function Lt(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ql:_d,this.isPropagationStopped=_d,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Lt(Dn),_l=Ye({},Dn,{view:0,detail:0}),T0=Lt(_l),Pa,Da,Yn,ea=Ye({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Pa=e.screenX-Yn.screenX,Da=e.screenY-Yn.screenY):Da=Pa=0,Yn=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),Pd=Lt(ea),_0=Ye({},ea,{dataTransfer:0}),P0=Lt(_0),D0=Ye({},_l,{relatedTarget:0}),Ra=Lt(D0),R0=Ye({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=Lt(R0),I0=Ye({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=Lt(I0),B0=Ye({},Dn,{data:0}),Dd=Lt(B0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F0[e])?!!t[e]:!1}function bo(){return $0}var V0=Ye({},_l,{key:function(e){if(e.key){var t=z0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H0=Lt(V0),W0=Ye({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Lt(W0),Y0=Ye({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),Q0=Lt(Y0),q0=Ye({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Lt(q0),G0=Ye({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=Lt(G0),X0=[9,13,27,32],yo=ns&&"CompositionEvent"in window,nl=null;ns&&"documentMode"in document&&(nl=document.documentMode);var Z0=ns&&"TextEvent"in window&&!nl,Uu=ns&&(!yo||nl&&8<nl&&11>=nl),Md=" ",Id=!1;function Fu(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function eh(e,t){switch(e){case"compositionend":return $u(t);case"keypress":return t.which!==32?null:(Id=!0,Md);case"textInput":return e=t.data,e===Md&&Id?null:e;default:return null}}function th(e,t){if(on)return e==="compositionend"||!yo&&Fu(e,t)?(e=zu(),hr=go=hs=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uu&&t.locale!=="ko"?null:t.data;default:return null}}var sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sh[e.type]:t==="textarea"}function Vu(e,t,n,l){bu(l),t=_r(t,"onChange"),0<t.length&&(n=new jo("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ll=null,pl=null;function nh(e){em(e,0)}function ta(e){var t=un(e);if(xu(t))return e}function lh(e,t){if(e==="change")return t}var Hu=!1;if(ns){var Ma;if(ns){var Ia="oninput"in document;if(!Ia){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Ia=typeof Bd.oninput=="function"}Ma=Ia}else Ma=!1;Hu=Ma&&(!document.documentMode||9<document.documentMode)}function zd(){ll&&(ll.detachEvent("onpropertychange",Wu),pl=ll=null)}function Wu(e){if(e.propertyName==="value"&&ta(pl)){var t=[];Vu(t,pl,e,xo(e)),Su(nh,t)}}function rh(e,t,n){e==="focusin"?(zd(),ll=t,pl=n,ll.attachEvent("onpropertychange",Wu)):e==="focusout"&&zd()}function ah(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(pl)}function ih(e,t){if(e==="click")return ta(t)}function oh(e,t){if(e==="input"||e==="change")return ta(t)}function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:dh;function vl(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!li.call(t,r)||!Ft(e[r],t[r]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var n=Ud(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ud(n)}}function Yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qu(){for(var e=window,t=Sr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sr(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ch(e){var t=Qu(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yu(n.ownerDocument.documentElement,n)){if(l!==null&&No(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=Fd(n,a);var i=Fd(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uh=ns&&"documentMode"in document&&11>=document.documentMode,dn=null,wi=null,rl=null,Si=!1;function $d(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Si||dn==null||dn!==Sr(l)||(l=dn,"selectionStart"in l&&No(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&vl(rl,l)||(rl=l,l=_r(wi,"onSelect"),0<l.length&&(t=new jo("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=dn)))}function Kl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},Oa={},qu={};ns&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function sa(e){if(Oa[e])return Oa[e];if(!cn[e])return e;var t=cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qu)return Oa[e]=t[n];return e}var Ku=sa("animationend"),Gu=sa("animationiteration"),Ju=sa("animationstart"),Xu=sa("transitionend"),Zu=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){Zu.set(e,t),Qs(t,[e])}for(var Ba=0;Ba<Vd.length;Ba++){var za=Vd[Ba],mh=za.toLowerCase(),xh=za[0].toUpperCase()+za.slice(1);Ls(mh,"on"+xh)}Ls(Ku,"onAnimationEnd");Ls(Gu,"onAnimationIteration");Ls(Ju,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(Xu,"onTransitionEnd");Sn("onMouseEnter",["mouseout","mouseover"]);Sn("onMouseLeave",["mouseout","mouseover"]);Sn("onPointerEnter",["pointerout","pointerover"]);Sn("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function Hd(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,m0(l,t,void 0,e),e.currentTarget=null}function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==a&&r.isPropagationStopped())break e;Hd(r,o,u),a=d}else for(i=0;i<l.length;i++){if(o=l[i],d=o.instance,u=o.currentTarget,o=o.listener,d!==a&&r.isPropagationStopped())break e;Hd(r,o,u),a=d}}}if(Er)throw e=ji,Er=!1,ji=null,e}function Me(e,t){var n=t[Ai];n===void 0&&(n=t[Ai]=new Set);var l=e+"__bubble";n.has(l)||(tm(t,e,2,!1),n.add(l))}function Ua(e,t,n){var l=0;t&&(l|=4),tm(n,e,l,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function gl(e){if(!e[Gl]){e[Gl]=!0,ou.forEach(function(n){n!=="selectionchange"&&(hh.has(n)||Ua(n,!1,e),Ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,Ua("selectionchange",!1,t))}}function tm(e,t,n,l){switch(Bu(t)){case 1:var r=L0;break;case 4:r=A0;break;default:r=vo}n=r.bind(null,t,n,e),r=void 0,!gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Fa(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;i=i.return}for(;o!==null;){if(i=Os(o),i===null)return;if(d=i.tag,d===5||d===6){l=a=i;continue e}o=o.parentNode}}l=l.return}Su(function(){var u=a,p=xo(n),h=[];e:{var g=Zu.get(e);if(g!==void 0){var b=jo,y=e;switch(e){case"keypress":if(fr(n)===0)break e;case"keydown":case"keyup":b=H0;break;case"focusin":y="focus",b=Ra;break;case"focusout":y="blur",b=Ra;break;case"beforeblur":case"afterblur":b=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Q0;break;case Ku:case Gu:case Ju:b=M0;break;case Xu:b=K0;break;case"scroll":b=T0;break;case"wheel":b=J0;break;case"copy":case"cut":case"paste":b=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Rd}var j=(t&4)!==0,P=!j&&e==="scroll",x=j?g!==null?g+"Capture":null:g;j=[];for(var m=u,f;m!==null;){f=m;var v=f.stateNode;if(f.tag===5&&v!==null&&(f=v,x!==null&&(v=ml(m,x),v!=null&&j.push(jl(m,v,f)))),P)break;m=m.return}0<j.length&&(g=new b(g,y,null,n,p),h.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&n!==pi&&(y=n.relatedTarget||n.fromElement)&&(Os(y)||y[ls]))break e;if((b||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=u,y=y?Os(y):null,y!==null&&(P=qs(y),y!==P||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=u),b!==y)){if(j=Pd,v="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=Rd,v="onPointerLeave",x="onPointerEnter",m="pointer"),P=b==null?g:un(b),f=y==null?g:un(y),g=new j(v,m+"leave",b,n,p),g.target=P,g.relatedTarget=f,v=null,Os(p)===u&&(j=new j(x,m+"enter",y,n,p),j.target=f,j.relatedTarget=P,v=j),P=v,b&&y)t:{for(j=b,x=y,m=0,f=j;f;f=Xs(f))m++;for(f=0,v=x;v;v=Xs(v))f++;for(;0<m-f;)j=Xs(j),m--;for(;0<f-m;)x=Xs(x),f--;for(;m--;){if(j===x||x!==null&&j===x.alternate)break t;j=Xs(j),x=Xs(x)}j=null}else j=null;b!==null&&Wd(h,g,b,j,!1),y!==null&&P!==null&&Wd(h,P,y,j,!0)}}e:{if(g=u?un(u):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var N=lh;else if(Od(g))if(Hu)N=oh;else{N=ah;var L=rh}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=ih);if(N&&(N=N(e,u))){Vu(h,N,n,p);break e}L&&L(e,g,u),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&ui(g,"number",g.value)}switch(L=u?un(u):window,e){case"focusin":(Od(L)||L.contentEditable==="true")&&(dn=L,wi=u,rl=null);break;case"focusout":rl=wi=dn=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,$d(h,n,p);break;case"selectionchange":if(uh)break;case"keydown":case"keyup":$d(h,n,p)}var U;if(yo)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else on?Fu(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Uu&&n.locale!=="ko"&&(on||_!=="onCompositionStart"?_==="onCompositionEnd"&&on&&(U=zu()):(hs=p,go="value"in hs?hs.value:hs.textContent,on=!0)),L=_r(u,_),0<L.length&&(_=new Dd(_,e,null,n,p),h.push({event:_,listeners:L}),U?_.data=U:(U=$u(n),U!==null&&(_.data=U)))),(U=Z0?eh(e,n):th(e,n))&&(u=_r(u,"onBeforeInput"),0<u.length&&(p=new Dd("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:u}),p.data=U))}em(h,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _r(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=ml(e,n),a!=null&&l.unshift(jl(e,a,r)),a=ml(e,t),a!=null&&l.push(jl(e,a,r))),e=e.return}return l}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,d=o.alternate,u=o.stateNode;if(d!==null&&d===l)break;o.tag===5&&u!==null&&(o=u,r?(d=ml(n,a),d!=null&&i.unshift(jl(n,d,o))):r||(d=ml(n,a),d!=null&&i.push(jl(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var fh=/\r\n?/g,ph=/\u0000|\uFFFD/g;function Yd(e){return(typeof e=="string"?e:""+e).replace(fh,`
`).replace(ph,"")}function Jl(e,t,n){if(t=Yd(t),Yd(e)!==t&&n)throw Error(V(425))}function Pr(){}var ki=null,Ei=null;function Ci(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Li=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(e){return Qd.resolve(null).then(e).catch(jh)}:Li;function jh(e){setTimeout(function(){throw e})}function $a(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),fl(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);fl(t)}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Rn,bl="__reactProps$"+Rn,ls="__reactContainer$"+Rn,Ai="__reactEvents$"+Rn,bh="__reactListeners$"+Rn,yh="__reactHandles$"+Rn;function Os(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qd(e);e!==null;){if(n=e[Wt])return n;e=qd(e)}return t}e=n,n=e.parentNode}return null}function Pl(e){return e=e[Wt]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function na(e){return e[bl]||null}var Ti=[],mn=-1;function As(e){return{current:e}}function Ie(e){0>mn||(e.current=Ti[mn],Ti[mn]=null,mn--)}function Pe(e,t){mn++,Ti[mn]=e.current,e.current=t}var Cs={},ct=As(Cs),jt=As(!1),$s=Cs;function kn(e,t){var n=e.type.contextTypes;if(!n)return Cs;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function bt(e){return e=e.childContextTypes,e!=null}function Dr(){Ie(jt),Ie(ct)}function Kd(e,t,n){if(ct.current!==Cs)throw Error(V(168));Pe(ct,t),Pe(jt,n)}function sm(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(V(108,r0(e)||"Unknown",r));return Ye({},n,l)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,$s=ct.current,Pe(ct,e),Pe(jt,jt.current),!0}function Gd(e,t,n){var l=e.stateNode;if(!l)throw Error(V(169));n?(e=sm(e,t,$s),l.__reactInternalMemoizedMergedChildContext=e,Ie(jt),Ie(ct),Pe(ct,e)):Ie(jt),Pe(jt,n)}var Zt=null,la=!1,Va=!1;function nm(e){Zt===null?Zt=[e]:Zt.push(e)}function Nh(e){la=!0,nm(e)}function Ts(){if(!Va&&Zt!==null){Va=!0;var e=0,t=Ae;try{var n=Zt;for(Ae=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Zt=null,la=!1}catch(r){throw Zt!==null&&(Zt=Zt.slice(e+1)),Lu(ho,Ts),r}finally{Ae=t,Va=!1}}return null}var xn=[],hn=0,Mr=null,Ir=0,At=[],Tt=0,Vs=null,es=1,ts="";function Ms(e,t){xn[hn++]=Ir,xn[hn++]=Mr,Mr=e,Ir=t}function lm(e,t,n){At[Tt++]=es,At[Tt++]=ts,At[Tt++]=Vs,Vs=e;var l=es;e=ts;var r=32-zt(l)-1;l&=~(1<<r),n+=1;var a=32-zt(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,es=1<<32-zt(t)+r|n<<r|l,ts=a+e}else es=1<<a|n<<r|l,ts=e}function wo(e){e.return!==null&&(Ms(e,1),lm(e,1,0))}function So(e){for(;e===Mr;)Mr=xn[--hn],xn[hn]=null,Ir=xn[--hn],xn[hn]=null;for(;e===Vs;)Vs=At[--Tt],At[Tt]=null,ts=At[--Tt],At[Tt]=null,es=At[--Tt],At[Tt]=null}var St=null,wt=null,Ue=!1,Bt=null;function rm(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,wt=bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vs!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,St=e,wt=null,!0):!1;default:return!1}}function _i(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pi(e){if(Ue){var t=wt;if(t){var n=t;if(!Jd(e,t)){if(_i(e))throw Error(V(418));t=bs(n.nextSibling);var l=St;t&&Jd(e,t)?rm(l,n):(e.flags=e.flags&-4097|2,Ue=!1,St=e)}}else{if(_i(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ue=!1,St=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Xl(e){if(e!==St)return!1;if(!Ue)return Xd(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ci(e.type,e.memoizedProps)),t&&(t=wt)){if(_i(e))throw am(),Error(V(418));for(;t;)rm(e,t),t=bs(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=St?bs(e.stateNode.nextSibling):null;return!0}function am(){for(var e=wt;e;)e=bs(e.nextSibling)}function En(){wt=St=null,Ue=!1}function ko(e){Bt===null?Bt=[e]:Bt.push(e)}var wh=is.ReactCurrentBatchConfig;function Qn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var l=n.stateNode}if(!l)throw Error(V(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Zl(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function im(e){function t(x,m){if(e){var f=x.deletions;f===null?(x.deletions=[m],x.flags|=16):f.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function l(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function r(x,m){return x=Ss(x,m),x.index=0,x.sibling=null,x}function a(x,m,f){return x.index=f,e?(f=x.alternate,f!==null?(f=f.index,f<m?(x.flags|=2,m):f):(x.flags|=2,m)):(x.flags|=1048576,m)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,m,f,v){return m===null||m.tag!==6?(m=Ga(f,x.mode,v),m.return=x,m):(m=r(m,f),m.return=x,m)}function d(x,m,f,v){var N=f.type;return N===an?p(x,m,f.props.children,v,f.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cs&&Zd(N)===m.type)?(v=r(m,f.props),v.ref=Qn(x,m,f),v.return=x,v):(v=Nr(f.type,f.key,f.props,null,x.mode,v),v.ref=Qn(x,m,f),v.return=x,v)}function u(x,m,f,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Ja(f,x.mode,v),m.return=x,m):(m=r(m,f.children||[]),m.return=x,m)}function p(x,m,f,v,N){return m===null||m.tag!==7?(m=Fs(f,x.mode,v,N),m.return=x,m):(m=r(m,f),m.return=x,m)}function h(x,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ga(""+m,x.mode,f),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $l:return f=Nr(m.type,m.key,m.props,null,x.mode,f),f.ref=Qn(x,null,m),f.return=x,f;case rn:return m=Ja(m,x.mode,f),m.return=x,m;case cs:var v=m._init;return h(x,v(m._payload),f)}if(Xn(m)||$n(m))return m=Fs(m,x.mode,f,null),m.return=x,m;Zl(x,m)}return null}function g(x,m,f,v){var N=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:o(x,m,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $l:return f.key===N?d(x,m,f,v):null;case rn:return f.key===N?u(x,m,f,v):null;case cs:return N=f._init,g(x,m,N(f._payload),v)}if(Xn(f)||$n(f))return N!==null?null:p(x,m,f,v,null);Zl(x,f)}return null}function b(x,m,f,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return x=x.get(f)||null,o(m,x,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:return x=x.get(v.key===null?f:v.key)||null,d(m,x,v,N);case rn:return x=x.get(v.key===null?f:v.key)||null,u(m,x,v,N);case cs:var L=v._init;return b(x,m,f,L(v._payload),N)}if(Xn(v)||$n(v))return x=x.get(f)||null,p(m,x,v,N,null);Zl(m,v)}return null}function y(x,m,f,v){for(var N=null,L=null,U=m,_=m=0,O=null;U!==null&&_<f.length;_++){U.index>_?(O=U,U=null):O=U.sibling;var M=g(x,U,f[_],v);if(M===null){U===null&&(U=O);break}e&&U&&M.alternate===null&&t(x,U),m=a(M,m,_),L===null?N=M:L.sibling=M,L=M,U=O}if(_===f.length)return n(x,U),Ue&&Ms(x,_),N;if(U===null){for(;_<f.length;_++)U=h(x,f[_],v),U!==null&&(m=a(U,m,_),L===null?N=U:L.sibling=U,L=U);return Ue&&Ms(x,_),N}for(U=l(x,U);_<f.length;_++)O=b(U,x,_,f[_],v),O!==null&&(e&&O.alternate!==null&&U.delete(O.key===null?_:O.key),m=a(O,m,_),L===null?N=O:L.sibling=O,L=O);return e&&U.forEach(function(k){return t(x,k)}),Ue&&Ms(x,_),N}function j(x,m,f,v){var N=$n(f);if(typeof N!="function")throw Error(V(150));if(f=N.call(f),f==null)throw Error(V(151));for(var L=N=null,U=m,_=m=0,O=null,M=f.next();U!==null&&!M.done;_++,M=f.next()){U.index>_?(O=U,U=null):O=U.sibling;var k=g(x,U,M.value,v);if(k===null){U===null&&(U=O);break}e&&U&&k.alternate===null&&t(x,U),m=a(k,m,_),L===null?N=k:L.sibling=k,L=k,U=O}if(M.done)return n(x,U),Ue&&Ms(x,_),N;if(U===null){for(;!M.done;_++,M=f.next())M=h(x,M.value,v),M!==null&&(m=a(M,m,_),L===null?N=M:L.sibling=M,L=M);return Ue&&Ms(x,_),N}for(U=l(x,U);!M.done;_++,M=f.next())M=b(U,x,_,M.value,v),M!==null&&(e&&M.alternate!==null&&U.delete(M.key===null?_:M.key),m=a(M,m,_),L===null?N=M:L.sibling=M,L=M);return e&&U.forEach(function(Q){return t(x,Q)}),Ue&&Ms(x,_),N}function P(x,m,f,v){if(typeof f=="object"&&f!==null&&f.type===an&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case $l:e:{for(var N=f.key,L=m;L!==null;){if(L.key===N){if(N=f.type,N===an){if(L.tag===7){n(x,L.sibling),m=r(L,f.props.children),m.return=x,x=m;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cs&&Zd(N)===L.type){n(x,L.sibling),m=r(L,f.props),m.ref=Qn(x,L,f),m.return=x,x=m;break e}n(x,L);break}else t(x,L);L=L.sibling}f.type===an?(m=Fs(f.props.children,x.mode,v,f.key),m.return=x,x=m):(v=Nr(f.type,f.key,f.props,null,x.mode,v),v.ref=Qn(x,m,f),v.return=x,x=v)}return i(x);case rn:e:{for(L=f.key;m!==null;){if(m.key===L)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){n(x,m.sibling),m=r(m,f.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Ja(f,x.mode,v),m.return=x,x=m}return i(x);case cs:return L=f._init,P(x,m,L(f._payload),v)}if(Xn(f))return y(x,m,f,v);if($n(f))return j(x,m,f,v);Zl(x,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(n(x,m.sibling),m=r(m,f),m.return=x,x=m):(n(x,m),m=Ga(f,x.mode,v),m.return=x,x=m),i(x)):n(x,m)}return P}var Cn=im(!0),om=im(!1),Or=As(null),Br=null,fn=null,Eo=null;function Co(){Eo=fn=Br=null}function Lo(e){var t=Or.current;Ie(Or),e._currentValue=t}function Di(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Nn(e,t){Br=e,Eo=fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},fn===null){if(Br===null)throw Error(V(308));fn=e,Br.dependencies={lanes:0,firstContext:e}}else fn=fn.next=e;return t}var Bs=null;function Ao(e){Bs===null?Bs=[e]:Bs.push(e)}function dm(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,Ao(t)):(n.next=r.next,r.next=n),t.interleaved=n,rs(e,l)}function rs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var us=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ys(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,we&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,rs(e,n)}return r=l.interleaved,r===null?(t.next=t,Ao(l)):(t.next=r.next,r.next=t),l.interleaved=t,rs(e,n)}function pr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,fo(e,n)}}function ec(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zr(e,t,n,l){var r=e.updateQueue;us=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var d=o,u=d.next;d.next=null,i===null?a=u:i.next=u,i=d;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=d))}if(a!==null){var h=r.baseState;i=0,p=u=d=null,o=a;do{var g=o.lane,b=o.eventTime;if((l&g)===g){p!==null&&(p=p.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,j=o;switch(g=t,b=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(b,h,g);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,g=typeof y=="function"?y.call(b,h,g):y,g==null)break e;h=Ye({},h,g);break e;case 2:us=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[o]:g.push(o))}else b={eventTime:b,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(u=p=b,d=h):p=p.next=b,i|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(p===null&&(d=h),r.baseState=d,r.firstBaseUpdate=u,r.lastBaseUpdate=p,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);Ws|=i,e.lanes=i,e.memoizedState=h}}function tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(V(191,r));r.call(l)}}}var Dl={},Qt=As(Dl),yl=As(Dl),Nl=As(Dl);function zs(e){if(e===Dl)throw Error(V(174));return e}function _o(e,t){switch(Pe(Nl,t),Pe(yl,e),Pe(Qt,Dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xi(t,e)}Ie(Qt),Pe(Qt,t)}function Ln(){Ie(Qt),Ie(yl),Ie(Nl)}function um(e){zs(Nl.current);var t=zs(Qt.current),n=xi(t,e.type);t!==n&&(Pe(yl,e),Pe(Qt,n))}function Po(e){yl.current===e&&(Ie(Qt),Ie(yl))}var Ve=As(0);function Ur(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=[];function Do(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var vr=is.ReactCurrentDispatcher,Wa=is.ReactCurrentBatchConfig,Hs=0,He=null,Xe=null,et=null,Fr=!1,al=!1,wl=0,Sh=0;function it(){throw Error(V(321))}function Ro(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function Mo(e,t,n,l,r,a){if(Hs=a,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vr.current=e===null||e.memoizedState===null?Lh:Ah,e=n(l,r),al){a=0;do{if(al=!1,wl=0,25<=a)throw Error(V(301));a+=1,et=Xe=null,t.updateQueue=null,vr.current=Th,e=n(l,r)}while(al)}if(vr.current=$r,t=Xe!==null&&Xe.next!==null,Hs=0,et=Xe=He=null,Fr=!1,t)throw Error(V(300));return e}function Io(){var e=wl!==0;return wl=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?He.memoizedState=et=e:et=et.next=e,et}function Rt(){if(Xe===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=et===null?He.memoizedState:et.next;if(t!==null)et=t,Xe=e;else{if(e===null)throw Error(V(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},et===null?He.memoizedState=et=e:et=et.next=e}return et}function Sl(e,t){return typeof t=="function"?t(e):t}function Ya(e){var t=Rt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var l=Xe,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,d=null,u=a;do{var p=u.lane;if((Hs&p)===p)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),l=u.hasEagerState?u.eagerState:e(l,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(o=d=h,i=l):d=d.next=h,He.lanes|=p,Ws|=p}u=u.next}while(u!==null&&u!==a);d===null?i=l:d.next=o,Ft(l,t.memoizedState)||(gt=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=d,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,He.lanes|=a,Ws|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qa(e){var t=Rt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);Ft(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function mm(){}function xm(e,t){var n=He,l=Rt(),r=t(),a=!Ft(l.memoizedState,r);if(a&&(l.memoizedState=r,gt=!0),l=l.queue,Oo(pm.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,kl(9,fm.bind(null,n,l,r,t),void 0,null),tt===null)throw Error(V(349));Hs&30||hm(n,t,r)}return r}function hm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fm(e,t,n,l){t.value=n,t.getSnapshot=l,vm(t)&&gm(e)}function pm(e,t,n){return n(function(){vm(t)&&gm(e)})}function vm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function gm(e){var t=rs(e,1);t!==null&&Ut(t,e,1,-1)}function sc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ch.bind(null,He,e),[t.memoizedState,e]}function kl(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function jm(){return Rt().memoizedState}function gr(e,t,n,l){var r=Ht();He.flags|=e,r.memoizedState=kl(1|t,n,void 0,l===void 0?null:l)}function ra(e,t,n,l){var r=Rt();l=l===void 0?null:l;var a=void 0;if(Xe!==null){var i=Xe.memoizedState;if(a=i.destroy,l!==null&&Ro(l,i.deps)){r.memoizedState=kl(t,n,a,l);return}}He.flags|=e,r.memoizedState=kl(1|t,n,a,l)}function nc(e,t){return gr(8390656,8,e,t)}function Oo(e,t){return ra(2048,8,e,t)}function bm(e,t){return ra(4,2,e,t)}function ym(e,t){return ra(4,4,e,t)}function Nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wm(e,t,n){return n=n!=null?n.concat([e]):null,ra(4,4,Nm.bind(null,t,e),n)}function Bo(){}function Sm(e,t){var n=Rt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ro(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function km(e,t){var n=Rt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ro(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Em(e,t,n){return Hs&21?(Ft(n,t)||(n=_u(),He.lanes|=n,Ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function kh(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var l=Wa.transition;Wa.transition={};try{e(!1),t()}finally{Ae=n,Wa.transition=l}}function Cm(){return Rt().memoizedState}function Eh(e,t,n){var l=ws(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Lm(e))Am(t,n);else if(n=dm(e,t,n,l),n!==null){var r=mt();Ut(n,e,l,r),Tm(n,t,l)}}function Ch(e,t,n){var l=ws(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lm(e))Am(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,Ft(o,i)){var d=t.interleaved;d===null?(r.next=r,Ao(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=dm(e,t,r,l),n!==null&&(r=mt(),Ut(n,e,l,r),Tm(n,t,l))}}function Lm(e){var t=e.alternate;return e===He||t!==null&&t===He}function Am(e,t){al=Fr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tm(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,fo(e,n)}}var $r={readContext:Dt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Lh={readContext:Dt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gr(4194308,4,Nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gr(4194308,4,e,t)},useInsertionEffect:function(e,t){return gr(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Ht();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Eh.bind(null,He,e),[l.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:sc,useDebugValue:Bo,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=sc(!1),t=e[0];return e=kh.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=He,r=Ht();if(Ue){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),tt===null)throw Error(V(349));Hs&30||hm(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,nc(pm.bind(null,l,a,e),[e]),l.flags|=2048,kl(9,fm.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=Ht(),t=tt.identifierPrefix;if(Ue){var n=ts,l=es;n=(l&~(1<<32-zt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=wl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:Dt,useCallback:Sm,useContext:Dt,useEffect:Oo,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:ym,useMemo:km,useReducer:Ya,useRef:jm,useState:function(){return Ya(Sl)},useDebugValue:Bo,useDeferredValue:function(e){var t=Rt();return Em(t,Xe.memoizedState,e)},useTransition:function(){var e=Ya(Sl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:xm,useId:Cm,unstable_isNewReconciler:!1},Th={readContext:Dt,useCallback:Sm,useContext:Dt,useEffect:Oo,useImperativeHandle:wm,useInsertionEffect:bm,useLayoutEffect:ym,useMemo:km,useReducer:Qa,useRef:jm,useState:function(){return Qa(Sl)},useDebugValue:Bo,useDeferredValue:function(e){var t=Rt();return Xe===null?t.memoizedState=e:Em(t,Xe.memoizedState,e)},useTransition:function(){var e=Qa(Sl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:xm,useId:Cm,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ri(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mt(),r=ws(e),a=ss(l,r);a.payload=t,n!=null&&(a.callback=n),t=ys(e,a,r),t!==null&&(Ut(t,e,r,l),pr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mt(),r=ws(e),a=ss(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ys(e,a,r),t!==null&&(Ut(t,e,r,l),pr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),l=ws(e),r=ss(n,l);r.tag=2,t!=null&&(r.callback=t),t=ys(e,r,l),t!==null&&(Ut(t,e,l,n),pr(t,e,l))}};function lc(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!vl(n,l)||!vl(r,a):!0}function _m(e,t,n){var l=!1,r=Cs,a=t.contextType;return typeof a=="object"&&a!==null?a=Dt(a):(r=bt(t)?$s:ct.current,l=t.contextTypes,a=(l=l!=null)?kn(e,r):Cs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function rc(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function Mi(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},To(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=Dt(a):(a=bt(t)?$s:ct.current,r.context=kn(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ri(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&aa.enqueueReplaceState(r,r.state,null),zr(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var n="",l=t;do n+=l0(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ii(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _h=typeof WeakMap=="function"?WeakMap:Map;function Pm(e,t,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Hr||(Hr=!0,Yi=l),Ii(e,t)},n}function Dm(e,t,n){n=ss(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Ii(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ii(e,t),typeof l!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ac(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new _h;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Wh.bind(null,e,t,n),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ss(-1,1),t.tag=2,ys(n,t,1))),n.lanes|=1),e)}var Ph=is.ReactCurrentOwner,gt=!1;function ut(e,t,n,l){t.child=e===null?om(t,null,n,l):Cn(t,e.child,n,l)}function dc(e,t,n,l,r){n=n.render;var a=t.ref;return Nn(t,r),l=Mo(e,t,n,l,a,r),n=Io(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,as(e,t,r)):(Ue&&n&&wo(t),t.flags|=1,ut(e,t,l,r),t.child)}function cc(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Yo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Rm(e,t,a,l,r)):(e=Nr(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(i,l)&&e.ref===t.ref)return as(e,t,r)}return t.flags|=1,e=Ss(a,l),e.ref=t.ref,e.return=t,t.child=e}function Rm(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(vl(a,l)&&e.ref===t.ref)if(gt=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,as(e,t,r)}return Oi(e,t,n,l,r)}function Mm(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(vn,Nt),Nt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(vn,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,Pe(vn,Nt),Nt|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,Pe(vn,Nt),Nt|=l;return ut(e,t,r,n),t.child}function Im(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oi(e,t,n,l,r){var a=bt(n)?$s:ct.current;return a=kn(t,a),Nn(t,r),n=Mo(e,t,n,l,a,r),l=Io(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,as(e,t,r)):(Ue&&l&&wo(t),t.flags|=1,ut(e,t,n,r),t.child)}function uc(e,t,n,l,r){if(bt(n)){var a=!0;Rr(t)}else a=!1;if(Nn(t,r),t.stateNode===null)jr(e,t),_m(t,n,l),Mi(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=bt(n)?$s:ct.current,u=kn(t,u));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||d!==u)&&rc(t,i,l,u),us=!1;var g=t.memoizedState;i.state=g,zr(t,l,i,r),d=t.memoizedState,o!==l||g!==d||jt.current||us?(typeof p=="function"&&(Ri(t,n,p,l),d=t.memoizedState),(o=us||lc(t,n,o,l,g,d,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=d),i.props=l,i.state=d,i.context=u,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,cm(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:It(t.type,o),i.props=u,h=t.pendingProps,g=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=Dt(d):(d=bt(n)?$s:ct.current,d=kn(t,d));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||g!==d)&&rc(t,i,l,d),us=!1,g=t.memoizedState,i.state=g,zr(t,l,i,r);var y=t.memoizedState;o!==h||g!==y||jt.current||us?(typeof b=="function"&&(Ri(t,n,b,l),y=t.memoizedState),(u=us||lc(t,n,u,l,g,y,d)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,y,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,y,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=y),i.props=l,i.state=y,i.context=d,l=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),l=!1)}return Bi(e,t,n,l,a,r)}function Bi(e,t,n,l,r,a){Im(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&Gd(t,n,!1),as(e,t,a);l=t.stateNode,Ph.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=Cn(t,e.child,null,a),t.child=Cn(t,null,o,a)):ut(e,t,o,a),t.memoizedState=l.state,r&&Gd(t,n,!0),t.child}function Om(e){var t=e.stateNode;t.pendingContext?Kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kd(e,t.context,!1),_o(e,t.containerInfo)}function mc(e,t,n,l,r){return En(),ko(r),t.flags|=256,ut(e,t,n,l),t.child}var zi={dehydrated:null,treeContext:null,retryLane:0};function Ui(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bm(e,t,n){var l=t.pendingProps,r=Ve.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Pe(Ve,r&1),e===null)return Pi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=da(i,l,0,null),e=Fs(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ui(n),t.memoizedState=zi,e):zo(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Dh(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var d={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=d,t.deletions=null):(l=Ss(r,d),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Ss(o,a):(a=Fs(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Ui(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=zi,l}return a=e.child,e=a.sibling,l=Ss(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function zo(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function er(e,t,n,l){return l!==null&&ko(l),Cn(t,e.child,null,n),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dh(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=qa(Error(V(422))),er(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=da({mode:"visible",children:l.children},r,0,null),a=Fs(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&Cn(t,e.child,null,i),t.child.memoizedState=Ui(i),t.memoizedState=zi,a);if(!(t.mode&1))return er(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(V(419)),l=qa(a,l,void 0),er(e,t,i,l)}if(o=(i&e.childLanes)!==0,gt||o){if(l=tt,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,rs(e,r),Ut(l,e,r,-1))}return Wo(),l=qa(Error(V(421))),er(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Yh.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,wt=bs(r.nextSibling),St=t,Ue=!0,Bt=null,e!==null&&(At[Tt++]=es,At[Tt++]=ts,At[Tt++]=Vs,es=e.id,ts=e.overflow,Vs=t),t=zo(t,l.children),t.flags|=4096,t)}function xc(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Di(e.return,t,n)}function Ka(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function zm(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(ut(e,t,l.children,n),l=Ve.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,n,t);else if(e.tag===19)xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Pe(Ve,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ur(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ka(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ur(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ka(t,!0,n,null,a);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Ss(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ss(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rh(e,t,n){switch(t.tag){case 3:Om(t),En();break;case 5:um(t);break;case 1:bt(t.type)&&Rr(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;Pe(Or,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Pe(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?Bm(e,t,n):(Pe(Ve,Ve.current&1),e=as(e,t,n),e!==null?e.sibling:null);Pe(Ve,Ve.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return zm(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pe(Ve,Ve.current),l)break;return null;case 22:case 23:return t.lanes=0,Mm(e,t,n)}return as(e,t,n)}var Um,Fi,Fm,$m;Um=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fi=function(){};Fm=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,zs(Qt.current);var a=null;switch(n){case"input":r=di(e,r),l=di(e,l),a=[];break;case"select":r=Ye({},r,{value:void 0}),l=Ye({},l,{value:void 0}),a=[];break;case"textarea":r=mi(e,r),l=mi(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Pr)}hi(n,l);var i;n=null;for(u in r)if(!l.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in l){var d=l[u];if(o=r!=null?r[u]:void 0,l.hasOwnProperty(u)&&d!==o&&(d!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(a||(a=[]),a.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(a=a||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Me("scroll",e),a||o===d||(a=[])):(a=a||[]).push(u,d))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$m=function(e,t,n,l){n!==l&&(t.flags|=4)};function qn(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Mh(e,t,n){var l=t.pendingProps;switch(So(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return bt(t.type)&&Dr(),ot(t),null;case 3:return l=t.stateNode,Ln(),Ie(jt),Ie(ct),Do(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Ki(Bt),Bt=null))),Fi(e,t),ot(t),null;case 5:Po(t);var r=zs(Nl.current);if(n=t.type,e!==null&&t.stateNode!=null)Fm(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(V(166));return ot(t),null}if(e=zs(Qt.current),Xl(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[Wt]=t,l[bl]=a,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",l),Me("close",l);break;case"iframe":case"object":case"embed":Me("load",l);break;case"video":case"audio":for(r=0;r<el.length;r++)Me(el[r],l);break;case"source":Me("error",l);break;case"img":case"image":case"link":Me("error",l),Me("load",l);break;case"details":Me("toggle",l);break;case"input":Nd(l,a),Me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},Me("invalid",l);break;case"textarea":Sd(l,a),Me("invalid",l)}hi(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&Jl(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Jl(l.textContent,o,e),r=["children",""+o]):cl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Me("scroll",l)}switch(n){case"input":Vl(l),wd(l,a,!0);break;case"textarea":Vl(l),kd(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Pr)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[Wt]=t,e[bl]=l,Um(e,t,!1,!1),t.stateNode=e;e:{switch(i=fi(n,l),n){case"dialog":Me("cancel",e),Me("close",e),r=l;break;case"iframe":case"object":case"embed":Me("load",e),r=l;break;case"video":case"audio":for(r=0;r<el.length;r++)Me(el[r],e);r=l;break;case"source":Me("error",e),r=l;break;case"img":case"image":case"link":Me("error",e),Me("load",e),r=l;break;case"details":Me("toggle",e),r=l;break;case"input":Nd(e,l),r=di(e,l),Me("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=Ye({},l,{value:void 0}),Me("invalid",e);break;case"textarea":Sd(e,l),r=mi(e,l),Me("invalid",e);break;default:r=l}hi(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="style"?ju(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&vu(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ul(e,d):typeof d=="number"&&ul(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cl.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Me("scroll",e):d!=null&&oo(e,a,d,i))}switch(n){case"input":Vl(e),wd(e,l,!1);break;case"textarea":Vl(e),kd(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Es(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?gn(e,!!l.multiple,a,!1):l.defaultValue!=null&&gn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Pr)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)$m(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(V(166));if(n=zs(Nl.current),zs(Qt.current),Xl(t)){if(l=t.stateNode,n=t.memoizedProps,l[Wt]=t,(a=l.nodeValue!==n)&&(e=St,e!==null))switch(e.tag){case 3:Jl(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jl(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Wt]=t,t.stateNode=l}return ot(t),null;case 13:if(Ie(Ve),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&wt!==null&&t.mode&1&&!(t.flags&128))am(),En(),t.flags|=98560,a=!1;else if(a=Xl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Wt]=t}else En(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),a=!1}else Bt!==null&&(Ki(Bt),Bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?Ze===0&&(Ze=3):Wo())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Ln(),Fi(e,t),e===null&&gl(t.stateNode.containerInfo),ot(t),null;case 10:return Lo(t.type._context),ot(t),null;case 17:return bt(t.type)&&Dr(),ot(t),null;case 19:if(Ie(Ve),a=t.memoizedState,a===null)return ot(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)qn(a,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ur(e),i!==null){for(t.flags|=128,qn(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ge()>Tn&&(t.flags|=128,l=!0,qn(a,!1),t.lanes=4194304)}else{if(!l)if(e=Ur(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ue)return ot(t),null}else 2*Ge()-a.renderingStartTime>Tn&&n!==1073741824&&(t.flags|=128,l=!0,qn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=Ve.current,Pe(Ve,l?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return Ho(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Nt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Ih(e,t){switch(So(t),t.tag){case 1:return bt(t.type)&&Dr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),Ie(jt),Ie(ct),Do(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Po(t),null;case 13:if(Ie(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ve),null;case 4:return Ln(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return Ho(),null;case 24:return null;default:return null}}var tr=!1,dt=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,K=null;function pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Ke(e,t,l)}else n.current=null}function $i(e,t,n){try{n()}catch(l){Ke(e,t,l)}}var hc=!1;function Bh(e,t){if(ki=Ar,e=Qu(),No(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,u=0,p=0,h=e,g=null;t:for(;;){for(var b;h!==n||r!==0&&h.nodeType!==3||(o=i+r),h!==a||l!==0&&h.nodeType!==3||(d=i+l),h.nodeType===3&&(i+=h.nodeValue.length),(b=h.firstChild)!==null;)g=h,h=b;for(;;){if(h===e)break t;if(g===n&&++u===r&&(o=i),g===a&&++p===l&&(d=i),(b=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=b}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ei={focusedElem:e,selectionRange:n},Ar=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,P=y.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?j:It(t.type,j),P);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(v){Ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return y=hc,hc=!1,y}function il(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&$i(t,n,a)}r=r.next}while(r!==l)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Vi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vm(e){var t=e.alternate;t!==null&&(e.alternate=null,Vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[bl],delete t[Ai],delete t[bh],delete t[yh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hm(e){return e.tag===5||e.tag===3||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pr));else if(l!==4&&(e=e.child,e!==null))for(Hi(e,t,n),e=e.sibling;e!==null;)Hi(e,t,n),e=e.sibling}function Wi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Wi(e,t,n),e=e.sibling;e!==null;)Wi(e,t,n),e=e.sibling}var nt=null,Ot=!1;function ds(e,t,n){for(n=n.child;n!==null;)Wm(e,t,n),n=n.sibling}function Wm(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Zr,n)}catch{}switch(n.tag){case 5:dt||pn(n,t);case 6:var l=nt,r=Ot;nt=null,ds(e,t,n),nt=l,Ot=r,nt!==null&&(Ot?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(Ot?(e=nt,n=n.stateNode,e.nodeType===8?$a(e.parentNode,n):e.nodeType===1&&$a(e,n),fl(e)):$a(nt,n.stateNode));break;case 4:l=nt,r=Ot,nt=n.stateNode.containerInfo,Ot=!0,ds(e,t,n),nt=l,Ot=r;break;case 0:case 11:case 14:case 15:if(!dt&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&$i(n,t,i),r=r.next}while(r!==l)}ds(e,t,n);break;case 1:if(!dt&&(pn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){Ke(n,t,o)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:n.mode&1?(dt=(l=dt)||n.memoizedState!==null,ds(e,t,n),dt=l):ds(e,t,n);break;default:ds(e,t,n)}}function pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Oh),t.forEach(function(l){var r=Qh.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,Ot=!1;break e;case 3:nt=o.stateNode.containerInfo,Ot=!0;break e;case 4:nt=o.stateNode.containerInfo,Ot=!0;break e}o=o.return}if(nt===null)throw Error(V(160));Wm(a,i,r),nt=null,Ot=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(u){Ke(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ym(t,e),t=t.sibling}function Ym(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Vt(e),l&4){try{il(3,e,e.return),ia(3,e)}catch(j){Ke(e,e.return,j)}try{il(5,e,e.return)}catch(j){Ke(e,e.return,j)}}break;case 1:Mt(t,e),Vt(e),l&512&&n!==null&&pn(n,n.return);break;case 5:if(Mt(t,e),Vt(e),l&512&&n!==null&&pn(n,n.return),e.flags&32){var r=e.stateNode;try{ul(r,"")}catch(j){Ke(e,e.return,j)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&hu(r,a),fi(o,i);var u=fi(o,a);for(i=0;i<d.length;i+=2){var p=d[i],h=d[i+1];p==="style"?ju(r,h):p==="dangerouslySetInnerHTML"?vu(r,h):p==="children"?ul(r,h):oo(r,p,h,u)}switch(o){case"input":ci(r,a);break;case"textarea":fu(r,a);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?gn(r,!!a.multiple,b,!1):g!==!!a.multiple&&(a.defaultValue!=null?gn(r,!!a.multiple,a.defaultValue,!0):gn(r,!!a.multiple,a.multiple?[]:"",!1))}r[bl]=a}catch(j){Ke(e,e.return,j)}}break;case 6:if(Mt(t,e),Vt(e),l&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(j){Ke(e,e.return,j)}}break;case 3:if(Mt(t,e),Vt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(j){Ke(e,e.return,j)}break;case 4:Mt(t,e),Vt(e);break;case 13:Mt(t,e),Vt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||($o=Ge())),l&4&&pc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||p,Mt(t,e),dt=u):Mt(t,e),Vt(e),l&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(K=e,p=e.child;p!==null;){for(h=K=p;K!==null;){switch(g=K,b=g.child,g.tag){case 0:case 11:case 14:case 15:il(4,g,g.return);break;case 1:pn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){l=g,n=g.return;try{t=l,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){Ke(l,n,j)}}break;case 5:pn(g,g.return);break;case 22:if(g.memoizedState!==null){gc(h);continue}}b!==null?(b.return=g,K=b):gc(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{r=h.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=gu("display",i))}catch(j){Ke(e,e.return,j)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){Ke(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mt(t,e),Vt(e),l&4&&pc(e);break;case 21:break;default:Mt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hm(n)){var l=n;break e}n=n.return}throw Error(V(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(ul(r,""),l.flags&=-33);var a=fc(e);Wi(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=fc(e);Hi(e,o,i);break;default:throw Error(V(161))}}catch(d){Ke(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zh(e,t,n){K=e,Qm(e)}function Qm(e,t,n){for(var l=(e.mode&1)!==0;K!==null;){var r=K,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||tr;if(!i){var o=r.alternate,d=o!==null&&o.memoizedState!==null||dt;o=tr;var u=dt;if(tr=i,(dt=d)&&!u)for(K=r;K!==null;)i=K,d=i.child,i.tag===22&&i.memoizedState!==null?jc(r):d!==null?(d.return=i,K=d):jc(r);for(;a!==null;)K=a,Qm(a),a=a.sibling;K=r,tr=o,dt=u}vc(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,K=a):vc(e)}}function vc(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||ia(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!dt)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tc(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}dt||t.flags&512&&Vi(t)}catch(g){Ke(t,t.return,g)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function gc(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function jc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ia(4,t)}catch(d){Ke(t,n,d)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(d){Ke(t,r,d)}}var a=t.return;try{Vi(t)}catch(d){Ke(t,a,d)}break;case 5:var i=t.return;try{Vi(t)}catch(d){Ke(t,i,d)}}}catch(d){Ke(t,t.return,d)}if(t===e){K=null;break}var o=t.sibling;if(o!==null){o.return=t.return,K=o;break}K=t.return}}var Uh=Math.ceil,Vr=is.ReactCurrentDispatcher,Uo=is.ReactCurrentOwner,Pt=is.ReactCurrentBatchConfig,we=0,tt=null,Je=null,lt=0,Nt=0,vn=As(0),Ze=0,El=null,Ws=0,oa=0,Fo=0,ol=null,vt=null,$o=0,Tn=1/0,Xt=null,Hr=!1,Yi=null,Ns=null,sr=!1,fs=null,Wr=0,dl=0,Qi=null,br=-1,yr=0;function mt(){return we&6?Ge():br!==-1?br:br=Ge()}function ws(e){return e.mode&1?we&2&&lt!==0?lt&-lt:wh.transition!==null?(yr===0&&(yr=_u()),yr):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Bu(e.type)),e):1}function Ut(e,t,n,l){if(50<dl)throw dl=0,Qi=null,Error(V(185));Tl(e,n,l),(!(we&2)||e!==tt)&&(e===tt&&(!(we&2)&&(oa|=n),Ze===4&&xs(e,lt)),yt(e,l),n===1&&we===0&&!(t.mode&1)&&(Tn=Ge()+500,la&&Ts()))}function yt(e,t){var n=e.callbackNode;w0(e,t);var l=Lr(e,e===tt?lt:0);if(l===0)n!==null&&Ld(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&Ld(n),t===1)e.tag===0?Nh(bc.bind(null,e)):nm(bc.bind(null,e)),gh(function(){!(we&6)&&Ts()}),n=null;else{switch(Pu(l)){case 1:n=ho;break;case 4:n=Au;break;case 16:n=Cr;break;case 536870912:n=Tu;break;default:n=Cr}n=tx(n,qm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qm(e,t){if(br=-1,yr=0,we&6)throw Error(V(327));var n=e.callbackNode;if(wn()&&e.callbackNode!==n)return null;var l=Lr(e,e===tt?lt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Yr(e,l);else{t=l;var r=we;we|=2;var a=Gm();(tt!==e||lt!==t)&&(Xt=null,Tn=Ge()+500,Us(e,t));do try{Vh();break}catch(o){Km(e,o)}while(!0);Co(),Vr.current=a,we=r,Je!==null?t=0:(tt=null,lt=0,t=Ze)}if(t!==0){if(t===2&&(r=bi(e),r!==0&&(l=r,t=qi(e,r))),t===1)throw n=El,Us(e,0),xs(e,l),yt(e,Ge()),n;if(t===6)xs(e,l);else{if(r=e.current.alternate,!(l&30)&&!Fh(r)&&(t=Yr(e,l),t===2&&(a=bi(e),a!==0&&(l=a,t=qi(e,a))),t===1))throw n=El,Us(e,0),xs(e,l),yt(e,Ge()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(V(345));case 2:Is(e,vt,Xt);break;case 3:if(xs(e,l),(l&130023424)===l&&(t=$o+500-Ge(),10<t)){if(Lr(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){mt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Li(Is.bind(null,e,vt,Xt),t);break}Is(e,vt,Xt);break;case 4:if(xs(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-zt(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=Ge()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Uh(l/1960))-l,10<l){e.timeoutHandle=Li(Is.bind(null,e,vt,Xt),l);break}Is(e,vt,Xt);break;case 5:Is(e,vt,Xt);break;default:throw Error(V(329))}}}return yt(e,Ge()),e.callbackNode===n?qm.bind(null,e):null}function qi(e,t){var n=ol;return e.current.memoizedState.isDehydrated&&(Us(e,t).flags|=256),e=Yr(e,t),e!==2&&(t=vt,vt=n,t!==null&&Ki(t)),e}function Ki(e){vt===null?vt=e:vt.push.apply(vt,e)}function Fh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!Ft(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t){for(t&=~Fo,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),l=1<<n;e[n]=-1,t&=~l}}function bc(e){if(we&6)throw Error(V(327));wn();var t=Lr(e,0);if(!(t&1))return yt(e,Ge()),null;var n=Yr(e,t);if(e.tag!==0&&n===2){var l=bi(e);l!==0&&(t=l,n=qi(e,l))}if(n===1)throw n=El,Us(e,0),xs(e,t),yt(e,Ge()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,vt,Xt),yt(e,Ge()),null}function Vo(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Tn=Ge()+500,la&&Ts())}}function Ys(e){fs!==null&&fs.tag===0&&!(we&6)&&wn();var t=we;we|=1;var n=Pt.transition,l=Ae;try{if(Pt.transition=null,Ae=1,e)return e()}finally{Ae=l,Pt.transition=n,we=t,!(we&6)&&Ts()}}function Ho(){Nt=vn.current,Ie(vn)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vh(n)),Je!==null)for(n=Je.return;n!==null;){var l=n;switch(So(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Dr();break;case 3:Ln(),Ie(jt),Ie(ct),Do();break;case 5:Po(l);break;case 4:Ln();break;case 13:Ie(Ve);break;case 19:Ie(Ve);break;case 10:Lo(l.type._context);break;case 22:case 23:Ho()}n=n.return}if(tt=e,Je=e=Ss(e.current,null),lt=Nt=t,Ze=0,El=null,Fo=oa=Ws=0,vt=ol=null,Bs!==null){for(t=0;t<Bs.length;t++)if(n=Bs[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}Bs=null}return e}function Km(e,t){do{var n=Je;try{if(Co(),vr.current=$r,Fr){for(var l=He.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Fr=!1}if(Hs=0,et=Xe=He=null,al=!1,wl=0,Uo.current=null,n===null||n.return===null){Ze=1,El=t,Je=null;break}e:{var a=e,i=n.return,o=n,d=t;if(t=lt,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,p=o,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=ic(i);if(b!==null){b.flags&=-257,oc(b,i,o,a,t),b.mode&1&&ac(a,u,t),t=b,d=u;var y=t.updateQueue;if(y===null){var j=new Set;j.add(d),t.updateQueue=j}else y.add(d);break e}else{if(!(t&1)){ac(a,u,t),Wo();break e}d=Error(V(426))}}else if(Ue&&o.mode&1){var P=ic(i);if(P!==null){!(P.flags&65536)&&(P.flags|=256),oc(P,i,o,a,t),ko(An(d,o));break e}}a=d=An(d,o),Ze!==4&&(Ze=2),ol===null?ol=[a]:ol.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Pm(a,d,t);ec(a,x);break e;case 1:o=d;var m=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=Dm(a,o,t);ec(a,v);break e}}a=a.return}while(a!==null)}Xm(n)}catch(N){t=N,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Gm(){var e=Vr.current;return Vr.current=$r,e===null?$r:e}function Wo(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||!(Ws&268435455)&&!(oa&268435455)||xs(tt,lt)}function Yr(e,t){var n=we;we|=2;var l=Gm();(tt!==e||lt!==t)&&(Xt=null,Us(e,t));do try{$h();break}catch(r){Km(e,r)}while(!0);if(Co(),we=n,Vr.current=l,Je!==null)throw Error(V(261));return tt=null,lt=0,Ze}function $h(){for(;Je!==null;)Jm(Je)}function Vh(){for(;Je!==null&&!h0();)Jm(Je)}function Jm(e){var t=ex(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?Xm(e):Je=t,Uo.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ih(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Je=null;return}}else if(n=Mh(n,t,Nt),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);Ze===0&&(Ze=5)}function Is(e,t,n){var l=Ae,r=Pt.transition;try{Pt.transition=null,Ae=1,Hh(e,t,n,l)}finally{Pt.transition=r,Ae=l}return null}function Hh(e,t,n,l){do wn();while(fs!==null);if(we&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(S0(e,a),e===tt&&(Je=tt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sr||(sr=!0,tx(Cr,function(){return wn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pt.transition,Pt.transition=null;var i=Ae;Ae=1;var o=we;we|=4,Uo.current=null,Bh(e,n),Ym(n,e),ch(Ei),Ar=!!ki,Ei=ki=null,e.current=n,zh(n),f0(),we=o,Ae=i,Pt.transition=a}else e.current=n;if(sr&&(sr=!1,fs=e,Wr=r),a=e.pendingLanes,a===0&&(Ns=null),g0(n.stateNode),yt(e,Ge()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(Hr)throw Hr=!1,e=Yi,Yi=null,e;return Wr&1&&e.tag!==0&&wn(),a=e.pendingLanes,a&1?e===Qi?dl++:(dl=0,Qi=e):dl=0,Ts(),null}function wn(){if(fs!==null){var e=Pu(Wr),t=Pt.transition,n=Ae;try{if(Pt.transition=null,Ae=16>e?16:e,fs===null)var l=!1;else{if(e=fs,fs=null,Wr=0,we&6)throw Error(V(331));var r=we;for(we|=4,K=e.current;K!==null;){var a=K,i=a.child;if(K.flags&16){var o=a.deletions;if(o!==null){for(var d=0;d<o.length;d++){var u=o[d];for(K=u;K!==null;){var p=K;switch(p.tag){case 0:case 11:case 15:il(8,p,a)}var h=p.child;if(h!==null)h.return=p,K=h;else for(;K!==null;){p=K;var g=p.sibling,b=p.return;if(Vm(p),p===u){K=null;break}if(g!==null){g.return=b,K=g;break}K=b}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var P=j.sibling;j.sibling=null,j=P}while(j!==null)}}K=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,K=i;else e:for(;K!==null;){if(a=K,a.flags&2048)switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}var m=e.current;for(K=m;K!==null;){i=K;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,K=f;else e:for(i=m;K!==null;){if(o=K,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ia(9,o)}}catch(N){Ke(o,o.return,N)}if(o===i){K=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,K=v;break e}K=o.return}}if(we=r,Ts(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Zr,e)}catch{}l=!0}return l}finally{Ae=n,Pt.transition=t}}return!1}function yc(e,t,n){t=An(n,t),t=Pm(e,t,1),e=ys(e,t,1),t=mt(),e!==null&&(Tl(e,1,t),yt(e,t))}function Ke(e,t,n){if(e.tag===3)yc(e,e,n);else for(;t!==null;){if(t.tag===3){yc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=An(n,e),e=Dm(t,e,1),t=ys(t,e,1),e=mt(),t!==null&&(Tl(t,1,e),yt(t,e));break}}t=t.return}}function Wh(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(lt&n)===n&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>Ge()-$o?Us(e,0):Fo|=n),yt(e,t)}function Zm(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var n=mt();e=rs(e,t),e!==null&&(Tl(e,t,n),yt(e,n))}function Yh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function Qh(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(V(314))}l!==null&&l.delete(t),Zm(e,n)}var ex;ex=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,Rh(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Ue&&t.flags&1048576&&lm(t,Ir,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;jr(e,t),e=t.pendingProps;var r=kn(t,ct.current);Nn(t,n),r=Mo(null,t,l,e,r,n);var a=Io();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(l)?(a=!0,Rr(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,To(t),r.updater=aa,t.stateNode=r,r._reactInternals=t,Mi(t,l,e,n),t=Bi(null,t,l,!0,a,n)):(t.tag=0,Ue&&a&&wo(t),ut(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(jr(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=Kh(l),e=It(l,e),r){case 0:t=Oi(null,t,l,e,n);break e;case 1:t=uc(null,t,l,e,n);break e;case 11:t=dc(null,t,l,e,n);break e;case 14:t=cc(null,t,l,It(l.type,e),n);break e}throw Error(V(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:It(l,r),Oi(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:It(l,r),uc(e,t,l,r,n);case 3:e:{if(Om(t),e===null)throw Error(V(387));l=t.pendingProps,a=t.memoizedState,r=a.element,cm(e,t),zr(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=An(Error(V(423)),t),t=mc(e,t,l,n,r);break e}else if(l!==r){r=An(Error(V(424)),t),t=mc(e,t,l,n,r);break e}else for(wt=bs(t.stateNode.containerInfo.firstChild),St=t,Ue=!0,Bt=null,n=om(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(En(),l===r){t=as(e,t,n);break e}ut(e,t,l,n)}t=t.child}return t;case 5:return um(t),e===null&&Pi(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Ci(l,r)?i=null:a!==null&&Ci(l,a)&&(t.flags|=32),Im(e,t),ut(e,t,i,n),t.child;case 6:return e===null&&Pi(t),null;case 13:return Bm(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Cn(t,null,l,n):ut(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:It(l,r),dc(e,t,l,r,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,Pe(Or,l._currentValue),l._currentValue=i,a!==null)if(Ft(a.value,i)){if(a.children===r.children&&!jt.current){t=as(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var d=o.firstContext;d!==null;){if(d.context===l){if(a.tag===1){d=ss(-1,n&-n),d.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?d.next=d:(d.next=p.next,p.next=d),u.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Di(a.return,n,t),o.lanes|=n;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(V(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Di(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ut(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,Nn(t,n),r=Dt(r),l=l(r),t.flags|=1,ut(e,t,l,n),t.child;case 14:return l=t.type,r=It(l,t.pendingProps),r=It(l.type,r),cc(e,t,l,r,n);case 15:return Rm(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:It(l,r),jr(e,t),t.tag=1,bt(l)?(e=!0,Rr(t)):e=!1,Nn(t,n),_m(t,l,r),Mi(t,l,r,n),Bi(null,t,l,!0,e,n);case 19:return zm(e,t,n);case 22:return Mm(e,t,n)}throw Error(V(156,t.tag))};function tx(e,t){return Lu(e,t)}function qh(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,l){return new qh(e,t,n,l)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kh(e){if(typeof e=="function")return Yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uo)return 11;if(e===mo)return 14}return 2}function Ss(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nr(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Yo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case an:return Fs(n.children,r,a,t);case co:i=8,r|=8;break;case ri:return e=_t(12,n,t,r|2),e.elementType=ri,e.lanes=a,e;case ai:return e=_t(13,n,t,r),e.elementType=ai,e.lanes=a,e;case ii:return e=_t(19,n,t,r),e.elementType=ii,e.lanes=a,e;case uu:return da(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case du:i=10;break e;case cu:i=9;break e;case uo:i=11;break e;case mo:i=14;break e;case cs:i=16,l=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=_t(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function Fs(e,t,n,l){return e=_t(7,e,l,t),e.lanes=n,e}function da(e,t,n,l){return e=_t(22,e,l,t),e.elementType=uu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ga(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Ja(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gh(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qo(e,t,n,l,r,a,i,o,d){return e=new Gh(e,t,n,o,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_t(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},To(a),e}function Jh(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function sx(e){if(!e)return Cs;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(bt(n))return sm(e,n,t)}return t}function nx(e,t,n,l,r,a,i,o,d){return e=Qo(n,l,!0,e,r,a,i,o,d),e.context=sx(null),n=e.current,l=mt(),r=ws(n),a=ss(l,r),a.callback=t??null,ys(n,a,r),e.current.lanes=r,Tl(e,r,l),yt(e,l),e}function ca(e,t,n,l){var r=t.current,a=mt(),i=ws(r);return n=sx(n),t.context===null?t.context=n:t.pendingContext=n,t=ss(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=ys(r,t,i),e!==null&&(Ut(e,r,i,a),pr(e,r,i)),i}function Qr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qo(e,t){Nc(e,t),(e=e.alternate)&&Nc(e,t)}function Xh(){return null}var lx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ko(e){this._internalRoot=e}ua.prototype.render=Ko.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));ca(e,t,null,null)};ua.prototype.unmount=Ko.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ys(function(){ca(null,e,null,null)}),t[ls]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ms.length&&t!==0&&t<ms[n].priority;n++);ms.splice(n,0,e),n===0&&Ou(e)}};function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wc(){}function Zh(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var u=Qr(i);a.call(u)}}var i=nx(t,l,e,0,null,!1,!1,"",wc);return e._reactRootContainer=i,e[ls]=i.current,gl(e.nodeType===8?e.parentNode:e),Ys(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var u=Qr(d);o.call(u)}}var d=Qo(e,0,!1,null,null,!1,!1,"",wc);return e._reactRootContainer=d,e[ls]=d.current,gl(e.nodeType===8?e.parentNode:e),Ys(function(){ca(t,d,n,l)}),d}function xa(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var d=Qr(i);o.call(d)}}ca(t,i,e,r)}else i=Zh(n,t,e,r,l);return Qr(i)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(fo(t,n|1),yt(t,Ge()),!(we&6)&&(Tn=Ge()+500,Ts()))}break;case 13:Ys(function(){var l=rs(e,1);if(l!==null){var r=mt();Ut(l,e,1,r)}}),qo(e,1)}};po=function(e){if(e.tag===13){var t=rs(e,134217728);if(t!==null){var n=mt();Ut(t,e,134217728,n)}qo(e,134217728)}};Ru=function(e){if(e.tag===13){var t=ws(e),n=rs(e,t);if(n!==null){var l=mt();Ut(n,e,t,l)}qo(e,t)}};Mu=function(){return Ae};Iu=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};vi=function(e,t,n){switch(t){case"input":if(ci(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=na(l);if(!r)throw Error(V(90));xu(l),ci(l,r)}}}break;case"textarea":fu(e,n);break;case"select":t=n.value,t!=null&&gn(e,!!n.multiple,t,!1)}};Nu=Vo;wu=Ys;var ef={usingClientEntryPoint:!1,Events:[Pl,un,na,bu,yu,Vo]},Kn={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tf={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eu(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||Xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nr.isDisabled&&nr.supportsFiber)try{Zr=nr.inject(tf),Yt=nr}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ef;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(t))throw Error(V(200));return Jh(e,t,null,n)};Ct.createRoot=function(e,t){if(!Go(e))throw Error(V(299));var n=!1,l="",r=lx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Qo(e,1,!1,null,null,n,!1,l,r),e[ls]=t.current,gl(e.nodeType===8?e.parentNode:e),new Ko(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Eu(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Ys(e)};Ct.hydrate=function(e,t,n){if(!ma(t))throw Error(V(200));return xa(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!Go(e))throw Error(V(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=lx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=nx(t,null,e,1,n??null,r,!1,a,i),e[ls]=t.current,gl(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ua(t)};Ct.render=function(e,t,n){if(!ma(t))throw Error(V(200));return xa(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!ma(e))throw Error(V(40));return e._reactRootContainer?(Ys(function(){xa(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Ct.unstable_batchedUpdates=Vo;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!ma(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return xa(e,t,n,!1,l)};Ct.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(e){console.error(e)}}rx(),ru.exports=Ct;var sf=ru.exports,Sc=sf;ni.createRoot=Sc.createRoot,ni.hydrateRoot=Sc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Cl.apply(this,arguments)}var ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ps||(ps={}));const kc="popstate";function nf(e){e===void 0&&(e={});function t(l,r){let{pathname:a,search:i,hash:o}=l.location;return Gi("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(l,r){return typeof r=="string"?r:qr(r)}return rf(t,n,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lf(){return Math.random().toString(36).substr(2,8)}function Ec(e,t){return{usr:e.state,key:e.key,idx:t}}function Gi(e,t,n,l){return n===void 0&&(n=null),Cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mn(t):t,{state:n,key:t&&t.key||l||lf()})}function qr(e){let{pathname:t="/",search:n="",hash:l=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Mn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function rf(e,t,n,l){l===void 0&&(l={});let{window:r=document.defaultView,v5Compat:a=!1}=l,i=r.history,o=ps.Pop,d=null,u=p();u==null&&(u=0,i.replaceState(Cl({},i.state,{idx:u}),""));function p(){return(i.state||{idx:null}).idx}function h(){o=ps.Pop;let P=p(),x=P==null?null:P-u;u=P,d&&d({action:o,location:j.location,delta:x})}function g(P,x){o=ps.Push;let m=Gi(j.location,P,x);u=p()+1;let f=Ec(m,u),v=j.createHref(m);try{i.pushState(f,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(v)}a&&d&&d({action:o,location:j.location,delta:1})}function b(P,x){o=ps.Replace;let m=Gi(j.location,P,x);u=p();let f=Ec(m,u),v=j.createHref(m);i.replaceState(f,"",v),a&&d&&d({action:o,location:j.location,delta:0})}function y(P){let x=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof P=="string"?P:qr(P);return m=m.replace(/ $/,"%20"),We(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let j={get action(){return o},get location(){return e(r,i)},listen(P){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(kc,h),d=P,()=>{r.removeEventListener(kc,h),d=null}},createHref(P){return t(r,P)},createURL:y,encodeLocation(P){let x=y(P);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:b,go(P){return i.go(P)}};return j}var Cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cc||(Cc={}));function af(e,t,n){return n===void 0&&(n="/"),of(e,t,n)}function of(e,t,n,l){let r=typeof t=="string"?Mn(t):t,a=_n(r.pathname||"/",n);if(a==null)return null;let i=ax(e);df(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let u=bf(a);o=gf(i[d],u)}return o}function ax(e,t,n,l){t===void 0&&(t=[]),n===void 0&&(n=[]),l===void 0&&(l="");let r=(a,i,o)=>{let d={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};d.relativePath.startsWith("/")&&(We(d.relativePath.startsWith(l),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(l.length));let u=ks([l,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(We(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ax(a.children,t,p,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:pf(u,a.index),routesMeta:p})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let d of ix(a.path))r(a,i,d)}),t}function ix(e){let t=e.split("/");if(t.length===0)return[];let[n,...l]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(l.length===0)return r?[a,""]:[a];let i=ix(l.join("/")),o=[];return o.push(...i.map(d=>d===""?a:[a,d].join("/"))),r&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function df(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vf(t.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const cf=/^:[\w-]+$/,uf=3,mf=2,xf=1,hf=10,ff=-2,Lc=e=>e==="*";function pf(e,t){let n=e.split("/"),l=n.length;return n.some(Lc)&&(l+=ff),t&&(l+=mf),n.filter(r=>!Lc(r)).reduce((r,a)=>r+(cf.test(a)?uf:a===""?xf:hf),l)}function vf(e,t){return e.length===t.length&&e.slice(0,-1).every((l,r)=>l===t[r])?e[e.length-1]-t[t.length-1]:0}function gf(e,t,n){let{routesMeta:l}=e,r={},a="/",i=[];for(let o=0;o<l.length;++o){let d=l[o],u=o===l.length-1,p=a==="/"?t:t.slice(a.length)||"/",h=Ji({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},p),g=d.route;if(!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:ks([a,h.pathname]),pathnameBase:kf(ks([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=ks([a,h.pathnameBase]))}return i}function Ji(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,l]=jf(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:l.reduce((u,p,h)=>{let{paramName:g,isOptional:b}=p;if(g==="*"){let j=o[h]||"";i=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=o[h];return b&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function jf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(l.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}function bf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _n(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,l=e.charAt(n);return l&&l!=="/"?null:e.slice(n)||"/"}const yf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nf=e=>yf.test(e);function wf(e,t){t===void 0&&(t="/");let{pathname:n,search:l="",hash:r=""}=typeof e=="string"?Mn(e):e,a;if(n)if(Nf(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Jo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=Ac(n.substring(1),"/"):a=Ac(n,t)}else a=t;return{pathname:a,search:Ef(l),hash:Cf(r)}}function Ac(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Xa(e,t,n,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sf(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Xo(e,t){let n=Sf(e);return t?n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function Zo(e,t,n,l){l===void 0&&(l=!1);let r;typeof e=="string"?r=Mn(e):(r=Cl({},e),We(!r.pathname||!r.pathname.includes("?"),Xa("?","pathname","search",r)),We(!r.pathname||!r.pathname.includes("#"),Xa("#","pathname","hash",r)),We(!r.search||!r.search.includes("#"),Xa("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let h=t.length-1;if(!l&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?t[h]:"/"}let d=wf(r,o),u=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||p)&&(d.pathname+="/"),d}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),kf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ox=["post","put","patch","delete"];new Set(ox);const Af=["get",...ox];new Set(Af);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ll.apply(this,arguments)}const ha=c.createContext(null),dx=c.createContext(null),os=c.createContext(null),fa=c.createContext(null),qt=c.createContext({outlet:null,matches:[],isDataRoute:!1}),cx=c.createContext(null);function Tf(e,t){let{relative:n}=t===void 0?{}:t;In()||We(!1);let{basename:l,navigator:r}=c.useContext(os),{hash:a,pathname:i,search:o}=pa(e,{relative:n}),d=i;return l!=="/"&&(d=i==="/"?l:ks([l,i])),r.createHref({pathname:d,search:o,hash:a})}function In(){return c.useContext(fa)!=null}function _s(){return In()||We(!1),c.useContext(fa).location}function ux(e){c.useContext(os).static||c.useLayoutEffect(e)}function On(){let{isDataRoute:e}=c.useContext(qt);return e?Wf():_f()}function _f(){In()||We(!1);let e=c.useContext(ha),{basename:t,future:n,navigator:l}=c.useContext(os),{matches:r}=c.useContext(qt),{pathname:a}=_s(),i=JSON.stringify(Xo(r,n.v7_relativeSplatPath)),o=c.useRef(!1);return ux(()=>{o.current=!0}),c.useCallback(function(u,p){if(p===void 0&&(p={}),!o.current)return;if(typeof u=="number"){l.go(u);return}let h=Zo(u,JSON.parse(i),a,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ks([t,h.pathname])),(p.replace?l.replace:l.push)(h,p.state,p)},[t,l,i,a,e])}const Pf=c.createContext(null);function Df(e){let t=c.useContext(qt).outlet;return t&&c.createElement(Pf.Provider,{value:e},t)}function ed(){let{matches:e}=c.useContext(qt),t=e[e.length-1];return t?t.params:{}}function pa(e,t){let{relative:n}=t===void 0?{}:t,{future:l}=c.useContext(os),{matches:r}=c.useContext(qt),{pathname:a}=_s(),i=JSON.stringify(Xo(r,l.v7_relativeSplatPath));return c.useMemo(()=>Zo(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function Rf(e,t){return Mf(e,t)}function Mf(e,t,n,l){In()||We(!1);let{navigator:r}=c.useContext(os),{matches:a}=c.useContext(qt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=_s(),p;if(t){var h;let P=typeof t=="string"?Mn(t):t;d==="/"||(h=P.pathname)!=null&&h.startsWith(d)||We(!1),p=P}else p=u;let g=p.pathname||"/",b=g;if(d!=="/"){let P=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let y=af(e,{pathname:b}),j=Uf(y&&y.map(P=>Object.assign({},P,{params:Object.assign({},o,P.params),pathname:ks([d,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:ks([d,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,l);return t&&j?c.createElement(fa.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ps.Pop}},j):j}function If(){let e=Hf(),t=Lf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const Of=c.createElement(If,null);class Bf extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(qt.Provider,{value:this.props.routeContext},c.createElement(cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zf(e){let{routeContext:t,match:n,children:l}=e,r=c.useContext(ha);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(qt.Provider,{value:t},l)}function Uf(e,t,n,l){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),l===void 0&&(l=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=l)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let p=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);p>=0||We(!1),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,u=-1;if(n&&l&&l.v7_partialHydration)for(let p=0;p<i.length;p++){let h=i[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=p),h.route.id){let{loaderData:g,errors:b}=n,y=h.route.loader&&g[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||y){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((p,h,g)=>{let b,y=!1,j=null,P=null;n&&(b=o&&h.route.id?o[h.route.id]:void 0,j=h.route.errorElement||Of,d&&(u<0&&g===0?(Yf("route-fallback"),y=!0,P=null):u===g&&(y=!0,P=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,g+1)),m=()=>{let f;return b?f=j:y?f=P:h.route.Component?f=c.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=p,c.createElement(zf,{match:h,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?c.createElement(Bf,{location:n.location,revalidation:n.revalidation,component:j,error:b,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var mx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mx||{}),xx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xx||{});function Ff(e){let t=c.useContext(ha);return t||We(!1),t}function $f(e){let t=c.useContext(dx);return t||We(!1),t}function Vf(e){let t=c.useContext(qt);return t||We(!1),t}function hx(e){let t=Vf(),n=t.matches[t.matches.length-1];return n.route.id||We(!1),n.route.id}function Hf(){var e;let t=c.useContext(cx),n=$f(),l=hx();return t!==void 0?t:(e=n.errors)==null?void 0:e[l]}function Wf(){let{router:e}=Ff(mx.UseNavigateStable),t=hx(xx.UseNavigateStable),n=c.useRef(!1);return ux(()=>{n.current=!0}),c.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ll({fromRouteId:t},a)))},[e,t])}const Tc={};function Yf(e,t,n){Tc[e]||(Tc[e]=!0)}function Qf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qf(e){let{to:t,replace:n,state:l,relative:r}=e;In()||We(!1);let{future:a,static:i}=c.useContext(os),{matches:o}=c.useContext(qt),{pathname:d}=_s(),u=On(),p=Zo(t,Xo(o,a.v7_relativeSplatPath),d,r==="path"),h=JSON.stringify(p);return c.useEffect(()=>u(JSON.parse(h),{replace:n,state:l,relative:r}),[u,h,r,n,l]),null}function Kf(e){return Df(e.context)}function Jt(e){We(!1)}function Gf(e){let{basename:t="/",children:n=null,location:l,navigationType:r=ps.Pop,navigator:a,static:i=!1,future:o}=e;In()&&We(!1);let d=t.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:d,navigator:a,static:i,future:Ll({v7_relativeSplatPath:!1},o)}),[d,o,a,i]);typeof l=="string"&&(l=Mn(l));let{pathname:p="/",search:h="",hash:g="",state:b=null,key:y="default"}=l,j=c.useMemo(()=>{let P=_n(p,d);return P==null?null:{location:{pathname:P,search:h,hash:g,state:b,key:y},navigationType:r}},[d,p,h,g,b,y,r]);return j==null?null:c.createElement(os.Provider,{value:u},c.createElement(fa.Provider,{children:n,value:j}))}function Jf(e){let{children:t,location:n}=e;return Rf(Xi(t),n)}new Promise(()=>{});function Xi(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(l,r)=>{if(!c.isValidElement(l))return;let a=[...t,r];if(l.type===c.Fragment){n.push.apply(n,Xi(l.props.children,a));return}l.type!==Jt&&We(!1),!l.props.index||!l.props.children||We(!1);let i={id:l.props.id||a.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=Xi(l.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Kr.apply(this,arguments)}function fx(e,t){if(e==null)return{};var n={},l=Object.keys(e),r,a;for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Xf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zf(e,t){return e.button===0&&(!t||t==="_self")&&!Xf(e)}const ep=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tp=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sp="6";try{window.__reactRouterVersion=sp}catch{}const np=c.createContext({isTransitioning:!1}),lp="startTransition",_c=Wx[lp];function rp(e){let{basename:t,children:n,future:l,window:r}=e,a=c.useRef();a.current==null&&(a.current=nf({window:r,v5Compat:!0}));let i=a.current,[o,d]=c.useState({action:i.action,location:i.location}),{v7_startTransition:u}=l||{},p=c.useCallback(h=>{u&&_c?_c(()=>d(h)):d(h)},[d,u]);return c.useLayoutEffect(()=>i.listen(p),[i,p]),c.useEffect(()=>Qf(l),[l]),c.createElement(Gf,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:l})}const ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=c.forwardRef(function(t,n){let{onClick:l,relative:r,reloadDocument:a,replace:i,state:o,target:d,to:u,preventScrollReset:p,viewTransition:h}=t,g=fx(t,ep),{basename:b}=c.useContext(os),y,j=!1;if(typeof u=="string"&&ip.test(u)&&(y=u,ap))try{let f=new URL(window.location.href),v=u.startsWith("//")?new URL(f.protocol+u):new URL(u),N=_n(v.pathname,b);v.origin===f.origin&&N!=null?u=N+v.search+v.hash:j=!0}catch{}let P=Tf(u,{relative:r}),x=dp(u,{replace:i,state:o,target:d,preventScrollReset:p,relative:r,viewTransition:h});function m(f){l&&l(f),f.defaultPrevented||x(f)}return c.createElement("a",Kr({},g,{href:y||P,onClick:j||a?l:m,ref:n,target:d}))}),Pc=c.forwardRef(function(t,n){let{"aria-current":l="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:d,viewTransition:u,children:p}=t,h=fx(t,tp),g=pa(d,{relative:h.relative}),b=_s(),y=c.useContext(dx),{navigator:j,basename:P}=c.useContext(os),x=y!=null&&cp(g)&&u===!0,m=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,f=b.pathname,v=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(f=f.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&P&&(v=_n(v,P)||v);const N=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let L=f===m||!i&&f.startsWith(m)&&f.charAt(N)==="/",U=v!=null&&(v===m||!i&&v.startsWith(m)&&v.charAt(m.length)==="/"),_={isActive:L,isPending:U,isTransitioning:x},O=L?l:void 0,M;typeof a=="function"?M=a(_):M=[a,L?"active":null,U?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(_):o;return c.createElement(xt,Kr({},h,{"aria-current":O,className:M,ref:n,style:k,to:d,viewTransition:u}),typeof p=="function"?p(_):p)});var Zi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zi||(Zi={}));var Dc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dc||(Dc={}));function op(e){let t=c.useContext(ha);return t||We(!1),t}function dp(e,t){let{target:n,replace:l,state:r,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,d=On(),u=_s(),p=pa(e,{relative:i});return c.useCallback(h=>{if(Zf(h,n)){h.preventDefault();let g=l!==void 0?l:qr(u)===qr(p);d(e,{replace:g,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[u,d,p,l,r,n,e,a,i,o])}function cp(e,t){t===void 0&&(t={});let n=c.useContext(np);n==null&&We(!1);let{basename:l}=op(Zi.useViewTransitionState),r=pa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=_n(n.currentLocation.pathname,l)||n.currentLocation.pathname,i=_n(n.nextLocation.pathname,l)||n.nextLocation.pathname;return Ji(r.pathname,i)!=null||Ji(r.pathname,a)!=null}const up="http://localhost:4000";function px(){return localStorage.getItem("jasiq_token")}function eo(e){if(!e){localStorage.removeItem("jasiq_token");return}localStorage.setItem("jasiq_token",e)}async function mp(e){const t=await e.text();try{return JSON.parse(t)}catch{return{error:{code:"HTTP_ERROR",message:t||e.statusText}}}}async function oe(e,{method:t,body:n,headers:l}={}){var p;const r=px(),a=await fetch(`${up}${e}`,{method:t||"GET",headers:{"content-type":"application/json",...r?{authorization:`Bearer ${r}`}:{},...l||{}},body:n?JSON.stringify(n):void 0});if(a.status===204)return null;const o=(a.headers.get("content-type")||"").includes("application/json");if(a.ok)return o?await a.json():null;if(a.status===401)return eo(null),localStorage.removeItem("jasiq_bootstrap"),window.location.hash="#/",window.location.reload(),null;const d=o?await a.json().catch(()=>null):await mp(a),u=new Error(((p=d==null?void 0:d.error)==null?void 0:p.message)||`Request failed (${a.status})`);throw u.status=a.status,u.payload=d,u}const vx=c.createContext(null);function xp(e){var N,L,U,_;const t=((N=e==null?void 0:e.navigation)==null?void 0:N.items)||[],n=((L=e==null?void 0:e.rbac)==null?void 0:L.permissions)||[],l=(e==null?void 0:e.systemConfig)||{},r=((U=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:U.value)??(l==null?void 0:l.TIMESHEET_ENABLED),a=String(r??"").trim().toLowerCase(),i=a==="true"||a==="1"||a==="yes"||a==="enabled"||a==="on",o=((_=l==null?void 0:l.LEAVE_ENABLED)==null?void 0:_.value)??(l==null?void 0:l.LEAVE_ENABLED),d=String(o??"").trim().toLowerCase(),u=d==="true"||d==="1"||d==="yes"||d==="enabled"||d==="on",p=n.includes("TIMESHEET_READ"),h=n.includes("TIMESHEET_APPROVAL_QUEUE_READ"),g=n.includes("LEAVE_REQUEST_READ"),b=n.includes("LEAVE_APPROVE_L1"),y=n.includes("LEAVE_APPROVE_L2"),j=n.includes("LEAVE_TYPE_READ"),P=n.includes("LEAVE_BALANCE_READ"),x=n.includes("AUTH_ADMIN_MANAGE"),m=[...t],f=new Set(m.map(O=>O.path));i&&p&&!f.has("/timesheet/my")&&m.push({id:"timesheetMy",label:"My Timesheet",path:"/timesheet/my",requiredPermission:"TIMESHEET_READ"}),i&&p&&h&&!f.has("/timesheet/approvals")&&m.push({id:"timesheetApprovals",label:"Timesheet Approvals",path:"/timesheet/approvals",requiredPermission:"TIMESHEET_APPROVAL_QUEUE_READ"}),u&&g&&!f.has("/leave/my")&&m.push({id:"leaveMy",label:"My Leave",path:"/leave/my",requiredPermission:"LEAVE_REQUEST_READ"}),u&&g&&(b||y)&&!f.has("/leave/approvals")&&m.push({id:"leaveApprovals",label:"Leave Approvals",path:"/leave/approvals",requiredPermission:"LEAVE_REQUEST_READ"}),u&&j&&!f.has("/leave/types")&&m.push({id:"leaveTypes",label:"Leave Types",path:"/leave/types",requiredPermission:"LEAVE_TYPE_READ"}),u&&P&&!f.has("/leave/balances")&&m.push({id:"leaveBalances",label:"Leave Balances",path:"/leave/balances",requiredPermission:"LEAVE_BALANCE_READ"}),x&&!f.has("/admin/admin-management")&&m.push({id:"adminManagement",label:"Admin Management",path:"/admin/admin-management",requiredPermission:"AUTH_ADMIN_MANAGE"});const v={};for(const O of m)v[O.path]=O;return{...e,navigation:{items:m,byPath:v}}}function hp({children:e}){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),[a,i]=c.useState(null),[o,d]=c.useState(px()),u=c.useCallback(async(g=null)=>{if(!(g!==null?g:o)){r(null),n("idle");return}n("loading"),i(null);try{const y=await oe("/api/v1/app/bootstrap");r(xp(y)),n("ready")}catch(y){if(y.status===401){eo(null),d(null),r(null),n("idle");return}i(y),n("error")}},[o]);c.useEffect(()=>{u()},[u]);const p=c.useCallback(g=>{eo(g),d(g||null),g||(r(null),n("idle"))},[]),h=c.useMemo(()=>({status:t,bootstrap:l,error:a,refresh:u,setToken:p,token:o}),[t,l,a,u,p,o]);return s.jsx(vx.Provider,{value:h,children:e})}function qe(){const e=c.useContext(vx);if(!e)throw new Error("BootstrapProvider missing");return e}function fp(){const{setToken:e,refresh:t}=qe(),[n,l]=c.useState(""),r=c.useMemo(()=>n.trim().length>0,[n]);return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[s.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Paste a JWT to continue."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"JWT"}),s.jsx("textarea",{className:"mt-1 w-full h-32 rounded-md border-slate-300 focus:border-slate-500 focus:ring-slate-500 text-sm",value:n,onChange:a=>l(a.target.value),placeholder:"eyJ..."})]}),s.jsx("button",{type:"button",className:"mt-4 w-full inline-flex justify-center items-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{e(n.trim()),t()},disabled:!r,children:"Continue"}),s.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:["Default admin userId: ",s.jsx("span",{className:"font-mono",children:"00000000-0000-0000-0000-000000000001"})]})]})})}function pp(){const{setToken:e,refresh:t}=qe(),[n,l]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(!1),p=c.useMemo(()=>n.trim().length>0&&r.trim().length>0,[n,r]),h=async()=>{var g,b,y;o(""),u(!0);try{const j={email:n.trim(),password:r},P=await oe("/api/v1/auth/admin/login",{method:"POST",body:j}),{accessToken:x}=P;e(x),await t()}catch(j){const P=((y=(b=(g=j.payload)==null?void 0:g.error)==null?void 0:b.issues)==null?void 0:y.map(x=>x.message).join(", "))||j.message||"Login failed";o(P)}finally{u(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Admin Portal"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),s.jsx("input",{type:"email",className:"w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm placeholder-slate-400 transition-all duration-200 bg-white/50 backdrop-blur-sm",value:n,onChange:g=>l(g.target.value),placeholder:"admin@coreops.dev",disabled:d})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm placeholder-slate-400 transition-all duration-200 bg-white/50 backdrop-blur-sm",value:r,onChange:g=>a(g.target.value),placeholder:"",disabled:d})]})]}),i&&s.jsx("div",{className:"bg-rose-50/50 border border-rose-200 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-rose-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm text-rose-700 font-medium",children:i})]})}),s.jsx("button",{type:"button",className:`w-full py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden ${p&&!d?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,onClick:h,disabled:!p||d,children:d?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),!1]})]}),s.jsx("div",{className:"text-center mt-6 text-slate-400 text-sm",children:s.jsx("p",{children:"Secure Admin Portal"})})]})]})}function vp(){const{setToken:e,refresh:t}=qe(),[n,l]=c.useState("loading"),[r,a]=c.useState(!1),[i,o]=c.useState(""),[d,u]=c.useState(""),[p,h]=c.useState(""),[g,b]=c.useState(""),[y,j]=c.useState(!1);Xr.useEffect(()=>{let m=!0;return(async()=>{try{const f=await oe("/api/v1/auth/bootstrap-status");if(!m)return;a(!!f.bootstrapSignupEnabled),l("ready")}catch(f){if(!m)return;o(f.message||"Failed to load bootstrap status"),l("error")}})(),()=>{m=!1}},[]);const P=c.useMemo(()=>d.trim().length>1&&p.trim().length>0&&g.trim().length>0,[d,p,g]),x=async()=>{var m,f,v;o(""),j(!0);try{const N={name:d.trim(),email:p.trim(),password:g},L=await oe("/api/v1/auth/bootstrap-signup",{method:"POST",body:N}),{accessToken:U}=L;e(U),await t(),window.location.hash="#/"}catch(N){const L=((v=(f=(m=N.payload)==null?void 0:m.error)==null?void 0:f.issues)==null?void 0:v.map(U=>U.message).join(", "))||N.message||"Signup failed";o(L)}finally{j(!1)}};return n==="loading"?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-600",children:"Loading"}):n==="error"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Bootstrap status failed"}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:i||"Please check backend connectivity."})]})}):r?s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Initial Setup"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Create the first super admin account."}),s.jsxs("div",{className:"mt-5 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:d,onChange:m=>u(m.target.value),disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:p,onChange:m=>h(m.target.value),disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:g,onChange:m=>b(m.target.value),disabled:y}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Min 8 chars, must include upper, lower, number."})]}),i?s.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:i}):null,s.jsx("button",{type:"button",className:`w-full rounded-md px-4 py-2 text-sm font-medium text-white ${P&&!y?"bg-slate-900 hover:bg-slate-800":"bg-slate-400"}`,disabled:!P||y,onClick:x,children:y?"Creating":"Create Super Admin"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Signup disabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"System is already bootstrapped."}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white",onClick:()=>{window.location.hash="#/"},children:"Go to Login"})})]})})}function gp(){var d;const{bootstrap:e,setToken:t}=qe(),[n,l]=c.useState(!1),r=_s(),a=String((r==null?void 0:r.pathname)||"").startsWith("/admin/divisions"),i=async()=>{try{await oe("/api/v1/auth/logout",{method:"POST"})}catch{}finally{t(null),window.location.href="/"}},o=((d=e==null?void 0:e.navigation)==null?void 0:d.items)||[{id:"divisions",label:"Divisions",path:"/admin/divisions"},{id:"projects",label:"Projects",path:"/admin/projects"},{id:"rbac",label:"RBAC",path:"/admin/rbac"},{id:"employees",label:"Employees",path:"/admin/employees"},{id:"admin-management",label:"Admin Management",path:"/admin/admin-management"}];return e?s.jsxs("div",{className:a?"min-h-screen bg-slate-100":"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden xl:hidden",onClick:()=>l(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 ${a?"bg-slate-200 border-r border-slate-200 shadow-sm":"bg-white/95 backdrop-blur-sm border-r border-white/20 shadow-2xl"} transform transition-transform duration-300 ease-in-out z-50 lg:hidden xl:hidden ${n?"translate-x-0":"-translate-x-full"}`,children:[a?null:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:a?"p-6 border-b border-slate-200 bg-white":"p-6 border-b border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Admin Portal"})]}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-xl hover:bg-slate-100 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:o.map(u=>s.jsx(Pc,{to:u.path,onClick:()=>l(!1),className:({isActive:p})=>a?`flex items-center px-4 py-3 text-sm font-medium rounded-xl ${p?"bg-white text-slate-900":"text-slate-700 hover:bg-white/70"}`:`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${p?"bg-gradient-to-r from-blue-50 to-purple-50 text-slate-900":"text-slate-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900"}`,children:u.label},u.id))}),s.jsx("div",{className:"p-4 border-t border-white/20",children:s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]}),s.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:w-72 lg:z-10 lg:block",children:s.jsxs("div",{className:a?"h-full bg-slate-200 border-r border-slate-200 shadow-sm relative overflow-hidden":"h-full bg-white/95 backdrop-blur-sm border-r border-white/20 shadow-xl relative overflow-hidden",children:[a?null:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsxs("div",{className:a?"p-6 border-b border-slate-200 bg-white":"p-6 border-b border-white/20",children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Admin Portal"})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:o.map(u=>s.jsx(Pc,{to:u.path,className:({isActive:p})=>a?`flex items-center px-4 py-3 text-sm font-medium rounded-xl ${p?"bg-white text-slate-900":"text-slate-700 hover:bg-white/70"}`:`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${p?"bg-gradient-to-r from-blue-50 to-purple-50 text-slate-900":"text-slate-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900"}`,children:u.label},u.id))}),s.jsx("div",{className:"p-4 border-t border-white/20",children:s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]})}),s.jsxs("div",{className:"lg:pl-72",children:[s.jsx("div",{className:a?"sticky top-0 z-40 bg-white border-b border-slate-200 shadow-sm lg:hidden xl:hidden":"sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-white/20 shadow-sm lg:hidden xl:hidden",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-xl hover:bg-slate-100 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("main",{className:"relative z-20",children:s.jsx(Kf,{})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Loading CoreOps"})]})]})})]})}function jp(){return s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Not found"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"The requested page does not exist."})]})}function Qe({message:e="Loading"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("p",{className:"text-slate-600 font-medium",children:e})]})}function Oe({title:e,description:t,action:n}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:e}),s.jsx("p",{className:"text-slate-600 mb-4",children:t}),n&&s.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:n})]})}function ve(){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this resource."})]})}function ie({error:e,onRetry:t}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-slate-600 mb-4",children:(e==null?void 0:e.message)||"An unexpected error occurred."}),t&&s.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})}function xe({title:e,subtitle:t,actions:n,breadcrumbs:l,variant:r}){const a=r==="divisions";return s.jsxs("div",{className:a?"bg-white border-b border-slate-200 p-6 mb-6":"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg p-6 mb-6 relative overflow-hidden",children:[a?null:s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:a?"":"relative z-10",children:[l&&s.jsx("nav",{className:"flex mb-4","aria-label":"Breadcrumb",children:s.jsx("ol",{className:"inline-flex items-center space-x-1 text-sm",children:l.map((i,o)=>s.jsxs("li",{className:"flex items-center",children:[o>0&&s.jsx("svg",{className:"w-4 h-4 mx-1 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),i.href?s.jsx("a",{href:i.href,className:"text-slate-500 hover:text-slate-700 transition-colors",children:i.label}):s.jsx("span",{className:"text-slate-900 font-medium",children:i.label})]},o))})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),t&&s.jsx("p",{className:"mt-1 text-slate-600",children:t})]}),n&&s.jsx("div",{className:"flex items-center space-x-3",children:n})]})]})]})}function Et({columns:e,data:t,loading:n,empty:l,onRowClick:r}){return n?s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("span",{className:"ml-3 text-slate-600 font-medium",children:"Loading..."})]})})}):!t||t.length===0?s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No data"}),s.jsx("p",{className:"text-slate-600",children:l||"No items to display"})]})})}):s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:s.jsx("tr",{children:e.map(a=>s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:a.title},a.key))})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((a,i)=>s.jsx("tr",{onClick:()=>r&&r(a),className:`transition-all duration-200 ${r?"hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 cursor-pointer":""}`,children:e.map(o=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.render?o.render(a[o.key],a):a[o.key]},o.key))},i))})]})})}function Se(e){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),a=c.useCallback(async(...i)=>{n("loading"),r(null);try{const o=await e(...i);return n("success"),o}catch(o){throw r(o),n("error"),o}},[e]);return{status:t,error:l,run:a}}function Ce({path:e,page:t,pageSize:n,enabled:l=!0}){const[r,a]=c.useState("idle"),[i,o]=c.useState(null),[d,u]=c.useState(null),[p,h]=c.useState(0),g=c.useCallback(()=>{h(y=>y+1)},[]),b=c.useMemo(()=>{const y=new URL(e,"http://local");return y.searchParams.set("page",String(t)),y.searchParams.set("pageSize",String(n)),y.pathname+y.search},[e,t,n]);return c.useEffect(()=>{if(!l)return;let y=!0;async function j(){a("loading"),u(null);try{const P=await oe(b);if(!y)return;o(P),a("ready")}catch(P){if(!y)return;u(P),a("error")}}return j(),()=>{y=!1}},[b,l,p]),{status:r,data:i,error:d,url:b,refresh:g}}function bp(){var Be,be,ge,ke,Te,_e,ze,B,G,le,me,ce,Fe;const{bootstrap:e}=qe(),t=((ge=(be=(Be=e==null?void 0:e.ui)==null?void 0:Be.screens)==null?void 0:be.divisions)==null?void 0:ge.title)||"Divisions",[n,l]=c.useState("list"),[r,a]=c.useState(null),[i,o]=c.useState(()=>{try{return window.localStorage.getItem("divisions_context_banner_dismissed")==="1"}catch{return!1}}),[d,u]=c.useState(1),[p]=c.useState(20),[h,g]=c.useState(""),[b,y]=c.useState(""),[j,P]=c.useState(""),[x,m]=c.useState("INTERNAL"),[f,v]=c.useState(""),[N,L]=c.useState(""),[U,_]=c.useState(!1),[O,M]=c.useState(null),[k,Q]=c.useState(!1),[q,E]=c.useState(""),[I,H]=c.useState(()=>{try{const C=window.localStorage.getItem("divisions_notification_count"),z=C?Number(C):0;return Number.isFinite(z)&&z>=0?z:0}catch{return 0}}),re=()=>{H(C=>{const z=(Number(C)||0)+1;try{window.localStorage.setItem("divisions_notification_count",String(z))}catch{}return z})},D=Ce({path:"/api/v1/governance/divisions",page:d,pageSize:p,enabled:!0}),A=Ce({path:r?`/api/v1/governance/divisions/${r}`:"/api/v1/governance/divisions/__none__",page:1,pageSize:1,enabled:n==="view"&&!!r}),S=Se(async()=>oe("/api/v1/governance/divisions",{method:"POST",body:{code:b.trim(),name:j.trim(),type:x,description:f.trim()||null,reason:N||null}})),T=Se(async({id:C,isActive:z,reason:W})=>oe(`/api/v1/governance/divisions/${C}/activation`,{method:"PATCH",body:{isActive:z,reason:W}})),$=c.useMemo(()=>b.trim().length>0&&j.trim().length>0,[b,j]),ee=((ke=D.data)==null?void 0:ke.items)||[],de=((Te=D.data)==null?void 0:Te.total)||0,ne=c.useMemo(()=>{const C=h.trim().toLowerCase();return C?ee.filter(z=>{const W=String((z==null?void 0:z.code)||"").toLowerCase(),J=String((z==null?void 0:z.name)||"").toLowerCase();return W.includes(C)||J.includes(C)}):ee},[ee,h]),F=c.useMemo(()=>{var C;return n!=="view"||!r?null:((C=A.data)==null?void 0:C.item)||ee.find(z=>z.id===r)||null},[A.data,ee,n,r]),X=C=>{l("view"),a(C)},se=c.useMemo(()=>{const C=F==null?void 0:F.createdAt,z=C?new Date(C):null;return z&&!Number.isNaN(z.getTime())?new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(z):""},[F]),pe=C=>{const z=String((C==null?void 0:C.createdAt)||"");return z?z.slice(0,10):""},Le=C=>{const z=C==null?void 0:C.type;return z==="REVENUE"?"Revenue":z==="INTERNAL"?"Internal":""};return D.status==="loading"&&!D.data?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,subtitle:"Manage immutable divisions (activation only)."}),s.jsx(Qe,{})]}):D.status==="error"?((_e=D.error)==null?void 0:_e.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ve,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ie,{error:D.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:F!=null&&F.id&&(F!=null&&F.name)?s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-8 w-auto object-contain"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsx("span",{className:"text-slate-300",children:""}),s.jsx("button",{type:"button",className:"text-sm font-medium text-white hover:text-slate-200 transition-colors truncate max-w-[120px] md:max-w-none",onClick:()=>X(F.id),children:F.name})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:se}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-emerald-400",children:"OPEN"})]})]}):s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),se?s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:se}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-emerald-400",children:"OPEN"})]}):null]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:"Divisions",subtitle:"Root of financial attribution",variant:"divisions",actions:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx("input",{className:"h-9 w-64 rounded-md border border-slate-200 bg-white px-3 text-sm text-slate-700 placeholder:text-slate-400",placeholder:"Search divisions",value:h,onChange:C=>g(C.target.value)})}),s.jsxs("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-black disabled:bg-slate-400 whitespace-nowrap",onClick:()=>{l("create"),a(null),y(""),P(""),m("INTERNAL"),v(""),L("")},disabled:S.status==="loading"||T.status==="loading",children:[s.jsx("span",{className:"hidden sm:inline",children:"+ Add Division"}),s.jsx("span",{className:"sm:hidden",children:"+ Add"})]})]})}),s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:[i?null:s.jsx("div",{className:"mb-4 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"text-sm text-slate-700",children:[s.jsx("div",{children:"Divisions define financial truth."}),s.jsx("div",{children:"Every salary, expense, and income is ultimately attributed here."})]}),s.jsx("button",{type:"button",className:"text-sm font-medium text-indigo-800 hover:underline",onClick:()=>{o(!0);try{window.localStorage.setItem("divisions_context_banner_dismissed","1")}catch{}},children:"Dismiss"})]})}),n==="list"?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Divisions"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",de]})]}),s.jsx("div",{className:"p-4",children:ee.length===0?s.jsx(Oe,{title:"No divisions",description:"No divisions found."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:ne.map(C=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"mb-4 pb-3 border-b border-slate-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("button",{type:"button",className:"text-base font-semibold text-slate-900 hover:text-indigo-800 transition-colors text-left",onClick:()=>{X(C.id)},children:C.name}),s.jsx("div",{children:C.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-1 text-xs font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-600",children:"Inactive"})})]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-1.5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Created ",pe(C)]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Code"}),s.jsx("span",{className:"font-mono text-slate-900 bg-slate-50 px-2 py-1 rounded",children:C.code})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Type"}),s.jsx("span",{className:"inline-flex rounded-full border border-slate-300 px-2 py-0.5 text-xs text-slate-700",children:Le(C)})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100",children:s.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-2 rounded-md bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-800 hover:bg-indigo-100 transition-colors",onClick:()=>{X(C.id)},children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]})})]},C.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"code",title:"Division Code",render:(C,z)=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:z.code})},{key:"name",title:"Division Name",render:(C,z)=>s.jsx("button",{type:"button",className:"text-sm text-indigo-800 hover:underline",onClick:()=>{X(z.id)},children:z.name})},{key:"type",title:"Type",render:(C,z)=>s.jsx("span",{className:"inline-flex rounded-full border border-slate-300 px-2 py-0.5 text-xs text-slate-700",children:Le(z)})},{key:"status",title:"Status",render:(C,z)=>z.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-sm font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-sm font-medium text-slate-600",children:"Inactive"})},{key:"createdOn",title:"Created On",render:(C,z)=>s.jsx("span",{className:"text-sm text-slate-700",children:pe(z)})},{key:"action",title:"Action",render:(C,z)=>s.jsx("button",{type:"button",className:"text-sm font-medium text-indigo-800 hover:underline",onClick:()=>{X(z.id)},children:"View"})}],data:ne.map(C=>({...C,type:C.type,status:C.isActive,createdOn:pe(C),action:C.id})),empty:"No divisions found"})})]})})]}):s.jsx("div",{className:"mx-auto max-w-[640px]",children:s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:n==="create"?"Add Division":"Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Root of financial attribution. Changes must be explicit and auditable."})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-400 bg-slate-800 px-3 py-2 text-sm font-medium text-white shadow-md hover:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",onClick:()=>{l("list"),a(null)},children:" Back"})]}),n==="view"&&A.status==="loading"&&!A.data?s.jsx("div",{className:"mt-4",children:s.jsx(Qe,{})}):null,n==="view"&&A.status==="error"?s.jsx("div",{className:"mt-4",children:((ze=A.error)==null?void 0:ze.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:A.error})}):null,s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division Code"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm font-mono bg-white disabled:bg-slate-50",value:n==="view"?String((F==null?void 0:F.code)||""):b,onChange:C=>y(C.target.value),disabled:n==="view",maxLength:((le=(G=(B=e==null?void 0:e.validation)==null?void 0:B.rules)==null?void 0:G.division)==null?void 0:le.codeMax)||20}),s.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:s.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Division codes are permanent. Choose carefully."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm bg-white disabled:bg-slate-50",value:n==="view"?String((F==null?void 0:F.name)||""):j,onChange:C=>P(C.target.value),disabled:n==="view",maxLength:((Fe=(ce=(me=e==null?void 0:e.validation)==null?void 0:me.rules)==null?void 0:ce.division)==null?void 0:Fe.nameMax)||100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Description"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm bg-white disabled:bg-slate-50",value:n==="create"?f:String((F==null?void 0:F.description)||""),onChange:C=>v(C.target.value),disabled:n!=="create"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-slate-700",children:"Division Type"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"radio",className:"border-slate-300",checked:n==="create"?x==="REVENUE":(F==null?void 0:F.type)==="REVENUE",onChange:()=>m("REVENUE"),disabled:n!=="create"}),"Revenue Generating"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"radio",className:"border-slate-300",checked:n==="create"?x==="INTERNAL":(F==null?void 0:F.type)==="INTERNAL",onChange:()=>m("INTERNAL"),disabled:n!=="create"}),"Internal / Support"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsx("div",{className:(F==null?void 0:F.isActive)??!0?"mt-1 text-sm text-emerald-700":"mt-1 text-sm text-slate-500",children:(F==null?void 0:F.isActive)??!0?"Active":"Inactive"})]}),n==="create"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm bg-white",value:N,onChange:C=>L(C.target.value)})]}):null]}),S.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:S.error})}):null,s.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[n==="create"?s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-black disabled:bg-slate-400",disabled:!$||S.status==="loading",onClick:async()=>{await S.run(),re(),l("list"),a(null),y(""),P(""),m("INTERNAL"),v(""),L(""),D.refresh()},children:S.status==="loading"?"Creating":"Create Division"}):null,n==="view"&&F?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:T.status==="loading"||F.isActive&&F.canDeactivate===!1,onClick:()=>{M(F),Q(!F.isActive),E(""),_(!0)},children:F.isActive?"Deactivate":"Activate"}):null,n==="view"&&(F!=null&&F.isActive)&&(F==null?void 0:F.canDeactivate)===!1?s.jsxs("div",{className:"rounded-lg border border-slate-300 bg-slate-50 p-3 text-slate-600",children:[s.jsx("div",{className:"text-sm",children:"Cannot deactivate division:"}),s.jsx("div",{className:"mt-1 text-sm",children:Array.isArray(F.blockedReasons)&&F.blockedReasons.length>0?s.jsx("div",{className:"space-y-0.5",children:F.blockedReasons.map((C,z)=>s.jsx("div",{children:C},z))}):s.jsx("div",{children:"Blocked by system rules"})})]}):null]})]})}),U?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{T.status!=="loading"&&(_(!1),M(null),E(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:k?"Activate Division":"Deactivate Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:O?s.jsxs("span",{children:[O.code,"  ",O.name]}):null}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-md border-slate-300 text-sm bg-white focus:ring-2 focus:ring-slate-900 focus:border-slate-900",value:q,onChange:C=>E(C.target.value),placeholder:"Explain why this activation change is needed"}),q.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),T.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:T.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:T.status==="loading",onClick:()=>{_(!1),M(null),E("")},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-black disabled:bg-slate-400",disabled:T.status==="loading"||q.trim().length===0||!O,onClick:async()=>{await T.run({id:O.id,isActive:k,reason:q.trim()}),k===!1&&re(),_(!1),M(null),E(""),D.refresh(),n==="view"&&A.refresh()},children:T.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:d<=1,onClick:()=>u(C=>Math.max(1,C-1)),children:"Prev"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",d]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:d*p>=de,onClick:()=>u(C=>C+1),children:"Next"})]})]})]})]})}function yp(e){const t=new URL("/api/v1/governance/projects","http://local");return e&&t.searchParams.set("divisionId",e),t.pathname+t.search}function Np(){var Be,be,ge,ke,Te,_e,ze;const{bootstrap:e}=qe(),t=((ge=(be=(Be=e==null?void 0:e.ui)==null?void 0:Be.screens)==null?void 0:be.projects)==null?void 0:ge.title)||"Projects / Programs",[n,l]=c.useState("list"),[r,a]=c.useState(null),[i,o]=c.useState(1),[d]=c.useState(20),[u,p]=c.useState(""),[h,g]=c.useState(()=>{try{return window.localStorage.getItem("projects_context_banner_dismissed")==="1"}catch{return!1}}),[b,y]=c.useState(""),[j,P]=c.useState(""),[x,m]=c.useState(""),[f,v]=c.useState(""),[N,L]=c.useState(!1),[U,_]=c.useState(!1),[O,M]=c.useState(null),[k,Q]=c.useState(!1),[q,E]=c.useState(""),I=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),H=Ce({path:yp(b||null),page:i,pageSize:d,enabled:!0}),re=Ce({path:r?`/api/v1/governance/projects/${r}`:"/api/v1/governance/projects/__none__",page:1,pageSize:1,enabled:!!r}),D=Se(async()=>oe("/api/v1/governance/projects",{method:"POST",body:{divisionId:b,code:j.trim(),name:x.trim(),reason:f||null}})),A=Se(async({id:B,isActive:G,reason:le})=>oe(`/api/v1/governance/projects/${B}`,{method:"PATCH",body:{isActive:G,reason:le}}));c.useMemo(()=>b.trim().length>0&&j.trim().length>0&&x.trim().length>0,[b,j,x]);const S=((ke=H.data)==null?void 0:ke.items)||[],T=((Te=H.data)==null?void 0:Te.total)||0,$=((_e=I.data)==null?void 0:_e.items)||[],ee=c.useMemo(()=>{const B=u.trim().toLowerCase();return B?S.filter(G=>{const le=String((G==null?void 0:G.code)||"").toLowerCase(),me=String((G==null?void 0:G.name)||"").toLowerCase();return le.includes(B)||me.includes(B)}):S},[S,u]),de=B=>{const G=String((B==null?void 0:B.createdAt)||"");return G?G.slice(0,10):""},ne=B=>{var G;return((G=$.find(le=>le.id===B.divisionId))==null?void 0:G.name)||""},F=B=>B?typeof B=="string"&&B.includes("-")&&B.length>20?"System Admin":typeof B=="string"&&!B.includes("-")?B:"System":"System",X=c.useMemo(()=>{var G;if(!r)return null;const B=S.find(le=>le.id===r);return B||((G=re.data)==null?void 0:G.item)||null},[S,r,re.data]),se=B=>{a(r===B?null:B)},pe=B=>{const G=String((B==null?void 0:B.createdAt)||"");return G?G.slice(0,10):""},Le=()=>j.trim()&&x.trim()&&f.trim();return H.status==="loading"&&!H.data?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,subtitle:"Work attribution and reporting context",variant:"divisions"}),s.jsx(Qe,{})]}):H.status==="error"?((ze=H.error)==null?void 0:ze.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ve,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ie,{error:H.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:"Projects / Programs",subtitle:"Work attribution and reporting context",variant:"divisions",actions:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx("input",{className:"h-9 w-64 rounded-md border border-slate-200 bg-white px-3 text-sm text-slate-700 placeholder:text-slate-400",placeholder:"Search projects",value:u,onChange:B=>p(B.target.value)})}),s.jsxs("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-black disabled:bg-slate-400 whitespace-nowrap",onClick:()=>{L(!0)},children:[s.jsx("span",{className:"hidden sm:inline",children:"+ Create Project"}),s.jsx("span",{className:"sm:hidden",children:"+ Create"})]})]})}),s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:[h?null:s.jsx("div",{className:"mb-4 rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"text-sm text-slate-700",children:[s.jsx("div",{children:"Projects are optional."}),s.jsx("div",{children:"They help understand where time was spent, not where money was booked."})]}),s.jsx("button",{type:"button",className:"text-sm font-medium text-indigo-800 hover:underline",onClick:()=>{g(!0);try{window.localStorage.setItem("projects_context_banner_dismissed","1")}catch{}},children:"Dismiss"})]})}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Projects"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",T]})]}),s.jsx("div",{className:"p-4",children:S.length===0?s.jsx(Oe,{title:"No projects yet",description:"Projects help teams understand where effort was spent. They are optional and can be added anytime.",action:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-black",onClick:()=>{var B;(B=document.getElementById("create-project-form"))==null||B.scrollIntoView({behavior:"smooth"})},children:"Create Project"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:ee.map(B=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"mb-4 pb-3 border-b border-slate-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("button",{type:"button",className:"text-base font-semibold text-slate-900 hover:text-indigo-800 transition-colors text-left",onClick:()=>{se(B.id)},children:B.name}),s.jsx("div",{children:B.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-1 text-xs font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-600",children:"Inactive"})})]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-1.5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Created ",de(B)]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Code"}),s.jsx("span",{className:"font-mono text-slate-900 bg-slate-50 px-2 py-1 rounded",children:B.code})]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Division"}),s.jsx("span",{className:"text-slate-900 text-right max-w-[140px] truncate",children:ne(B)})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100",children:s.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-2 rounded-md bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-800 hover:bg-indigo-100 transition-colors",onClick:()=>{se(B.id)},children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r===B.id?"Hide Details":"View Details"]})}),r===B.id&&X?s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 bg-slate-50 -mx-4 px-4 -mb-4 pb-4 rounded-b-lg",children:[s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Project Code:"}),s.jsx("span",{className:"font-mono text-slate-900",children:X.code})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Project Name:"}),s.jsx("span",{className:"text-slate-900",children:X.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Linked Division:"}),s.jsx("span",{className:"text-slate-900",children:ne(X)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Status:"}),s.jsx("span",{children:X.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2 py-1 text-xs font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-600",children:"Inactive"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Created Date:"}),s.jsx("span",{className:"text-slate-900",children:pe(X)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600 font-medium",children:"Created by:"}),s.jsx("span",{className:"text-slate-900",children:F(X.createdBy)})]})]}),X.isActive&&s.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200",children:s.jsx("button",{type:"button",className:"w-full rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700",onClick:()=>{M(X),Q(!1),E(""),_(!0)},children:"Deactivate Project"})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>a(null),children:"Close"})})]}):null]},B.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"code",title:"Project Code",render:(B,G)=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:G.code})},{key:"name",title:"Project Name",render:(B,G)=>s.jsx("button",{type:"button",className:"text-sm text-indigo-800 hover:underline",onClick:()=>{se(G.id)},children:G.name})},{key:"division",title:"Linked Division",render:(B,G)=>s.jsx("span",{className:"text-sm text-slate-700",children:ne(G)})},{key:"status",title:"Status",render:(B,G)=>G.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-sm font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-sm font-medium text-slate-600",children:"Inactive"})},{key:"createdOn",title:"Created On",render:(B,G)=>s.jsx("span",{className:"text-sm text-slate-700",children:de(G)})},{key:"action",title:"Action",render:(B,G)=>s.jsx("button",{type:"button",className:"text-sm font-medium text-indigo-800 hover:underline",onClick:()=>{se(G.id)},children:r===G.id?"Hide":"View"})}],data:ee.map(B=>({...B,code:B.code,name:B.name,division:ne(B),status:B.isActive,createdOn:de(B),action:B.id})),empty:"No projects found"})}),r&&X?s.jsxs("div",{className:"mt-6 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Project Details"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Work attribution and reporting context."})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",onClick:()=>a(null),children:"Close"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Code"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:X.code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsx("div",{className:"mt-1",children:X.isActive?s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-sm font-medium text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-sm font-medium text-slate-600",children:"Inactive"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Name"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:X.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Linked Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:ne(X)})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Created Date (YYYY-MM-DD)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:pe(X)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Created by"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:F(X.createdBy)})]})]}),X.isActive&&s.jsx("div",{className:"pt-6 border-t border-slate-200",children:s.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-medium text-white hover:bg-rose-700 shadow-sm",onClick:()=>{M(X),Q(!1),E(""),_(!0)},children:"Deactivate Project"})})]})]}):null]})})]}),U?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{A.status!=="loading"&&(_(!1),M(null),E(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:k?"Activate Project":"Deactivate Project"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:k?O?s.jsxs("span",{children:[O.code,"  ",O.name]}):null:s.jsx("span",{children:"Deactivating a project stops further usage. This action is audited."})}),!k&&O&&s.jsxs("div",{className:"mt-2 text-sm text-slate-700",children:[s.jsx("strong",{children:"Project:"})," ",O.code,"  ",O.name]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:k?"Reason (required)":"Reason for deactivation (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-md border-slate-300 text-sm",value:q,onChange:B=>E(B.target.value),placeholder:k?"Explain why this activation change is needed":"Enter reason for deactivation (minimum 10 characters)"}),q.trim().length>0&&q.trim().length<10?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason must be at least 10 characters."}):null,q.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),A.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:A.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:A.status==="loading",onClick:()=>{_(!1),M(null),E("")},children:"Cancel"}),s.jsx("button",{type:"button",className:`rounded-md px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400 ${k?"bg-slate-900 hover:bg-black":"bg-rose-600 hover:bg-rose-700"}`,disabled:A.status==="loading"||q.trim().length===0||q.trim().length<10||!O,onClick:async()=>{await A.run({id:O.id,isActive:k,reason:q.trim()}),_(!1),M(null),E(""),H.refresh()},children:A.status==="loading"?"Saving":k?"Confirm":"Confirm Deactivate"})]})]})]}):null,N?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{D.status!=="loading"&&L(!1)}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Create Project"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Add a new project to track work attribution and reporting context."}),s.jsxs("form",{onSubmit:async B=>{if(B.preventDefault(),!!Le())try{await D.run(),L(!1),P(""),m(""),v(""),H.refresh()}catch(G){console.error("Create project failed:",G)}},children:[s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:b,onChange:B=>y(B.target.value),children:[s.jsx("option",{value:"",children:"Select division"}),$.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:j,onChange:B=>P(B.target.value),placeholder:"PROJ001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:x,onChange:B=>m(B.target.value),placeholder:"Project name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full h-20 rounded-md border-slate-300 text-sm",value:f,onChange:B=>v(B.target.value),placeholder:"Why create this project?"})]})]}),D.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:D.error})}):null,s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:D.status==="loading",onClick:()=>{L(!1)},children:"Cancel"}),s.jsx("button",{type:"submit",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:D.status==="loading"||!Le(),children:D.status==="loading"?"Creating":"Create Project"})]})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:i<=1,onClick:()=>o(B=>Math.max(1,B-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",i]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:i*d>=T,onClick:()=>o(B=>B+1),children:"Next"})]})]})]})]})}function wp(){var d,u,p,h,g;const{bootstrap:e}=qe(),t=((p=(u=(d=e==null?void 0:e.ui)==null?void 0:d.screens)==null?void 0:u.rbac)==null?void 0:p.title)||"RBAC",[n,l]=c.useState("roles"),r=Ce({path:"/api/v1/governance/rbac/roles",page:1,pageSize:200,enabled:n==="roles"}),a=Ce({path:"/api/v1/governance/rbac/permissions",page:1,pageSize:200,enabled:n==="permissions"}),i=n==="roles"?r:a;if(i.status==="loading"&&!i.data)return s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(Qe,{})]})]});if(i.status==="error")return((h=i.error)==null?void 0:h.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ve,{})]})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ie,{error:i.error})]})]});const o=((g=i.data)==null?void 0:g.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:"Role & Permission Viewer",subtitle:"Viewer only (Phase 0)",variant:"divisions"}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm mb-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Browse"})}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${n==="roles"?"bg-slate-900 text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,onClick:()=>l("roles"),children:"Roles"}),s.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${n==="permissions"?"bg-slate-900 text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,onClick:()=>l("permissions"),children:"Permissions"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:n==="roles"?"Roles":"Permissions"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:n==="roles"?"System roles and their descriptions":"Available permissions in the system"})]}),o.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Oe,{title:`No ${n} found`})}):s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:n==="roles"?o.map(b=>s.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:b.name}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:b.description||"No description available"})]})})},b.id)):o.map(b=>s.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:b.code}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:b.description||"No description available"})]})})},b.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:n==="roles"?s.jsx(Et,{columns:[{key:"name",title:"Role Name",render:(b,y)=>s.jsx("span",{className:"font-medium text-slate-900",children:y.name})},{key:"desc",title:"Description",render:(b,y)=>s.jsx("span",{className:"text-slate-600",children:y.description||"No description"})}],data:o,empty:"No roles found"}):s.jsx(Et,{columns:[{key:"code",title:"Permission Code",render:(b,y)=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:y.code})},{key:"desc",title:"Description",render:(b,y)=>s.jsx("span",{className:"text-slate-600",children:y.description||"No description"})}],data:o,empty:"No permissions found"})})})]})]})]})]})]})}function to(e){const t=e instanceof Date?e:new Date(e);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function Zs(e){return to((e==null?void 0:e.monthEnd)||(e==null?void 0:e.monthStart)||(e==null?void 0:e.month))}function lr(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",year:"numeric"})}function Rc(e){if(!e)return"-";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})+"  "+t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}function Mc(e){return e?e.includes("COREOPS_ADMIN")?"Amit Sharma (COREOPS_ADMIN)":e.includes("ADMIN")?"System Admin":e.includes("SYSTEM")?"System":e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)?"System Admin":e:"System Admin"}function Sp(){var _,O,M,k,Q,q;const{bootstrap:e}=qe(),t=((M=(O=(_=e==null?void 0:e.ui)==null?void 0:_.screens)==null?void 0:O.monthClose)==null?void 0:M.title)||"Month Close",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(!1),[o,d]=c.useState(null),[u,p]=c.useState({irreversible:!1}),[h,g]=c.useState(""),[b,y]=c.useState(null),j=Ce({path:"/api/v1/governance/month-close",page:n,pageSize:r,enabled:!0}),P=Se(async E=>oe("/api/v1/governance/month-close/status",{method:"POST",body:{month:E,status:"CLOSED",reason:"Month close completed through governance interface"}})),x=((k=j.data)==null?void 0:k.items)||[],m=((Q=j.data)==null?void 0:Q.total)||0,f=c.useMemo(()=>{const E=[],I=new Date,re=[...x].sort((A,S)=>{const T=new Date(Zs(A));return new Date(Zs(S)).getTime()-T.getTime()}).find(A=>A.status==="CLOSED"),D=to(I);for(let A=5;A>=0;A--){const S=new Date(I.getFullYear(),I.getMonth()-A,1),T=to(S),$=x.find(pe=>Zs(pe)===T),ee=!$&&(!re||new Date(T)>new Date(Zs(re))),de=new Date(T)>new Date(D);let ne,F,X,se;$&&$.status==="CLOSED"?(ne="CLOSED",F="Locked",X="Locked",se="Locked"):de?(ne="LOCKED",F="Locked",X="Locked",se="Locked"):ee?(ne="OPEN  Current",F=A<2?"Locked":"Open",X=A<1?"Locked":"Open",se="Open"):(ne="OPEN",F="Locked",X="Locked",se="Open"),E.push({month:lr(T),monthEnd:T,attendance:F,payroll:X,finance:se,status:ne,record:$,isOpenMonth:ee,isFutureMonth:de})}return E},[x]),v=async()=>{const E=await oe(j.url);return(E==null?void 0:E.items)||[]},N=E=>{d(E),i(!0),p({irreversible:!1}),g("")},L=async()=>{try{await P.run(o.monthEnd),y({month:o.month,monthEnd:o.monthEnd}),await v(),i(!1),d(null)}catch(E){console.error("Failed to close month:",E)}},U=()=>{const E=`CLOSE ${lr((o==null?void 0:o.monthEnd)||"").toUpperCase()}`;return u.irreversible&&h===E};return j.status==="loading"&&!j.data?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Month Close"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(Qe,{})]})]}):j.status==="error"?((q=j.error)==null?void 0:q.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Month Close"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ve,{})]})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Month Close"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),s.jsx(ie,{error:j.error})]})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Month Close"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,variant:"divisions"}),b&&s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-1",children:[b.month," is now closed."]}),s.jsx("p",{className:"text-green-700 mb-4",children:"All records are locked and ready for reporting."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",onClick:()=>y(null),children:"View Reports"}),s.jsx("button",{className:"border border-green-300 text-green-700 px-4 py-2 rounded-lg font-medium hover:bg-green-50 transition-colors",onClick:()=>y(null),children:"Return to Month Close Dashboard"})]})]})]})})}),s.jsx("div",{className:"mx-4 mt-4 mb-4 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Month Close is a high-risk governance action."}),s.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Once a month is closed, all records become immutable and cannot be modified."})]})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-slate-700",children:"Only one month can be open at a time. Closing the current month will automatically open the next month."})})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Month Status Overview"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Review module statuses and close months when ready"})]}),s.jsx("div",{className:"p-4 md:hidden",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map((E,I)=>s.jsxs("div",{className:`border rounded-lg p-4 ${E.isFutureMonth?"border-slate-200 bg-slate-50 opacity-75":E.isOpenMonth?"border-blue-200 bg-blue-50 shadow-sm":"border-slate-200 bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:`font-semibold ${E.isOpenMonth?"text-blue-900":"text-slate-900"}`,children:E.month}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="CLOSED"?"bg-green-100 text-green-800":E.status==="LOCKED"?"bg-slate-100 text-slate-600":(E.isOpenMonth,"bg-blue-100 text-blue-800")}`,children:E.status})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 text-xs",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-slate-700",children:"Attendance"}),s.jsx("div",{className:`mt-1 ${E.attendance==="Locked"?"text-green-600":"text-slate-500"}`,children:E.attendance})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-slate-700",children:"Payroll"}),s.jsx("div",{className:`mt-1 ${E.payroll==="Locked"?"text-green-600":E.payroll==="Draft"?"text-amber-600":"text-slate-500"}`,children:E.payroll})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-slate-700",children:"Finance"}),s.jsx("div",{className:`mt-1 ${E.finance==="Locked"?"text-green-600":"text-slate-500"}`,children:E.finance})]})]}),s.jsx("div",{className:"flex justify-end",children:E.status==="CLOSED"?s.jsx("button",{className:"px-3 py-1 text-sm text-slate-600 hover:text-slate-800 transition-colors",children:"View"}):E.isFutureMonth?s.jsx("span",{className:"px-3 py-1 text-sm text-slate-400",children:"Locked"}):E.isOpenMonth&&E.attendance==="Locked"&&E.payroll==="Locked"&&E.finance==="Locked"?s.jsx("button",{className:"px-3 py-1 text-sm text-red-600 hover:text-red-800 font-medium transition-colors",onClick:()=>N(E),children:"Close"}):E.isOpenMonth?s.jsx("button",{className:"px-3 py-1 text-sm text-slate-400 cursor-not-allowed",title:"All modules must be locked before closing the month",disabled:!0,children:"Close"}):s.jsx("span",{className:"px-3 py-1 text-sm text-slate-400",children:"Locked"})})]},I))})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Month"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Attendance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Payroll"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Finance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:f.map((E,I)=>s.jsxs("tr",{className:`${E.isFutureMonth?"bg-slate-50 opacity-75":E.isOpenMonth?"bg-blue-50 hover:bg-blue-100":"hover:bg-slate-50"}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("span",{className:E.isOpenMonth?"text-blue-900":"text-slate-900",children:E.month})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.attendance==="Locked"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:E.attendance})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.payroll==="Locked"?"bg-green-100 text-green-800":E.payroll==="Draft"?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800"}`,children:E.payroll})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.finance==="Locked"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:E.finance})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="CLOSED"?"bg-green-100 text-green-800":E.status==="LOCKED"?"bg-slate-100 text-slate-600":(E.isOpenMonth,"bg-blue-100 text-blue-800")}`,children:E.status}),E.status==="CLOSED"&&s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:E.status==="CLOSED"?s.jsx("button",{className:"text-slate-600 hover:text-slate-800 font-medium transition-colors",children:"View"}):E.isFutureMonth?s.jsx("span",{className:"text-slate-400",children:"Locked"}):E.isOpenMonth&&E.attendance==="Locked"&&E.payroll==="Locked"&&E.finance==="Locked"?s.jsx("button",{className:"text-red-600 hover:text-red-800 font-medium transition-colors",onClick:()=>N(E),children:"Close"}):E.isOpenMonth?s.jsx("button",{className:"text-slate-400 cursor-not-allowed",title:"All modules must be locked before closing the month",disabled:!0,children:"Close"}):s.jsx("span",{className:"text-slate-400",children:"Locked"})})]},I))})]})})})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"History"})}),x.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Oe,{title:"No month close entries",description:"Month close actions will appear here."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:x.map(E=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Month"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:String(Zs(E)).slice(0,10)})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:E.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:E.closedReason||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:E.status==="CLOSED"?"Closed At":"Opened At"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:Rc(E.status==="CLOSED"?E.closedAt:E.openedAt)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:E.status==="CLOSED"?"Closed By":"Opened By"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:Mc(E.status==="CLOSED"?E.closedBy:E.openedBy)})]})]})]})]},E.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(Et,{columns:[{key:"month",title:"Month",render:(E,I)=>s.jsx("span",{className:"font-mono text-sm",children:String(Zs(I)).slice(0,10)})},{key:"status",title:"Status",render:(E,I)=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:I.status})},{key:"actionBy",title:"Action By",render:(E,I)=>{const H=I.status==="CLOSED"?I.closedBy:I.openedBy;return s.jsx("span",{className:"text-sm",children:Mc(H)})}},{key:"actionAt",title:"Action At",render:(E,I)=>{const H=I.status==="CLOSED"?I.closedAt:I.openedAt;return s.jsx("span",{className:"text-sm",children:Rc(H)})}},{key:"reason",title:"Reason",render:(E,I)=>s.jsx("span",{className:"text-sm",children:I.closedReason||"-"})}],data:x,empty:"No month close records found"})})})]})]})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n<=1,onClick:()=>l(E=>Math.max(1,E-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," / Total ",m]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n*r>=m,onClick:()=>l(E=>E+1),children:"Next"})]})}),a&&o&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>i(!1)}),s.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:["Confirm Month Close  ",o.month]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-red-800 mb-2",children:"Month Close is a legal-grade governance action."}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Once this month is closed:"}),s.jsxs("ul",{className:"text-sm text-red-700 space-y-1 ml-4",children:[s.jsx("li",{children:" Attendance records become immutable"}),s.jsx("li",{children:" Payroll is permanently frozen"}),s.jsx("li",{children:" Financial entries cannot be modified"})]}),s.jsx("p",{className:"text-sm font-medium text-red-800 mt-3 pt-3 border-t border-red-200",children:"This action cannot be undone."})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${o.attendance==="Locked"?"bg-green-100":"bg-slate-100"}`,children:o.attendance==="Locked"?s.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})}),s.jsx("span",{className:o.attendance==="Locked"?"text-slate-900":"text-slate-500",children:"Attendance"})]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${o.payroll==="Locked"?"bg-green-100":o.payroll==="Draft"?"bg-amber-100":"bg-slate-100"}`,children:o.payroll==="Locked"?s.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})}),s.jsx("span",{className:o.payroll==="Locked"?"text-slate-900":"text-slate-500",children:"Payroll"})]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${o.finance==="Locked"?"bg-green-100":"bg-slate-100"}`,children:o.finance==="Locked"?s.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})}),s.jsx("span",{className:o.finance==="Locked"?"text-slate-900":"text-slate-500",children:"Finance"})]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-slate-700",children:"Month Closed"})]})]})}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1 rounded border-slate-300",checked:u.irreversible,onChange:E=>p({...u,irreversible:E.target.checked})}),s.jsx("span",{className:"text-sm text-slate-700",children:"I understand this action is irreversible"})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Type CLOSE ",lr(o.monthEnd).toUpperCase()," to continue"]}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",value:h,onChange:E=>g(E.target.value),placeholder:`CLOSE ${lr(o.monthEnd).toUpperCase()}`})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",onClick:()=>i(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors font-medium",disabled:!U()||P.status==="loading",onClick:L,children:P.status==="loading"?"Closing...":"Close Month"})]})]})]})})]})]})}const Ic=[{label:"Admin",value:"00000000-0000-0000-0000-000000000001"},{label:"System",value:"system"},{label:"Service Account",value:"service-account"}],Oc=[{label:"Finance",value:"finance"},{label:"Payroll",value:"payroll"},{label:"Attendance",value:"attendance"},{label:"Governance",value:"governance"},{label:"System",value:"system"}],Bc=[{label:"Open",value:"open"},{label:"Locked",value:"locked"},{label:"Closed",value:"closed"},{label:"Read-only",value:"read-only"}];function kp(e){const t=new URL("/api/v1/governance/audit","http://local");for(const[n,l]of Object.entries(e))l==null||l===""||l==="undefined"||t.searchParams.set(n,String(l));return t.pathname+t.search}function Gr(e){return{CREATE:"Open",UPDATE:"Read-only",ADMIN_LOGIN:"Read-only",LOCK:"Locked",CLOSE:"Closed"}[e]||"Read-only"}function zc(e){switch(Gr(e)){case"Closed":return"text-red-700";case"Locked":return"text-amber-700";case"Open":return"text-slate-700";case"Read-only":return"text-slate-700";default:return"text-slate-700"}}function Ep(e){switch(Gr(e)){case"Closed":return"bg-red-500";case"Locked":return"bg-amber-500";case"Open":return"bg-slate-400";case"Read-only":return"bg-slate-400";default:return"bg-slate-400"}}function Ds(e){return e?e==="00000000-0000-0000-0000-000000000001"?{name:"Admin",role:"Administrator",id:e}:e==="system"?{name:"System",role:"System",id:"system"}:e==="service-account"?{name:"Service Account",role:"Service",id:"service-account"}:e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)?{name:"User",role:"User",id:e}:{name:e.includes("user")?"User":e,role:"User",id:e}:{name:"System",role:"System",id:"system"}}function rr(e,t,n=""){if(!e)return{display:"",id:null};let l="";switch(e.toLowerCase()){case"admin_user":l="Admin User";break;case"user":l="User";break;case"division":l="Division";break;case"project":l="Project";break;case"month_close":l="Month Close";break;case"attendance":l="Attendance";break;case"payroll":l="Payroll";break;case"finance":l="Finance";break;case"governance":l="Governance";break;case"system":l="System";break;default:l=e.charAt(0).toUpperCase()+e.slice(1)}let r="";switch(n==null?void 0:n.toLowerCase()){case"create":case"open":r="Creation Event";break;case"update":case"read-only":r="Modification Event";break;case"lock":case"locked":r="Lock Event";break;case"close":case"closed":r="Closure Event";break;case"admin_login":r="Login Event";break;case"delete":case"deactivate":r="Deletion Event";break;case"activate":r="Activation Event";break;default:r=n?`${n.charAt(0).toUpperCase()+n.slice(1)} Event`:"Event"}return{display:`${l}  ${r}`,id:t||null,module:l,actionContext:r}}function Za(e){if(!e)return{display:"",iso:""};let t=String(e).trim();/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(\.\d+)?$/.test(t)&&(t=t.replace(" ","T"));const n=new Date(t);return Number.isNaN(n.getTime())?{display:String(e),iso:String(e)}:{display:n.toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC"}).replace(","," ")+" UTC",iso:n.toISOString()}}function Cp(){var Q,q,E;const{bootstrap:e}=qe(),t="Audit Logs",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState("7"),[o,d]=c.useState(""),[u,p]=c.useState(""),[h,g]=c.useState(""),[b,y]=c.useState(""),[j,P]=c.useState(null),[x,m]=c.useState(!1),f=o==="system"||o==="service-account";c.useEffect(()=>{const I=setTimeout(()=>{l(1)},300);return()=>clearTimeout(I)},[a,o,u,h,b]);const v=c.useMemo(()=>{if(f)return"";const I={};if(u&&(I.entityType=u),b&&(I.entityId=b),o&&(I.actorId=o),h){const H={open:"CREATE","read-only":"UPDATE",locked:"LOCK",closed:"CLOSE"};I.action=H[h]}if(a){const H=parseInt(a),re=new Date,D=new Date;D.setDate(re.getDate()-H),I.startDate=D.toISOString().split("T")[0],I.endDate=re.toISOString().split("T")[0]}return kp(I)},[a,o,u,h,b,f]),N=Ce({path:v||"/api/v1/governance/audit",page:n,pageSize:r,enabled:!!v&&!f}),L=((Q=N.data)==null?void 0:Q.items)||[],U=((q=N.data)==null?void 0:q.total)||0,_=c.useMemo(()=>{const I=[];if(a&&I.push({label:`Last ${a} days`,key:"dateRange"}),o){const H=Ic.find(re=>re.value===o);H&&I.push({label:`Actor: ${H.label}`,key:"actor"})}if(u){const H=Oc.find(re=>re.value===u);H&&I.push({label:`Module: ${H.label}`,key:"module"})}if(h){const H=Bc.find(re=>re.value===h);H&&I.push({label:`Action: ${H.label}`,key:"actionType"})}return b&&I.push({label:`Reference: ${b}`,key:"entityReference"}),I},[a,o,u,h,b]),O=I=>{P(I),m(!0)},M=()=>{m(!1),P(null)},k=I=>{switch(I){case"dateRange":i("");break;case"actor":d("");break;case"module":p("");break;case"actionType":g("");break;case"entityReference":y("");break}};return N.status==="loading"&&!N.data?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Audit Logs"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,subtitle:"Every critical action, permanently recorded"}),s.jsx(Qe,{})]})]}):N.status==="error"?((E=N.error)==null?void 0:E.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Audit Logs"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,subtitle:"Every critical action, permanently recorded"}),s.jsx(ve,{})]})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Audit Logs"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,subtitle:"Every critical action, permanently recorded"}),s.jsx(ie,{error:N.error})]})]}):s.jsxs("div",{className:"min-h-screen bg-slate-100",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Audit Logs"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,subtitle:"Every critical action, permanently recorded"}),s.jsx("div",{className:"mx-4 mb-4 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"px-4 py-3 h-11 w-full bg-white border-2 border-gray-500 rounded-md text-sm text-gray-800 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 leading-none appearance-none pr-12 cursor-pointer hover:border-gray-600 transition-colors duration-150",value:a,onChange:I=>i(I.target.value),children:[s.jsx("option",{value:"",children:"All dates"}),s.jsx("option",{value:"1",children:"Last 24 hours"}),s.jsx("option",{value:"7",children:"Last 7 days"}),s.jsx("option",{value:"30",children:"Last 30 days"}),s.jsx("option",{value:"90",children:"Last 90 days"})]}),s.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M1 1L6 6L11 1",stroke:"#374151",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"px-4 py-3 h-11 w-full bg-white border border-gray-400 rounded-md text-sm text-gray-800 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 leading-none appearance-none pr-12 cursor-pointer hover:border-gray-500 transition-colors duration-150",value:o,onChange:I=>d(I.target.value),children:[s.jsx("option",{value:"",children:"All actors"}),Ic.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))]}),s.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M1 1L6 6L11 1",stroke:"#374151",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"px-4 py-3 h-11 w-full bg-white border border-gray-400 rounded-md text-sm text-gray-800 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 leading-none appearance-none pr-12 cursor-pointer hover:border-gray-500 transition-colors duration-150",value:u,onChange:I=>p(I.target.value),children:[s.jsx("option",{value:"",children:"All modules"}),Oc.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))]}),s.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M1 1L6 6L11 1",stroke:"#374151",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"px-4 py-3 h-11 w-full bg-white border border-gray-400 rounded-md text-sm text-gray-800 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 leading-none appearance-none pr-12 cursor-pointer hover:border-gray-500 transition-colors duration-150",value:h,onChange:I=>g(I.target.value),children:[s.jsx("option",{value:"",children:"All actions"}),Bc.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))]}),s.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M1 1L6 6L11 1",stroke:"#374151",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsx("input",{type:"text",className:"px-4 py-3 h-11 bg-white border border-gray-400 rounded-md text-sm text-gray-800 font-medium placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 leading-none hover:border-gray-500 transition-colors duration-150",placeholder:"Entity reference",value:b,onChange:I=>y(I.target.value)})]}),_.length>0&&s.jsx("div",{className:"flex flex-wrap gap-3 mt-6 pt-4 border-t border-slate-200",children:_.map(I=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-2 h-11 bg-indigo-50 border border-indigo-200 text-indigo-700 text-sm rounded-md leading-none shadow-sm",children:[I.label,s.jsx("button",{type:"button",className:"text-indigo-400 hover:text-indigo-600 leading-none transition-colors duration-200",onClick:()=>k(I.key),children:""})]},I.key))})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:L.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Oe,{title:"No audit logs found",description:"Try adjusting your filters to see more results."})}):s.jsx("div",{className:"divide-y divide-slate-200",children:L.map(I=>{const H=Ds(I.actorId),re=Gr(I.action),D=zc(I.action),A=Ep(I.action),S=Za(I.createdAt??I.created_at),T=rr(I.entityType,I.entityId,I.action);return s.jsxs("div",{className:"relative hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>O(I),children:[s.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-[3px] ${A}`}),s.jsx("div",{className:"p-5 pl-6",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-mono text-xs text-slate-500 mb-3",title:S.iso,children:S.display}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"font-bold text-slate-900 text-base",children:H.name}),s.jsx("div",{className:"text-sm text-slate-500 mt-0.5",children:H.role})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:`font-semibold ${D}`,children:re}),s.jsx("span",{className:"text-slate-600",children:T.display})]})]})})})]},I.id)})})})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-2 h-10 bg-white border border-slate-300 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 hover:border-slate-400 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm",disabled:n<=1,onClick:()=>l(I=>Math.max(1,I-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600 font-medium",children:["Page ",n," / Total ",U]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-2 h-10 bg-white border border-slate-300 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 hover:border-slate-400 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed transition-all duration-200 shadow-sm",disabled:n*r>=U,onClick:()=>l(I=>I+1),children:"Next"})]})})]}),x&&j&&s.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-25",onClick:M}),s.jsxs("div",{className:"absolute right-0 top-0 h-full w-full md:w-2/5 lg:w-2/5 xl:w-2/5 bg-white shadow-xl overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Audit Details"}),s.jsx("button",{type:"button",className:"text-slate-300 opacity-60",onClick:M,children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Action"}),s.jsx("div",{className:`font-medium ${zc(j.action)}`,children:Gr(j.action)})]}),s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Entity"}),s.jsx("div",{className:"text-slate-900 mb-3",children:rr(j.entityType,j.entityId,j.action).display}),rr(j.entityType,j.entityId,j.action).id&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"text-slate-500 mb-1",children:"Reference ID"}),s.jsx("div",{className:"font-mono bg-slate-50 p-2 rounded border border-slate-200 text-slate-700",children:rr(j.entityType,j.entityId,j.action).id})]})]}),s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Actor"}),s.jsxs("div",{className:"text-slate-900 mb-2",children:[s.jsx("div",{className:"font-medium",children:Ds(j.actorId).name}),s.jsxs("div",{className:"text-sm text-slate-500",children:["Role: ",Ds(j.actorId).role]})]}),Ds(j.actorId).id&&Ds(j.actorId).id!==Ds(j.actorId).name&&s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"text-slate-500 mb-1",children:"Actor ID"}),s.jsx("div",{className:"font-mono bg-slate-50 p-2 rounded border border-slate-200 text-slate-700",children:Ds(j.actorId).id})]})]}),s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Timestamp"}),s.jsx("div",{className:"font-mono text-sm text-slate-700",title:Za(j.createdAt??j.created_at).iso,children:Za(j.createdAt??j.created_at).display})]}),j.ipAddress&&s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"IP Address"}),s.jsx("div",{className:"font-mono text-sm text-slate-900",children:j.ipAddress})]}),j.userAgent&&s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Device"}),s.jsx("div",{className:"text-sm text-slate-900",children:j.userAgent})]}),j.reason&&s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Reason"}),s.jsx("div",{className:"text-sm text-slate-900",children:j.reason})]}),j.source&&s.jsxs("div",{className:"pb-4 border-b border-slate-100",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Source"}),s.jsx("div",{className:"font-mono text-xs text-slate-500 bg-slate-50 p-2 rounded border border-slate-200",children:j.source})]}),(j.beforeState||j.afterState)&&s.jsxs("div",{className:"pb-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 mb-3",children:"State Changes"}),j.beforeState&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 mb-2",children:"Before"}),s.jsx("pre",{className:"bg-slate-50 p-3 rounded-md text-xs font-mono text-slate-800 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(JSON.parse(j.beforeState),null,2)})]}),j.afterState&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 mb-2",children:"After"}),s.jsx("pre",{className:"bg-slate-50 p-3 rounded-md text-xs font-mono text-slate-800 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(JSON.parse(j.afterState),null,2)})]})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[s.jsx("button",{type:"button",className:"w-full px-6 py-3 h-12 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg text-sm font-semibold hover:from-indigo-700 hover:to-indigo-800 disabled:from-slate-300 disabled:to-slate-400 disabled:text-slate-600 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl disabled:shadow-none transform hover:scale-[1.02] disabled:scale-100",disabled:!0,title:"Export requires additional permissions",children:"Export Audit Logs"}),s.jsx("p",{className:"text-xs text-slate-500 mt-3 text-center leading-relaxed",children:"Exported audit logs are immutable and watermarked for compliance."})]})]})]})]})]})}function Lp(){var q,E,I,H,re,D;const{bootstrap:e}=qe(),t=((I=(E=(q=e==null?void 0:e.ui)==null?void 0:q.screens)==null?void 0:E.systemConfig)==null?void 0:I.title)||"System Configuration",[n]=c.useState(1),[l]=c.useState(200),r=((H=e==null?void 0:e.rbac)==null?void 0:H.permissions)||[],a=c.useMemo(()=>r.includes("GOV_SYSTEM_CONFIG_WRITE"),[r]),[i,o]=c.useState(!1),[d,u]=c.useState(!1),[p,h]=c.useState(null),[g,b]=c.useState(""),[y,j]=c.useState(""),[P,x]=c.useState(""),[m,f]=c.useState(""),v=A=>{h(A),u(!0)},N=A=>{h(A),b((A==null?void 0:A.key)||""),j((A==null?void 0:A.value)||""),x((A==null?void 0:A.description)||""),f(""),o(!0)},L=Ce({path:"/api/v1/governance/system-config",page:n,pageSize:l,enabled:!0}),U=Se(async()=>oe(`/api/v1/governance/system-config/${encodeURIComponent(g)}`,{method:"PUT",body:{value:y,description:P||null,reason:m||null}})),_=A=>({ATTENDANCE_MODE:"Attendance Mode",PROJECTS_ENABLED:"Projects Module",FINANCE_LOCK_DATE:"Finance Lock Date",PAYROLL_APPROVAL_REQUIRED:"Payroll Approval",MONTH_CLOSE_ENABLED:"Month Close",AUDIT_RETENTION_DAYS:"Audit Retention",USER_SESSION_TIMEOUT:"Session Timeout",EMAIL_NOTIFICATIONS:"Email Notifications"})[A]||A.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase()),O=A=>A==="true"||A===!0?"Enabled":A==="false"||A===!1?"Disabled":A==="STANDARD"?"Standard Mode":A==="ADVANCED"?"Advanced Mode":A==="REQUIRED"?"Required":A==="OPTIONAL"?"Optional":String(A),M=A=>({ATTENDANCE_MODE:"Attendance Module",PROJECTS_ENABLED:"Projects Module",FINANCE_LOCK_DATE:"Finance & Payroll",PAYROLL_APPROVAL_REQUIRED:"Finance & Payroll",MONTH_CLOSE_ENABLED:"Company-wide",AUDIT_RETENTION_DAYS:"Company-wide",USER_SESSION_TIMEOUT:"Company-wide",EMAIL_NOTIFICATIONS:"Company-wide"})[A]||"Company-wide",k=A=>["FINANCE_LOCK_DATE","MONTH_CLOSE_ENABLED"].includes(A)?{text:"Locked",color:"text-red-700 bg-red-50"}:["AUDIT_RETENTION_DAYS"].includes(A)?{text:"Read-only",color:"text-amber-700 bg-amber-50"}:{text:"Open",color:"text-slate-700 bg-slate-50"};if(L.status==="loading"&&!L.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(Qe,{})]});if(L.status==="error")return((re=L.error)==null?void 0:re.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(ve,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(ie,{error:L.error})]});const Q=((D=L.data)==null?void 0:D.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-50 relative z-[9999]",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"System Configuration"})]})]})})}),s.jsxs("div",{className:"pt-32 sm:pt-32 lg:pt-16",children:[s.jsx(xe,{title:t,subtitle:"Central system behavior, enforced across all modules"}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"System Configuration is critical."}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Changes affect system-wide behavior and are permanently audited."})]})]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsx("div",{className:"w-full px-4 py-4 shadow-sm mb-6 relative z-10",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Governance Access"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:a?"You can request configuration changes.":"Read-only: GOV_SYSTEM_CONFIG_WRITE is required to request changes."})]})})}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"System Policies"})}),Q.length===0?s.jsx("div",{className:"p-8",children:s.jsx(Oe,{title:"No system policies configured"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:Q.map(A=>{const S=k(A.key);return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>v(A),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm text-slate-900",children:_(A.key)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-500",children:A.key}),s.jsx("div",{className:"mt-2 text-sm text-slate-700",children:O(A.value)}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:M(A.key)})]}),s.jsx("div",{className:"ml-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.color}`,children:S.text})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:T=>{T.stopPropagation(),v(A)},children:"View"})})]},A.key)})}),s.jsx("div",{className:"hidden md:block overflow-x-auto relative z-10",children:s.jsx(Et,{columns:[{key:"config",title:"Configuration",render:(A,S)=>s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm text-slate-900",children:_(S.key)}),s.jsx("div",{className:"font-mono text-xs text-slate-500 mt-1",children:S.key})]})},{key:"value",title:"Current State",render:(A,S)=>s.jsx("span",{className:"text-sm text-slate-700",children:O(S.value)})},{key:"scope",title:"Scope",render:(A,S)=>s.jsx("span",{className:"text-sm text-slate-700",children:M(S.key)})},{key:"status",title:"Status",render:(A,S)=>{const T=k(S.key);return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.color}`,children:T.text})}},{key:"action",title:"Action",render:(A,S)=>s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>v(S),children:"View"})}],data:Q.map(A=>({key:A.key,value:A.value,description:A.description,config:_(A.key),scope:M(A.key),status:k(A.key)}))})})]})]})]})]}),d&&p?s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>u(!1)}),s.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:_(p.key)}),s.jsx("p",{className:"text-sm text-slate-500 font-mono mt-1",children:p.key})]}),s.jsx("button",{type:"button",className:"text-slate-400 hover:text-slate-600 transition-colors",onClick:()=>u(!1),children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-700",children:p.description||`System configuration that controls ${_(p.key).toLowerCase()} behavior across the platform.`})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-2",children:"Current Value"}),s.jsx("div",{className:"bg-slate-50 p-3 rounded-md",children:s.jsx("span",{className:"text-sm font-medium text-slate-900",children:O(p.value)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-2",children:"Impact"}),s.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[s.jsxs("li",{children:[" Applies to ",M(p.key)]}),s.jsx("li",{children:" Enforced company-wide"}),s.jsx("li",{children:" Affects all system operations"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-2",children:"Governance State"}),s.jsx("div",{className:"bg-slate-50 p-3 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k(p.key).color}`,children:k(p.key).text}),k(p.key).text==="Locked"&&s.jsx("span",{className:"text-xs text-slate-500",children:"Month Close in progress"})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-2",children:"Change History"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-slate-50 p-3 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-slate-900",children:"System Admin"}),s.jsx("span",{className:"text-xs text-slate-500",children:"2 days ago"})]}),s.jsx("div",{className:"text-xs text-slate-700 mt-1",children:"Updated configuration value"})]}),s.jsxs("div",{className:"bg-slate-50 p-3 rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-slate-900",children:"System Admin"}),s.jsx("span",{className:"text-xs text-slate-500",children:"1 week ago"})]}),s.jsx("div",{className:"text-xs text-slate-700 mt-1",children:"Initial configuration"})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("a",{href:"/admin/audit",className:"text-xs text-indigo-600 hover:text-indigo-800",children:"View full Audit Logs "})})]})]}),s.jsx("div",{className:"px-6 py-4 border-t border-slate-200",children:a&&k(p.key).text!=="Locked"?s.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium hover:bg-slate-800 transition-colors",onClick:()=>{u(!1),N(p)},children:"Request Change"}):s.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-slate-100 text-slate-400 rounded-md text-sm font-medium cursor-not-allowed",disabled:!0,title:k(p.key).text==="Locked"?"Configuration is locked during Month Close":"Insufficient permissions",children:k(p.key).text==="Locked"?"Configuration Locked":"Edit Not Available"})})]})})]}):null,i?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{U.status!=="loading"&&o(!1)}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Request Configuration Change"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"All changes are audited and require approval."}),s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-red-800",children:[s.jsx("strong",{children:"Warning:"})," This change affects system-wide behavior and will be recorded in Audit Logs."]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Configuration"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono bg-slate-50",value:(p==null?void 0:p.key)||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Current Value"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm bg-slate-50",value:O((p==null?void 0:p.value)||""),disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"New Value"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:y,onChange:A=>j(A.target.value),placeholder:"Enter new value",disabled:U.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:m,onChange:A=>f(A.target.value),disabled:U.status==="loading",placeholder:"Explain why this change is needed and its expected impact"}),m.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),U.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:U.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col-reverse sm:flex-row sm:items-center sm:justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:U.status==="loading",onClick:()=>o(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:U.status==="loading"||!y.trim()||m.trim().length===0,onClick:async()=>{await U.run(),o(!1),L.refresh()},children:U.status==="loading"?"Submitting":"Submit Request"})]})]})]}):null]})}function gx(...e){return e.filter(Boolean).join(" ")}function Ap({divisionId:e,scope:t,status:n}){const l=new URL("/api/v1/employees","http://local");return e&&l.searchParams.set("divisionId",e),t&&l.searchParams.set("scope",t),n&&l.searchParams.set("status",n),l.pathname+l.search}function Uc(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function en({name:e,className:t}){const n={className:gx("h-4 w-4",t),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};return e==="filter"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M3 5h18M6 12h12M10 19h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="search"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M21 21l-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="chevron"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="x"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M18 6 6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="edit"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M12 20h9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):e==="download"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M7 10l5 5 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 15V3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):null}function ar(e){const t=String(e||"").toUpperCase(),n=t==="ACTIVE"?"bg-emerald-50 text-emerald-700":t==="ON_HOLD"?"bg-amber-50 text-amber-800":t==="EXITED"?"bg-rose-50 text-rose-700":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t||""})}function ir(e,t=null){const n=String(e||"").toUpperCase();return n==="COMPANY"?s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-800",children:"Shared"}):n==="DIVISION"?s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border-2",style:{borderColor:t||"#3B82F6",color:t||"#3B82F6"},children:"Dedicated"}):s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-800",children:n||""})}function or(e){const t=(e==null?void 0:e.firstName)||"",n=(e==null?void 0:e.lastName)||"";return`${t} ${n}`.trim()||""}function ei(e,t){if(!t)return"";const n=e[t];return n?`${n.code}  ${n.name}`:t.slice(0,8)+""}function Tp(){var ld,rd,ad,id,od,dd,cd,ud,md,xd,hd,fd;const{bootstrap:e}=qe(),t=((ad=(rd=(ld=e==null?void 0:e.ui)==null?void 0:ld.screens)==null?void 0:rd.employees)==null?void 0:ad.title)||"Employees",n=((id=e==null?void 0:e.rbac)==null?void 0:id.permissions)||[],l=n.includes("EMPLOYEE_WRITE");n.includes("EMPLOYEE_COMPENSATION_WRITE"),n.includes("EMPLOYEE_DOCUMENT_WRITE");const[r,a]=c.useState(1),[i]=c.useState(20),[o,d]=c.useState(""),[u,p]=c.useState(""),[h,g]=c.useState(""),[b,y]=c.useState(""),[j,P]=c.useState(""),[x,m]=c.useState(!1),f=On(),v=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),N=c.useMemo(()=>{var he;const w=((he=v.data)==null?void 0:he.items)||[],ye={};for(const Ne of w)ye[Ne.id]=Ne;return ye},[v.data]),L=Ce({path:Ap({divisionId:o||null,scope:u||null,status:h||null}),page:r,pageSize:i,enabled:!0}),U=((od=L.data)==null?void 0:od.items)||[],_=((dd=L.data)==null?void 0:dd.total)||0,O=c.useMemo(()=>j?j==="NONE"?U.filter(w=>!w.compensationType):U.filter(w=>w.compensationType===j):U,[U,j]),M=c.useMemo(()=>{const w=String(b||"").trim().toLowerCase();return w?O.filter(ye=>{const he=String(ye.employeeCode||"").toLowerCase(),Ne=or(ye).toLowerCase();return he.includes(w)||Ne.includes(w)}):O},[O,b]);c.useMemo(()=>{const w={ACTIVE:0,ON_HOLD:0,EXITED:0},ye={COMPANY:0,DIVISION:0},he={};for(const Ne of U){Ne.status&&w[Ne.status]!==void 0&&(w[Ne.status]+=1),Ne.scope&&ye[Ne.scope]!==void 0&&(ye[Ne.scope]+=1);const ka=Ne.primaryDivisionId||"";ka&&(he[ka]=(he[ka]||0)+1)}return{statusCounts:w,scopeCounts:ye,divisionCounts:he}},[U]);const[k,Q]=c.useState(null),[q,E]=c.useState("profile"),[I,H]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),re=()=>H(w=>({...w,refreshIndex:w.refreshIndex+1}));c.useEffect(()=>{let w=!0;async function ye(){if(!k){H(he=>({...he,status:"idle",data:null,error:null}));return}H(he=>({...he,status:"loading",error:null}));try{const he=await oe(`/api/v1/employees/${k}`);if(!w)return;H(Ne=>({...Ne,status:"ready",data:he,error:null}))}catch(he){if(!w)return;H(Ne=>({...Ne,status:"error",error:he}))}}return ye(),()=>{w=!1}},[k,I.refreshIndex]);const D=((cd=I.data)==null?void 0:cd.item)||null;D==null||D.status;const[A,S]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),T=()=>S(w=>({...w,refreshIndex:w.refreshIndex+1}));c.useEffect(()=>{let w=!0;async function ye(){if(!(!k||q!=="compensation")){S(he=>({...he,status:"loading",error:null}));try{const he=await oe(`/api/v1/employees/${k}/compensation`);if(!w)return;S(Ne=>({...Ne,status:"ready",data:he,error:null}))}catch(he){if(!w)return;S(Ne=>({...Ne,status:"error",error:he}))}}}return ye(),()=>{w=!1}},[k,q,A.refreshIndex]);const[$,ee]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),de=()=>ee(w=>({...w,refreshIndex:w.refreshIndex+1}));c.useEffect(()=>{let w=!0;async function ye(){if(!(!k||q!=="documents")){ee(he=>({...he,status:"loading",error:null}));try{const he=await oe(`/api/v1/employees/${k}/documents`);if(!w)return;ee(Ne=>({...Ne,status:"ready",data:he,error:null}))}catch(he){if(!w)return;ee(Ne=>({...Ne,status:"error",error:he}))}}}return ye(),()=>{w=!1}},[k,q,$.refreshIndex]);const ne=Se(async w=>oe("/api/v1/employees",{method:"POST",body:w,headers:w!=null&&w.idempotencyKey?{"x-idempotency-key":w.idempotencyKey}:void 0})),F=Se(async({id:w,payload:ye})=>oe(`/api/v1/employees/${w}`,{method:"PATCH",body:ye})),X=Se(async({id:w,payload:ye})=>oe(`/api/v1/employees/${w}/change-scope`,{method:"POST",body:ye})),se=Se(async({id:w,payload:ye})=>oe(`/api/v1/employees/${w}/change-status`,{method:"POST",body:ye})),pe=Se(async({id:w,payload:ye})=>oe(`/api/v1/employees/${w}/compensation`,{method:"POST",body:ye})),Le=Se(async({id:w,payload:ye})=>oe(`/api/v1/employees/${w}/documents`,{method:"POST",body:ye}));Se(async({id:w,docId:ye})=>oe(`/api/v1/employees/${w}/documents/${ye}/download`));const[Be,be]=c.useState(!1),[ge,ke]=c.useState("create"),[Te,_e]=c.useState(""),[ze,B]=c.useState(""),[G,le]=c.useState(""),[me,ce]=c.useState(""),[Fe,C]=c.useState(""),[z,W]=c.useState("ACTIVE"),[J,te]=c.useState("COMPANY"),[Ee,ue]=c.useState(""),[De,at]=c.useState(""),[st,Bn]=c.useState(""),va=()=>{ke("create"),_e(""),B(""),le(""),ce(""),C(""),W("ACTIVE"),te("COMPANY"),ue(""),at(""),Bn(""),be(!0)},[ga,zn]=c.useState(!1),[Kt,Rl]=c.useState("COMPANY"),[Ks,Ml]=c.useState(""),[Ps,Il]=c.useState(""),[Ol,Gs]=c.useState(!1),[Un,Bl]=c.useState("ACTIVE"),[Fn,zl]=c.useState(""),[Ul,Js]=c.useState(!1),[R,Z]=c.useState(""),[Y,ae]=c.useState("USD"),[je,$e]=c.useState("MONTHLY"),[pt,Re]=c.useState(""),[$t,ja]=c.useState(""),[yx,ba]=c.useState(!1),[ya,Nx]=c.useState(""),[Na,wx]=c.useState(""),[wa,Sx]=c.useState(""),[td,kx]=c.useState(""),[Sa,Ex]=c.useState(""),[sd,Cx]=c.useState("");if(L.status==="loading"&&!L.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(Qe,{})]});if(L.status==="error")return((ud=L.error)==null?void 0:ud.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(ve,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t}),s.jsx(ie,{error:L.error})]});const nd=s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:D?Uc(D):""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:D?or(D):"Employee detail"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D?`${D.employeeCode}  ${D.email||""}`:"Select an employee to view details."})]})]})}),D?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[ar(D.status),ir(D.scope)]}):null]}),s.jsx("div",{className:"p-4",children:k?I.status==="loading"?s.jsx(Qe,{label:"Loading employee"}):I.status==="error"?((md=I.error)==null?void 0:md.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:I.error}):D?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Employee Overview"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Employee ID"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:D.employeeCode})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:ar(D.status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Joining Date"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:D.createdAt?new Date(D.createdAt).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Designation"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:D.designation||""})]})]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Current Employment Scope"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Scope"}),s.jsx("div",{className:"mt-1",children:ir(D.scope)})]}),D.scope==="DIVISION"?s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:ei(N,D.primaryDivisionId)})]}):null,s.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3",children:s.jsxs("p",{className:"text-xs text-amber-800",children:[s.jsx("strong",{children:"Warning:"})," This scope affects financial reporting."]})})]})]}),s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:()=>f(`/admin/employees/profile/${D.id}`),children:"View Full Profile"})]}):null:s.jsx(Oe,{title:"No employee selected",description:"Pick someone from the directory to view employment details."})})]});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Employees"})]})]})})}),s.jsx("div",{className:"pt-16 sm:pt-16 lg:pt-16 bg-white border-b border-slate-200",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Employees"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Employment records and financial scope"})]}),s.jsx("div",{className:"flex items-center gap-2",children:l?s.jsx("button",{type:"button",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:va,children:"Add Employee"}):null})]})})}),s.jsx("div",{className:"bg-white border-b border-slate-200",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"min-w-[240px] flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-2",children:[s.jsx(en,{name:"search",className:"text-slate-400"}),s.jsx("input",{className:"w-full border-0 p-0 text-sm focus:ring-0",value:b,onChange:w=>{y(w.target.value),a(1)},placeholder:"Search by name or Employee ID"})]})]}),s.jsxs("div",{className:"min-w-[180px]",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Employment Scope"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("select",{className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-3 py-2 pr-9 text-sm text-slate-700",value:u,onChange:w=>{p(w.target.value),a(1)},children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"COMPANY",children:"Company (Shared)"}),s.jsx("option",{value:"DIVISION",children:"Division (Dedicated)"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:s.jsx(en,{name:"chevron"})})]})]}),s.jsxs("div",{className:"min-w-[160px]",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Status"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("select",{className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-3 py-2 pr-9 text-sm text-slate-700",value:h,onChange:w=>{g(w.target.value),a(1)},children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"ON_HOLD",children:"On hold"}),s.jsx("option",{value:"EXITED",children:"Exited"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:s.jsx(en,{name:"chevron"})})]})]}),s.jsxs("div",{className:"min-w-[220px]",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("select",{className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-3 py-2 pr-9 text-sm text-slate-700",value:o,onChange:w=>{d(w.target.value),a(1)},children:[s.jsx("option",{value:"",children:"All"}),(((xd=v.data)==null?void 0:xd.items)||[]).map(w=>s.jsxs("option",{value:w.id,children:[w.code,"  ",w.name]},w.id))]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:s.jsx(en,{name:"chevron"})})]})]}),s.jsxs("div",{className:"min-w-[200px]",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Employment Type"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("select",{className:"w-full appearance-none rounded-xl border border-slate-300 bg-slate-50 px-3 py-2 pr-9 text-sm text-slate-500",value:"",onChange:()=>{},disabled:!0,children:s.jsx("option",{value:"",children:"Not available"})}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-300",children:s.jsx(en,{name:"chevron"})})]})]}),s.jsxs("div",{className:"min-w-[200px]",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Compensation Type"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("select",{className:"w-full appearance-none rounded-xl border border-slate-300 bg-white px-3 py-2 pr-9 text-sm text-slate-700",value:j,onChange:w=>{P(w.target.value),a(1)},children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"MONTHLY",children:"MONTHLY"}),s.jsx("option",{value:"HOURLY",children:"HOURLY"}),s.jsx("option",{value:"ANNUAL",children:"ANNUAL"}),s.jsx("option",{value:"NONE",children:"None"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400",children:s.jsx(en,{name:"chevron"})})]})]}),s.jsx("div",{children:s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>{d(""),p(""),g(""),y(""),P(""),a(1)},children:"Clear"})})]})})}),k&&x?s.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 xl:hidden",children:[s.jsx("div",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>m(!1),children:"Back"}),s.jsx("div",{className:"min-w-0 text-sm font-semibold text-slate-900 truncate",children:"Employee"}),s.jsx("div",{className:"w-[68px]"})]})}),s.jsx("div",{className:"p-4",children:nd})]}):null,s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 pb-8 pt-6",children:[s.jsxs("div",{className:"xl:col-span-8 bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Employees"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Showing ",M.length," on this page  Total ",_]})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Page ",r]})]})}),M.length===0?s.jsx("div",{className:"p-6",children:s.jsx(Oe,{title:"No employees",description:"Try changing filters or search."})}):s.jsxs("div",{children:[s.jsx("div",{className:"md:hidden p-3 space-y-2",children:M.map(w=>{const ye=k===w.id,he=N[w.primaryDivisionId],Ne=(he==null?void 0:he.color)||"#3B82F6";return s.jsx("button",{type:"button",className:gx("w-full text-left rounded-2xl border p-4 shadow-sm",ye?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>{Q(w.id),E("profile"),m(!0)},children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:Uc(w)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:or(w)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-500",children:w.employeeCode}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:w.email||""}),s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[ir(w.scope,Ne),ar(w.status)]}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:w.scope==="COMPANY"?"":ei(N,w.primaryDivisionId)}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:w.designation||""})]})]})})},w.id)})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Employee ID"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Scope"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Division"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Designation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Joined On"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:M.map(w=>{const ye=k===w.id;w.status;const he=N[w.primaryDivisionId],Ne=(he==null?void 0:he.color)||"#3B82F6";return s.jsxs("tr",{className:ye?"bg-slate-50":"",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-mono text-sm text-slate-500",children:w.employeeCode})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:or(w)}),s.jsx("div",{className:"text-xs text-slate-500",children:w.email||""})]}),s.jsx("td",{className:"px-4 py-3",children:ir(w.scope,Ne)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:w.scope==="COMPANY"?"":ei(N,w.primaryDivisionId)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:w.designation||""})}),s.jsx("td",{className:"px-4 py-3",children:ar(w.status)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:w.createdAt?new Date(w.createdAt).toLocaleDateString():""})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>{Q(w.id),E("profile")},children:"View"})})]},w.id)})})]})})}),s.jsx("div",{className:"p-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:r<=1,onClick:()=>a(w=>Math.max(1,w-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",r]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:r*i>=_,onClick:()=>a(w=>w+1),children:"Next"})]})})]})]}),s.jsx("div",{className:"hidden xl:block xl:col-span-4",children:s.jsx("div",{className:"sticky top-6",children:nd})})]})}),Be?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{ne.status==="loading"||F.status==="loading"||be(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:ge==="create"?"Create Employee":"Edit Employee"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono disabled:bg-slate-50",value:Te,onChange:w=>_e(w.target.value),disabled:ge!=="create"}),ge!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Employee code is immutable."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:z,onChange:w=>W(w.target.value),disabled:ge!=="create",children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]}),ge!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Status for lifecycle transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"First Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ze,onChange:w=>B(w.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:G,onChange:w=>le(w.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:me,onChange:w=>ce(w.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Phone"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Fe,onChange:w=>C(w.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:J,onChange:w=>te(w.target.value),disabled:ge!=="create",children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]}),ge!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Scope for scope transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:Ee,onChange:w=>ue(w.target.value),disabled:ge!=="create"||J!=="DIVISION",children:[s.jsx("option",{value:"",children:J==="DIVISION"?"Select":""}),(((hd=v.data)==null?void 0:hd.items)||[]).map(w=>s.jsxs("option",{value:w.id,children:[w.code,"  ",w.name]},w.id))]})]}),ge==="create"?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Idempotency Key (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:st,onChange:w=>Bn(w.target.value)}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If provided, repeated creates will return the same employee."})]}):null,s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:De,onChange:w=>at(w.target.value)})]})]}),ne.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:ne.error})}):null,F.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:F.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:ne.status==="loading"||F.status==="loading",onClick:()=>be(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:(ge==="create"?ne.status==="loading":F.status==="loading")||Te.trim().length===0||ze.trim().length===0||G.trim().length===0||ge==="create"&&J==="DIVISION"&&!Ee,onClick:async()=>{if(ge==="create"){const ye={employeeCode:Te.trim(),firstName:ze.trim(),lastName:G.trim(),email:me.trim()||null,phone:Fe.trim()||null,status:z,scope:J,primaryDivisionId:J==="DIVISION"?Ee:null,reason:De.trim()||null,idempotencyKey:st.trim()||null},he=await ne.run(ye),Ne=he==null?void 0:he.item;be(!1),L.refresh(),Ne!=null&&Ne.id&&(Q(Ne.id),E("profile"),re());return}if(!k)return;const w={firstName:ze.trim()||null,lastName:G.trim()||null,email:me.trim()||null,phone:Fe.trim()||null,reason:De.trim()||null};await F.run({id:k,payload:w}),be(!1),L.refresh(),re()},children:ge==="create"?ne.status==="loading"?"Creating":"Create":F.status==="loading"?"Saving":"Save"})]})]})]}):null,ga?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{X.status!=="loading"&&zn(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Scope"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Scope changes are append-only and require a reason."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Kt,onChange:w=>Rl(w.target.value),children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:Ks,onChange:w=>Ml(w.target.value),disabled:Kt!=="DIVISION",children:[s.jsx("option",{value:"",children:Kt==="DIVISION"?"Select":""}),(((fd=v.data)==null?void 0:fd.items)||[]).map(w=>s.jsxs("option",{value:w.id,children:[w.code,"  ",w.name]},w.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Ps,onChange:w=>Il(w.target.value)}),Ps.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),X.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:X.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:X.status==="loading",onClick:()=>zn(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:X.status==="loading"||!k||Ps.trim().length===0||Kt==="DIVISION"&&!Ks,onClick:async()=>{await X.run({id:k,payload:{scope:Kt,primaryDivisionId:Kt==="DIVISION"?Ks:null,reason:Ps.trim()}}),zn(!1),L.refresh(),re()},children:X.status==="loading"?"Saving":"Confirm"})]})]})]}):null,Ol?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{se.status!=="loading"&&Gs(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Status"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Status affects payroll and attendance eligibility."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Un,onChange:w=>Bl(w.target.value),children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Fn,onChange:w=>zl(w.target.value)})]})]}),se.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:se.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:se.status==="loading",onClick:()=>Gs(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:se.status==="loading"||!k,onClick:async()=>{await se.run({id:k,payload:{status:Un,reason:Fn.trim()||null}}),Gs(!1),L.refresh(),re()},children:se.status==="loading"?"Saving":"Confirm"})]})]})]}):null,Ul?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{pe.status!=="loading"&&Js(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Add Compensation Version"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Effective dates must not overlap. Reason is required."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:R,onChange:w=>Z(w.target.value),placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Currency"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:Y,onChange:w=>ae(w.target.value),placeholder:"USD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Frequency"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:je,onChange:w=>$e(w.target.value),children:[s.jsx("option",{value:"HOURLY",children:"HOURLY"}),s.jsx("option",{value:"MONTHLY",children:"MONTHLY"}),s.jsx("option",{value:"ANNUAL",children:"ANNUAL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Effective From"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",type:"date",value:pt,onChange:w=>Re(w.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:$t,onChange:w=>ja(w.target.value)}),$t.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),pe.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:pe.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:pe.status==="loading",onClick:()=>Js(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:pe.status==="loading"||!k||$t.trim().length===0||pt.trim().length===0||R.trim().length===0,onClick:async()=>{await pe.run({id:k,payload:{amount:Number(R),currency:Y.trim().toUpperCase(),frequency:je,effectiveFrom:pt,reason:$t.trim()}}),Js(!1),T()},children:pe.status==="loading"?"Saving":"Confirm"})]})]})]}):null,yx?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Le.status!=="loading"&&ba(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Employee Document (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey. No deletes; documents can only be deactivated."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Document Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ya,onChange:w=>Nx(w.target.value),placeholder:"OFFER_LETTER"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Na,onChange:w=>wx(w.target.value),placeholder:"offer-letter.pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:wa,onChange:w=>Sx(w.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:td,onChange:w=>kx(w.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size (bytes, optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Sa,onChange:w=>Ex(w.target.value),placeholder:"12345"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:sd,onChange:w=>Cx(w.target.value)})]})]}),Le.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:Le.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Le.status==="loading",onClick:()=>ba(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Le.status==="loading"||!k||ya.trim().length===0||Na.trim().length===0||wa.trim().length===0,onClick:async()=>{await Le.run({id:k,payload:{documentType:ya.trim(),fileName:Na.trim(),storageKey:wa.trim(),mimeType:td.trim()||null,sizeBytes:Sa.trim().length>0?Number(Sa):null,reason:sd.trim()||null}}),ba(!1),de()},children:Le.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})})}function _p(...e){return e.filter(Boolean).join(" ")}function Pp(){const{employeeId:e}=ed();return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 lg:left-72 z-50 h-16 bg-gradient-to-r from-slate-800 to-slate-900 text-white block sm:block md:block lg:block xl:block",children:s.jsx("div",{className:"mx-auto max-w-7xl h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-3",children:s.jsxs("div",{className:"flex min-w-0 items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/image.png",alt:"JASIQ",className:"h-10 w-auto object-contain rounded-lg shadow-sm ring-1 ring-white/10 hover:shadow-md transition-shadow"}),s.jsx("span",{className:"text-sm font-semibold tracking-wide whitespace-nowrap",children:"LABS"})]}),s.jsxs("div",{className:"hidden sm:flex text-sm text-slate-300 whitespace-nowrap",children:[s.jsx("span",{className:"text-white",children:"Governance"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-amber-400",children:"Employees"})]})]})})}),s.jsx("div",{className:"pt-16 sm:pt-16 lg:pt-16 bg-white border-b border-slate-200",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Employee Profile"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Employment record and financial scope"})]})})})}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-6 pb-10",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Employee profile view coming soon."}),s.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["Profile route:",s.jsx("span",{className:_p("ml-2 font-mono text-slate-900"),children:String(e||"")})]})]})})]})}function tn(e){return e&&typeof e=="string"?e.slice(0,10):null}function Fc(e){return String(e).padStart(2,"0")}function Dp(e){return e%4===0&&e%100!==0||e%400===0}function Rp(e,t){return t===2?Dp(e)?29:28:t===4||t===6||t===9||t===11?30:31}function Mp(e,t){const n=[],l=t+1,r=Rp(e,l);for(let a=1;a<=r;a++)n.push(`${e}-${Fc(l)}-${Fc(a)}`);return n}function ti(...e){return e.filter(Boolean).join(" ")}function Ip(e){return e.slice(0,7)}function Op(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function Bp(e){const t=String(e||"").toUpperCase();return t==="PRESENT"?"bg-emerald-50 text-emerald-700 border-emerald-200":t==="ABSENT"?"bg-rose-50 text-rose-700 border-rose-200":t==="LEAVE"?"bg-amber-50 text-amber-800 border-amber-200":"bg-white text-slate-500 border-slate-200"}function zp(){return"bg-slate-100 text-slate-400 border-slate-200"}function Up(){var Kt,Rl,Ks,Ml,Ps,Il,Ol,Gs,Un,Bl,Fn,zl,Ul,Js;const{bootstrap:e}=qe(),t=((Ks=(Rl=(Kt=e==null?void 0:e.ui)==null?void 0:Kt.screens)==null?void 0:Rl.attendance)==null?void 0:Ks.title)||"Attendance",n=((Ml=e==null?void 0:e.rbac)==null?void 0:Ml.permissions)||[],l=n.includes("ATTENDANCE_READ"),r=n.includes("ATTENDANCE_WRITE"),a=n.includes("ATTENDANCE_BULK_WRITE"),i=n.includes("ATTENDANCE_OVERRIDE"),[o,d]=c.useState(""),[u,p]=c.useState(""),[h,g]=c.useState("monthly"),[b,y]=c.useState(""),[j,P]=c.useState("");c.useEffect(()=>{const R=setTimeout(()=>{P(b)},300);return()=>clearTimeout(R)},[b]);const x=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),m=c.useMemo(()=>{var Z;const R={};for(const Y of((Z=x.data)==null?void 0:Z.items)||[])R[Y.id]=Y;return R},[x.data]),[f,v]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),N=()=>v(R=>({...R,refreshIndex:R.refreshIndex+1}));c.useEffect(()=>{if(!l||!o)return;let R=!0;async function Z(){v(Y=>({...Y,status:"loading",error:null}));try{const Y=new URL("/api/v1/attendance/month","http://local");Y.searchParams.set("month",o),u&&Y.searchParams.set("divisionId",u);const ae=await oe(Y.pathname+Y.search);if(!R)return;v(je=>({...je,status:"ready",data:ae,error:null}))}catch(Y){if(!R)return;v(ae=>({...ae,status:"error",error:Y}))}}return Z(),()=>{R=!1}},[l,o,u,f.refreshIndex]),c.useEffect(()=>{if(!l||o)return;let R=!0;async function Z(){try{const Y=new URL("/api/v1/attendance/month","http://local"),ae=await oe("/api/v1/attendance/today"),je=(ae==null?void 0:ae.todayDate)||null;if(!R)return;je&&/^\d{4}-\d{2}-\d{2}$/.test(je)&&d(Ip(je))}catch{}}return Z(),()=>{R=!1}},[l,o]);const[L,U]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),_=()=>U(R=>({...R,refreshIndex:R.refreshIndex+1}));c.useEffect(()=>{if(!l||h!=="summary")return;let R=!0;async function Z(){U(Y=>({...Y,status:"loading",error:null}));try{const Y=new URL("/api/v1/attendance/summary","http://local");Y.searchParams.set("month",o),u&&Y.searchParams.set("divisionId",u);const ae=await oe(Y.pathname+Y.search);if(!R)return;U(je=>({...je,status:"ready",data:ae,error:null}))}catch(Y){if(!R)return;U(ae=>({...ae,status:"error",error:Y}))}}return Z(),()=>{R=!1}},[l,h,o,u,L.refreshIndex]);const O=!!((Ps=f.data)!=null&&Ps.isMonthClosed),M=r&&!O,k=((Il=f.data)==null?void 0:Il.todayDate)||null,Q=c.useMemo(()=>{if(!o)return[];const[R,Z]=o.split("-").map(Number);return Mp(R,Z-1)},[o]),q=((Ol=f.data)==null?void 0:Ol.employees)||[],E=((Gs=f.data)==null?void 0:Gs.records)||[],I=c.useMemo(()=>{const R=String(j||"").trim().toLowerCase();return R?(q||[]).filter(Z=>{const Y=String((Z==null?void 0:Z.employeeCode)||"").toLowerCase(),ae=`${String((Z==null?void 0:Z.firstName)||"").trim()} ${String((Z==null?void 0:Z.lastName)||"").trim()}`.trim().toLowerCase();return Y.includes(R)||ae.includes(R)}):q},[q,j]),H=c.useMemo(()=>{var Y;const R=((Y=L.data)==null?void 0:Y.items)||[],Z=String(j||"").trim().toLowerCase();return Z?R.filter(ae=>{const je=String((ae==null?void 0:ae.employeeCode)||"").toLowerCase(),$e=`${String((ae==null?void 0:ae.firstName)||"").trim()} ${String((ae==null?void 0:ae.lastName)||"").trim()}`.trim().toLowerCase();return je.includes(Z)||$e.includes(Z)}):R},[L.data,j]),[re,D]=c.useState({});c.useEffect(()=>{if(!l)return;let R=!0;async function Z(){const Y=(q||[]).map($e=>$e.id).filter($e=>$e&&!re[$e]);if(Y.length===0)return;const ae=Y.slice(0,50),je=await Promise.all(ae.map(async $e=>{try{const pt=await oe(`/api/v1/employees/${$e}`),Re=(pt==null?void 0:pt.item)||null,$t=tn(Re==null?void 0:Re.joiningDate)||(typeof(Re==null?void 0:Re.createdAt)=="string"?tn(Re.createdAt):null),ja=tn(Re==null?void 0:Re.exitDate);return[$e,{joiningDate:$t,exitDate:ja,status:(Re==null?void 0:Re.status)||null}]}catch{return[$e,{joiningDate:null,exitDate:null,status:null}]}}));R&&D($e=>{const pt={...$e};for(const[Re,$t]of je)pt[Re]=$t;return pt})}return Z(),()=>{R=!1}},[l,q,re]);function A({employeeId:R,attendanceDate:Z}){var $e,pt;if(!r)return"You do not have permission to mark attendance";if(O)return"Month is CLOSED";if(!k)return"Server date unavailable";if(Z!==k)return Z<k?"Past dates are not allowed":"Future dates are not allowed";const Y=(q||[]).find(Re=>Re.id===R),ae=tn(Y==null?void 0:Y.joiningDate)||(($e=re[R])==null?void 0:$e.joiningDate)||null,je=tn(Y==null?void 0:Y.exitDate)||((pt=re[R])==null?void 0:pt.exitDate)||null;return ae&&Z<ae?"Attendance not allowed before employee joining date":je&&Z>je?`Employee exited on ${je}`:null}function S({employeeId:R,attendanceDate:Z}){return!A({employeeId:R,attendanceDate:Z})}const T=c.useMemo(()=>{const R=new Map;for(const Z of E){const Y=tn(Z.attendanceDate);Y&&R.set(`${Z.employeeId}:${Y}`,Z)}return R},[E]),$=Se(async R=>oe("/api/v1/attendance/mark",{method:"POST",body:R})),ee=Se(async R=>oe("/api/v1/attendance/bulk-mark",{method:"POST",body:R})),[de,ne]=c.useState(!1),[F,X]=c.useState(null),[se,pe]=c.useState(""),[Le,Be]=c.useState(""),[be,ge]=c.useState("PRESENT"),[ke,Te]=c.useState("HR"),[_e,ze]=c.useState(""),[B,G]=c.useState(""),[le,me]=c.useState(!1),ce=(R,Z)=>{const Y=T.get(`${R.id}:${Z}`);X(R),pe(Z),Be(Z),ge((Y==null?void 0:Y.status)||"PRESENT"),Te((Y==null?void 0:Y.source)||"HR"),ze((Y==null?void 0:Y.note)||""),G(""),ne(!0)},Fe=be==="ABSENT"||be==="LEAVE",C=async()=>{console.assert(/^\d{4}-\d{2}-\d{2}$/.test(se),"Invalid attendanceDate"),console.assert(se===Le,"Modal date mismatch (must submit clicked cell date)");const R={employeeId:F.id,attendanceDate:se,status:be,source:ke,note:_e.trim()||null,reason:B.trim()||null};console.assert(R.attendanceDate===Le,"Payload date mismatch (must submit clicked cell date)"),await $.run(R),ne(!1),me(!1),N()},[z,W]=c.useState(!1),[J,te]=c.useState(""),[Ee,ue]=c.useState("HR"),[De,at]=c.useState([]),[st,Bn]=c.useState(null);c.useEffect(()=>{if(!o){te("");return}const[R,Z]=o.split("-").map(Number);te(`${R}-${String(Z).padStart(2,"0")}-01`)},[o]);const va=()=>{if(!o)return;const R=J||(()=>{const[Y,ae]=o.split("-").map(Number);return`${Y}-${String(ae).padStart(2,"0")}-01`})(),Z=(q||[]).map(Y=>{const ae=T.get(`${Y.id}:${R}`);return{employeeId:Y.id,employeeCode:Y.employeeCode,firstName:Y.firstName,lastName:Y.lastName,status:(ae==null?void 0:ae.status)||"PRESENT",note:(ae==null?void 0:ae.note)||"",reason:""}});at(Z),Bn(null),W(!0)},ga=async()=>{if(!o)return;console.assert(/^\d{4}-\d{2}-\d{2}$/.test(J),"Invalid attendanceDate");const R={attendanceDate:J,source:Ee,items:De.map(Y=>({employeeId:Y.employeeId,status:Y.status,note:Y.note.trim()||null,reason:Y.reason.trim()||null}))},Z=await ee.run(R);Bn(Z),N()};if(!l)return s.jsxs("div",{children:[s.jsx(xe,{title:t}),s.jsx(ve,{})]});if(f.status==="loading"&&!f.data)return s.jsxs("div",{children:[s.jsx(xe,{title:t}),s.jsx(Qe,{})]});if(f.status==="error")return s.jsxs("div",{children:[s.jsx(xe,{title:t}),((Un=f.error)==null?void 0:Un.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:f.error})]});const zn=((Bl=f.data)==null?void 0:Bl.monthStatus)||"OPEN";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:t,subtitle:"Monthly",actions:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{type:"button",className:ti("rounded-lg px-3 py-2 text-sm font-medium",h==="monthly"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>g("monthly"),children:"Monthly"}),s.jsx("button",{type:"button",className:ti("rounded-lg px-3 py-2 text-sm font-medium",h==="summary"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>{g("summary"),_()},children:"Summary"})]})}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Controls"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Month close status: ",zn]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Month"}),s.jsx("input",{type:"month",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:R=>{d(R.target.value),N()}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Employee"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:b,onChange:R=>y(R.target.value),placeholder:"Search by name or code"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:R=>{p(R.target.value),N(),_()},disabled:x.status==="error"||(((Fn=x.data)==null?void 0:Fn.items)||[]).length===0,children:[s.jsx("option",{value:"",children:"All"}),(((zl=x.data)==null?void 0:zl.items)||[]).map(R=>s.jsxs("option",{value:R.id,children:[R.code,"  ",R.name]},R.id))]}),x.status==="error"?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Divisions unavailable."}):null]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-600",children:"Editability"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:O?"Month is CLOSED. Read-only.":r?"Month is OPEN. You can mark attendance.":"Read-only."})]}),h==="monthly"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!a||O,onClick:va,children:"Bulk Mark"}),a?null:s.jsx("div",{className:"text-xs text-slate-500",children:"Requires ATTENDANCE_BULK_WRITE."})]}):null]})]})}),s.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:h==="monthly"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly View"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[I.length," employees  ",Q.length," days"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-slate-600",children:[s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-emerald-200"})," Present",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-rose-200"})," Absent",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-amber-200"})," Leave"]})})]}),I.length===0?s.jsx("div",{className:"p-6",children:s.jsx(Oe,{title:"No active employees",description:"Attendance applies to ACTIVE employees only."})}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full border-separate",style:{borderSpacing:0},children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-20 bg-white border-b border-slate-200 px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),Q.map(R=>s.jsx("th",{className:"border-b border-slate-200 px-2 py-2 text-center text-xs font-semibold text-slate-600 whitespace-nowrap",children:R.slice(8)},R))]})}),s.jsx("tbody",{children:I.map(R=>{var Y;const Z=R.primaryDivisionId&&((Y=m[R.primaryDivisionId])==null?void 0:Y.code)||"";return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white border-b border-slate-100 px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:Op(R)}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[R.employeeCode,"  ",R.firstName," ",R.lastName]}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:Z?`Division: ${Z}`:R.scope})]})]})}),Q.map(ae=>{const je=T.get(`${R.id}:${ae}`),$e=(je==null?void 0:je.status)||"",Re=!(M&&S({employeeId:R.id,attendanceDate:ae})),$t=A({employeeId:R.id,attendanceDate:ae});return s.jsx("td",{className:"border-b border-slate-100 px-2 py-2 text-center",children:s.jsx("button",{type:"button",className:ti("w-12 h-9 rounded-lg border text-xs font-semibold",Re?zp():Bp($e),Re?"cursor-not-allowed":"hover:shadow-sm"),disabled:Re,onClick:Re?void 0:()=>ce(R,ae),title:Re?$t||"Not allowed":$e?`${$e}`:"",children:$e?$e[0]:""})},ae)})]},R.id)})})]})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly Summary"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Read-only aggregation for payroll reference."})]}),L.status==="loading"?s.jsx("div",{className:"p-6",children:s.jsx(Qe,{label:"Loading summary"})}):L.status==="error"?s.jsx("div",{className:"p-6",children:((Ul=L.error)==null?void 0:Ul.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:L.error})}):(((Js=L.data)==null?void 0:Js.items)||[]).length===0?s.jsx("div",{className:"p-6",children:s.jsx(Oe,{title:"No data"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Present"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Absent"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Leave"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Working Days"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:H.map(R=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[R.employeeCode,"  ",R.firstName," ",R.lastName]})}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:R.presentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:R.absentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:R.leaveDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:R.totalWorkingDays})]},R.employeeId))})]})})]})})]})}),de?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{$.status!=="loading"&&(ne(!1),me(!1))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:F?`${F.employeeCode}  ${F.firstName} ${F.lastName}`:""}),s.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Date: ",se]}),O?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:be,onChange:R=>ge(R.target.value),disabled:O,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ke,onChange:R=>Te(R.target.value),disabled:O,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Note (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:_e,onChange:R=>ze(R.target.value),disabled:O})]}),i?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required for override)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:B,onChange:R=>G(R.target.value),disabled:O,placeholder:"Required when updating an existing record"})]}):null]}),$.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:$.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:$.status==="loading",onClick:()=>{ne(!1),me(!1)},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:$.status==="loading"||O||!F||!se,onClick:()=>{if(Fe){me(!0);return}C()},children:$.status==="loading"?"Saving":"Confirm"})]}),le?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-amber-900",children:["Confirm ",be]}),s.jsxs("div",{className:"mt-1 text-xs text-amber-900",children:["This will mark the employee as ",be," for ",se,"."]}),s.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-amber-300 bg-white px-3 py-2 text-sm text-amber-900 hover:bg-amber-50",onClick:()=>me(!1),disabled:$.status==="loading",children:"Back"}),s.jsx("button",{type:"button",className:"rounded-md bg-amber-600 px-3 py-2 text-sm font-medium text-white disabled:bg-amber-300",onClick:C,disabled:$.status==="loading",children:"Confirm"})]})]}):null]})]}):null,z?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{ee.status!=="loading"&&W(!1)}}),s.jsxs("div",{className:"relative w-full max-w-4xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Bulk Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Max batch size: 500"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>W(!1),disabled:ee.status==="loading",children:"Close"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:J,onChange:R=>te(R.target.value),disabled:O})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Ee,onChange:R=>ue(R.target.value),disabled:O,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:ee.status==="loading"||O,onClick:ga,children:ee.status==="loading"?"Submitting":"Submit"})})]}),O?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,ee.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:ee.error})}):null,s.jsx("div",{className:"mt-4 overflow-auto border border-slate-200 rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Note"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Reason (override)"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:De.map(R=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-sm text-slate-900",children:[s.jsx("div",{className:"font-semibold",children:R.employeeCode}),s.jsxs("div",{className:"text-xs text-slate-500",children:[R.firstName," ",R.lastName]})]}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("select",{className:"w-full rounded-md border-slate-300 text-sm",value:R.status,onChange:Z=>{const Y=Z.target.value;at(ae=>ae.map(je=>je.employeeId===R.employeeId?{...je,status:Y}:je))},disabled:O,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:R.note,onChange:Z=>{const Y=Z.target.value;at(ae=>ae.map(je=>je.employeeId===R.employeeId?{...je,note:Y}:je))},disabled:O})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:R.reason,onChange:Z=>{const Y=Z.target.value;at(ae=>ae.map(je=>je.employeeId===R.employeeId?{...je,reason:Y}:je))},disabled:O})})]},R.employeeId))})]})}),st?s.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Result"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Created"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(st.items||[]).filter(R=>R.outcome==="CREATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Updated"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(st.items||[]).filter(R=>R.outcome==="UPDATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Failed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-rose-700",children:(st.items||[]).filter(R=>R.outcome==="FAILED").length})]})]}),(st.items||[]).filter(R=>R.outcome==="FAILED").length>0?s.jsx("div",{className:"mt-3 overflow-auto max-h-56",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Error"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:(st.items||[]).filter(R=>R.outcome==="FAILED").map(R=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-xs font-mono text-slate-700",children:[String(R.employeeId).slice(0,8),""]}),s.jsx("td",{className:"px-3 py-2 text-xs text-rose-700",children:R.error||"Failed"})]},`${R.employeeId}:${R.attendanceDate}`))})]})}):null]}):null]})]}):null]})}function Fp(...e){return e.filter(Boolean).join(" ")}function $p(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Vp(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function $c({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Fp("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Vp(t)),children:t}):null}function Hp(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)===400&&(t.includes("employee not found")||t.includes("not found"))}function Wp(){var b,y,j,P;const{bootstrap:e}=qe(),n=(((b=e==null?void 0:e.rbac)==null?void 0:b.permissions)||[]).includes("TIMESHEET_READ"),l=(e==null?void 0:e.systemConfig)||{},r=$p(((y=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:y.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),d=Ce({path:"/api/v1/timesheets/my",page:a,pageSize:o,enabled:n&&r}),u=((j=d.data)==null?void 0:j.items)||[],p=((P=d.data)==null?void 0:P.total)||0,h=d.status==="error"&&Hp(d.error),g=c.useMemo(()=>{var x;return n?r?d.status==="loading"&&!d.data?s.jsx(Qe,{}):h?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):d.status==="error"?((x=d.error)==null?void 0:x.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:d.error}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Timesheets"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",p]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:d.refresh,disabled:d.status==="loading",children:d.status==="loading"?"Refreshing":"Refresh"})]}),s.jsxs("div",{className:"p-4",children:[u.length===0?s.jsx(Oe,{title:"No timesheets",description:"No weekly timesheets found."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"week",header:"Week",render:m=>s.jsxs("span",{className:"font-mono text-sm",children:[m.periodStart,"  ",m.periodEnd]})},{key:"status",header:"Status",render:m=>s.jsx($c,{status:m.status})},{key:"action",header:"Action",render:m=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/timesheet/${m.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:u.map(m=>({key:m.id,data:m}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:u.map(m=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[m.periodStart,"  ",m.periodEnd]})]}),s.jsx($c,{status:m.status})]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/timesheet/${m.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},m.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(m=>Math.max(1,m-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=p,onClick:()=>i(m=>m+1),children:"Next"})]})})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[n,h,u,d,a,o,r,p]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"My Timesheet"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:g})})]})}function Yp(...e){return e.filter(Boolean).join(" ")}function Qp(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function si(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim();return`${t} ${n}`.trim()||""}function qp(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function Vc({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Yp("inline-flex rounded-full px-2 py-1 text-xs font-semibold",qp(t)),children:t}):null}function Kp(){var j,P,x,m;const{bootstrap:e}=qe(),n=(((j=e==null?void 0:e.rbac)==null?void 0:j.permissions)||[]).includes("TIMESHEET_APPROVAL_QUEUE_READ"),l=(e==null?void 0:e.systemConfig)||{},r=Qp(((P=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:P.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),[d,u]=c.useState(""),p=Ce({path:"/api/v1/timesheets/approvals",page:a,pageSize:o,enabled:n&&r}),h=((x=p.data)==null?void 0:x.items)||[],g=((m=p.data)==null?void 0:m.total)||0,b=c.useMemo(()=>{const f=String(d||"").trim().toLowerCase();return f?h.filter(v=>`${v.employeeCode||""} ${si(v)} ${v.periodStart||""} ${v.periodEnd||""}`.toLowerCase().includes(f)):h},[h,d]),y=c.useMemo(()=>{var f;return n?r?p.status==="loading"&&!p.data?s.jsx(Qe,{}):p.status==="error"?((f=p.error)==null?void 0:f.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:p.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:d,onChange:v=>{u(v.target.value),i(1)},placeholder:"Employee code or name"})]}),s.jsx("div",{className:"md:col-span-1 flex items-end justify-end",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:p.refresh,disabled:p.status==="loading",children:p.status==="loading"?"Refreshing":"Refresh"})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Queue"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",g]})]}),s.jsxs("div",{className:"p-4",children:[b.length===0?s.jsx(Oe,{title:"No approvals",description:"No timesheets pending approval."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"employee",header:"Employee",render:v=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:si(v)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:v.employeeCode||""})]})},{key:"week",header:"Week",render:v=>s.jsxs("span",{className:"font-mono text-sm",children:[v.periodStart,"  ",v.periodEnd]})},{key:"status",header:"Status",render:v=>s.jsx(Vc,{status:v.status})},{key:"action",header:"Action",render:v=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/timesheet/${v.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:b.map(v=>({key:v.id,data:v}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:b.map(v=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:si(v)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:v.employeeCode||""})]}),s.jsx(Vc,{status:v.status})]}),s.jsx("div",{className:"mt-3 text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[v.periodStart,"  ",v.periodEnd]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/timesheet/${v.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},v.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(v=>Math.max(1,v-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=g,onClick:()=>i(v=>v+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[n,b,p,a,o,d,r,g]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Timesheet Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:y})})]})}function jx(...e){return e.filter(Boolean).join(" ")}function Gp(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Jp(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function Xp({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:jx("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Jp(t)),children:t}):null}function Zp(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function sn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function ev(e,t){const n=({id:l,label:r})=>{const a=e===l;return s.jsx("button",{type:"button",className:jx("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",a?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>t(l),children:r})};return s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(n,{id:"worklogs",label:"Worklogs"}),s.jsx(n,{id:"timeline",label:"Approval Timeline"}),s.jsx(n,{id:"audit",label:"Audit Trail"})]})}function tv(){var be,ge,ke,Te,_e,ze;const{id:e}=ed(),t=On(),{bootstrap:n}=qe(),l=((be=n==null?void 0:n.rbac)==null?void 0:be.permissions)||[],r=l.includes("TIMESHEET_READ"),a=l.includes("TIMESHEET_SUBMIT"),i=l.includes("TIMESHEET_APPROVE_L1"),o=l.includes("TIMESHEET_APPROVE_L2"),d=l.includes("TIMESHEET_WORKLOG_WRITE"),u=l.includes("GOV_MONTH_CLOSE_READ"),p=l.includes("GOV_AUDIT_READ"),h=(n==null?void 0:n.systemConfig)||{},g=((ge=n==null?void 0:n.features)==null?void 0:ge.flags)||{},b=Gp(((ke=h==null?void 0:h.TIMESHEET_ENABLED)==null?void 0:ke.value)??(h==null?void 0:h.TIMESHEET_ENABLED)),y=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[j,P]=c.useState("worklogs"),[x,m]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),f=()=>m(B=>({...B,refreshIndex:B.refreshIndex+1}));c.useEffect(()=>{P("worklogs")},[e]),c.useEffect(()=>{if(!r||!b||!e)return;let B=!0;async function G(){m(le=>({...le,status:"loading",error:null}));try{const le=await oe(`/api/v1/timesheets/${e}`);if(!B)return;m(me=>({...me,status:"ready",data:le,error:null}))}catch(le){if(!B)return;m(me=>({...me,status:"error",error:le}))}}return G(),()=>{B=!1}},[r,e,x.refreshIndex,b]);const v=((Te=x.data)==null?void 0:Te.header)||null,N=((_e=x.data)==null?void 0:_e.worklogs)||[],L=v!=null&&v.periodEnd?Zp(v.periodEnd):null,U=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:y&&u&&!!L}),_=c.useMemo(()=>{var G;const B=new Set;for(const le of((G=U.data)==null?void 0:G.items)||[]){const me=(le==null?void 0:le.monthEnd)||(le==null?void 0:le.monthStart)||(le==null?void 0:le.month);me&&String((le==null?void 0:le.status)||"").toUpperCase()==="CLOSED"&&B.add(String(me).slice(0,10))}return B},[U.data]),O=!!(L&&_.has(L)),M=Ce({path:v!=null&&v.id?(()=>{const B=new URL("/api/v1/governance/audit","http://local");return B.searchParams.set("entityType","TIMESHEET"),B.searchParams.set("entityId",v.id),B.pathname+B.search})():"/api/v1/governance/audit",page:1,pageSize:50,enabled:j==="audit"&&p&&!!(v!=null&&v.id)}),k=Se(async B=>oe("/api/v1/timesheets/worklog",{method:"POST",body:B})),Q=Se(async()=>oe(`/api/v1/timesheets/${e}/submit`,{method:"POST",body:{}})),q=Se(async()=>oe(`/api/v1/timesheets/${e}/approve`,{method:"POST",body:{}})),E=Se(async({reason:B})=>oe(`/api/v1/timesheets/${e}/reject`,{method:"POST",body:{reason:B}})),I=Se(async({reason:B})=>oe(`/api/v1/timesheets/${e}/request-revision`,{method:"POST",body:{reason:B}})),[H,re]=c.useState(""),[D,A]=c.useState(""),[S,T]=c.useState(""),[$,ee]=c.useState(""),[de,ne]=c.useState(""),F=c.useMemo(()=>{const B=new Map;for(const le of N){const me=String(le.workDate||"").slice(0,10);me&&(B.has(me)||B.set(me,[]),B.get(me).push(le))}return Array.from(B.entries()).sort((le,me)=>le[0]<me[0]?1:-1).map(([le,me])=>{const ce=me.slice().sort((C,z)=>String(C.updatedAt||"")<String(z.updatedAt||"")?1:-1),Fe=ce.reduce((C,z)=>C+(Number(z.hours)||0),0);return{date:le,items:ce,totalHours:Fe}})},[N]),X=!!(v&&String(v.employeeId)===String((ze=n==null?void 0:n.user)==null?void 0:ze.id)&&d&&!O&&String(v.status||"").toUpperCase()!=="SUBMITTED"&&String(v.status||"").toUpperCase()!=="APPROVED"),se=!!((i||o)&&v&&String(v.status||"").toUpperCase()==="SUBMITTED"&&!O),pe=!!(a&&v&&String(v.status||"").toUpperCase()==="DRAFT"&&!O),Le=l.includes("TIMESHEET_APPROVAL_QUEUE_READ")?"/timesheet/approvals":"/timesheet/my",Be=c.useMemo(()=>{var B,G,le,me;return r?b?x.status==="loading"&&!x.data?s.jsx(Qe,{}):x.status==="error"?((B=x.error)==null?void 0:B.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:x.error}):v?s.jsxs("div",{className:"space-y-4",children:[O?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This timesheet falls within a closed payroll month and is read-only."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-800",children:[v.periodStart,"  ",v.periodEnd]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Timesheet ID: ",s.jsxs("span",{className:"font-mono",children:[String(v.id).slice(0,12),""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xp,{status:v.status}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:f,disabled:x.status==="loading",children:x.status==="loading"?"Refreshing":"Refresh"})]})]}),s.jsx("div",{className:"mt-4",children:ev(j,P)})]}),j==="worklogs"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Worklogs"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[N.length," entries"]})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[X?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Add Worklog"}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:H,onChange:ce=>re(ce.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Task"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:D,onChange:ce=>A(ce.target.value),placeholder:"e.g., Client support"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Hours"}),s.jsx("input",{type:"number",step:"0.25",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:S,onChange:ce=>T(ce.target.value),placeholder:"8"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Description (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:$,onChange:ce=>ee(ce.target.value),placeholder:"Short note"})]})]}),s.jsx("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:k.status==="loading"||!H||!D.trim()||!S||!v,onClick:async()=>{const ce=Number(S);await k.run({employeeId:v.employeeId,workDate:H,task:D.trim(),hours:ce,description:$.trim()||null,projectId:null}),A(""),T(""),ee(""),f()},children:k.status==="loading"?"Saving":"Add"})}),k.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:k.error})}):null]}):null,F.length===0?s.jsx(Oe,{title:"No worklogs",description:"This timesheet has no worklogs."}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Task"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Hours"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:F.map(ce=>s.jsxs(Xr.Fragment,{children:[ce.items.map((Fe,C)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-slate-800",children:C===0?ce.date:""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800",children:Fe.task||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 text-right",children:Fe.hours??""})]},`${ce.date}-${Fe.id}`)),s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-xs text-slate-500"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-600",children:"Total"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-800 text-right",children:ce.totalHours})]})]},ce.date))})]})}),pe?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submit"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Submit this timesheet for approval."}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Q.status==="loading",onClick:async()=>{await Q.run(),f()},children:Q.status==="loading"?"Submitting":"Submit"})}),Q.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:Q.error})}):null]}):null,se?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Actions"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Approve, reject, or request revision."}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required for reject / revision)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:de,onChange:ce=>ne(ce.target.value),placeholder:"Explain your decision"})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:I.status==="loading"||!de.trim(),onClick:async()=>{await I.run({reason:de.trim()}),ne(""),f()},children:I.status==="loading"?"Sending":"Request Revision"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-medium text-rose-800 hover:bg-rose-100 disabled:bg-rose-50",disabled:E.status==="loading"||!de.trim(),onClick:async()=>{await E.run({reason:de.trim()}),ne(""),f()},children:E.status==="loading"?"Rejecting":"Reject"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:q.status==="loading",onClick:async()=>{await q.run(),f()},children:q.status==="loading"?"Approving":"Approve"})]}),q.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:q.error})}):null,E.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:E.error})}):null,I.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:I.error})}):null]}):null]})]}):null,j==="timeline"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-slate-800",children:sn(v.submittedAt)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L1"}),s.jsx("div",{className:"mt-1 text-slate-800",children:sn(v.approvedL1At)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L2"}),s.jsx("div",{className:"mt-1 text-slate-800",children:sn(v.approvedL2At)})]})]}),v.rejectedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejected"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800",children:sn(v.rejectedAt)}),v.rejectedReason?s.jsxs("div",{className:"mt-1 text-sm text-rose-800",children:["Reason: ",v.rejectedReason]}):null]}):null,v.revisionRequestedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Revision Requested"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:sn(v.revisionRequestedAt)}),v.revisionRequestedReason?s.jsxs("div",{className:"mt-1 text-sm text-amber-800",children:["Reason: ",v.revisionRequestedReason]}):null]}):null]}):null,j==="audit"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Audit Trail"}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:M.refresh,disabled:M.status==="loading",children:"Refresh"})]}),s.jsx("div",{className:"p-4",children:M.status==="loading"&&!M.data?s.jsx(Qe,{label:"Loading audit logs"}):M.status==="error"?((G=M.error)==null?void 0:G.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:M.error}):(((le=M.data)==null?void 0:le.items)||[]).length===0?s.jsx(Oe,{title:"No audit logs"}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"At"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Action"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Reason"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:(((me=M.data)==null?void 0:me.items)||[]).map(ce=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:sn(ce.createdAt)}),s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900",children:ce.action||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 font-mono",children:ce.actorId||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:ce.reason||""})]},ce.id))})]})})})]}):null]}):s.jsx(Oe,{title:"Timesheet not found"}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[M,X,r,se,pe,de,F,v,O,f,x,Q,j,b,k,N.length,H,$,S,D,q,E,I]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-4",children:s.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"text-xs text-slate-500",children:[s.jsx(xt,{to:Le,className:"hover:text-slate-700 hover:underline",children:"Timesheet"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-slate-600",children:"Detail"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50",onClick:()=>{window.history.length>1?t(-1):t(Le)},children:"Back"})]})}),s.jsx(xe,{title:"Timesheet Detail"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:Be})})]})}function sv(...e){return e.filter(Boolean).join(" ")}function nv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function lv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function rv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Hc({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:sv("inline-flex rounded-full px-2 py-1 text-xs font-semibold",rv(t)),children:t}):null}function Gn(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function Wc(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)!==403?!1:t.includes("employee")||t.includes("division")}function av(){var f,v,N,L,U,_;const{bootstrap:e}=qe(),t=((f=e==null?void 0:e.rbac)==null?void 0:f.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_BALANCE_READ"),r=t.includes("LEAVE_REQUEST_CREATE"),a=(e==null?void 0:e.systemConfig)||{},i=nv(((v=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:v.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=((N=e==null?void 0:e.user)==null?void 0:N.id)||null,d=c.useMemo(()=>{var M;const O=lv(((M=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:M.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return O>=2e3&&O<=2100?O:new Date().getFullYear()},[a]),[u,p]=c.useState(1),[h]=c.useState(20),g=Ce({path:o?`/api/v1/leave/balances?employeeId=${encodeURIComponent(o)}&year=${encodeURIComponent(d)}`:"/api/v1/leave/balances",page:1,pageSize:200,enabled:!!o&&i&&l}),b=Ce({path:o?`/api/v1/leave/requests?employeeId=${encodeURIComponent(o)}`:"/api/v1/leave/requests",page:u,pageSize:h,enabled:!!o&&i&&n}),y=((L=g.data)==null?void 0:L.items)||[],j=((U=b.data)==null?void 0:U.items)||[],P=((_=b.data)==null?void 0:_.total)||0,x=g.status==="error"&&Wc(g.error)||b.status==="error"&&Wc(b.error),m=c.useMemo(()=>{var O,M;return n?i?x?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):b.status==="loading"&&!b.data||g.status==="loading"&&!g.data?s.jsx(Qe,{}):b.status==="error"?((O=b.error)==null?void 0:O.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:b.error}):g.status==="error"?((M=g.error)==null?void 0:M.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:g.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Year: ",d]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>{g.refresh(),b.refresh()},disabled:g.status==="loading"||b.status==="loading",children:"Refresh"}),r?s.jsx(xt,{to:"/leave/apply",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"Apply Leave"}):null]})]}),s.jsx("div",{className:"p-4",children:y.length===0?s.jsx(Oe,{title:"No leave balances",description:"No leave balances are configured for this year."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:y.map(k=>{const Q=Number(k.openingBalance||0)+Number(k.grantedBalance||0);return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:k.leaveTypeName||k.leaveTypeCode||"Leave"}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:Gn(k.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:Gn(k.consumedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Entitled"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:Gn(Q)})]})]}),s.jsx("div",{className:"mt-2 text-xs text-slate-500",children:k.leaveTypeIsPaid?"Paid leave":"Unpaid leave"})]},k.id)})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request History"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",P]})]}),s.jsx("div",{className:"p-4",children:j.length===0?s.jsx(Oe,{title:"No leave requests",description:"You have not submitted any leave requests yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"type",header:"Leave Type",render:k=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:k.leaveTypeName||k.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:k.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:k=>s.jsxs("span",{className:"font-mono text-sm",children:[k.startDate,"  ",k.endDate]})},{key:"units",header:"Units",render:k=>s.jsxs("span",{className:"text-sm text-slate-700",children:[Gn(k.units)," (",String(k.unit||"").toUpperCase(),")"]})},{key:"status",header:"Status",render:k=>s.jsx(Hc,{status:k.status})},{key:"action",header:"Action",render:k=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/leave/requests/${k.id}`,state:{employeeId:o,item:k},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:j.map(k=>({key:k.id,data:k}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:j.map(k=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:k.leaveTypeName||k.leaveTypeCode||""}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:k.leaveTypeIsPaid?"Paid":"Unpaid"})]}),s.jsx(Hc,{status:k.status})]}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"font-mono text-slate-700",children:[k.startDate,"  ",k.endDate]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Units"}),s.jsxs("div",{className:"text-slate-700",children:[Gn(k.units)," (",String(k.unit||"").toUpperCase(),")"]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/leave/requests/${k.id}`,state:{employeeId:o,item:k},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View Request"})})]},k.id))})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:u<=1,onClick:()=>p(k=>Math.max(1,k-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",u]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:u*h>=P,onClick:()=>p(k=>k+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[y,g,r,n,o,x,b,i,u,h,j,P,d]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"My Leave"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:m})})]})}function iv(...e){return e.filter(Boolean).join(" ")}function dr(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function ov(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function dv(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${l}`}function cv(e,t){const n=new Date(`${e}T00:00:00.000Z`);return n.setUTCDate(n.getUTCDate()+t),n.toISOString().slice(0,10)}function uv(e,t){if(!e||!t)return 0;const n=new Date(`${String(e).slice(0,10)}T00:00:00.000Z`),l=new Date(`${String(t).slice(0,10)}T00:00:00.000Z`);return Number.isNaN(n.getTime())||Number.isNaN(l.getTime())||n.getTime()>l.getTime()?0:Math.floor((l.getTime()-n.getTime())/(24*60*60*1e3))+1}function mv(){var G,le,me,ce,Fe,C,z,W,J;const e=On(),{bootstrap:t}=qe(),n=((G=t==null?void 0:t.rbac)==null?void 0:G.permissions)||[],l=n.includes("LEAVE_REQUEST_CREATE"),r=n.includes("LEAVE_TYPE_READ"),a=n.includes("LEAVE_ATTACHMENT_UPLOAD"),i=n.includes("LEAVE_BALANCE_READ"),o=(t==null?void 0:t.systemConfig)||{},d=dr(((le=o==null?void 0:o.LEAVE_ENABLED)==null?void 0:le.value)??(o==null?void 0:o.LEAVE_ENABLED)),u=dr(((me=o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)==null?void 0:me.value)??(o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)),p=dr(((ce=o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)==null?void 0:ce.value)??(o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)),h=ov(((Fe=o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS)==null?void 0:Fe.value)??(o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS),0),g=dr(((C=o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:C.value)??(o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)),b=((z=t==null?void 0:t.user)==null?void 0:z.id)||null,y=c.useMemo(()=>dv(),[]),j=c.useMemo(()=>{if(!p)return y;const te=Number.isFinite(h)?h:0;return te>0?cv(y,-1*te):""},[p,h,y]),P=Ce({path:"/api/v1/leave/types",page:1,pageSize:200,enabled:d&&r}),x=((W=P.data)==null?void 0:W.items)||[],f=((J=Ce({path:`/api/v1/leave/balances?employeeId=${encodeURIComponent(b||"")}`,page:1,pageSize:200,enabled:d&&i&&!!b}).data)==null?void 0:J.items)||[],[v,N]=c.useState(""),[L,U]=c.useState(""),[_,O]=c.useState(""),[M,k]=c.useState("FULL_DAY"),[Q,q]=c.useState("AM"),[E,I]=c.useState(""),[H,re]=c.useState(""),[D,A]=c.useState(""),[S,T]=c.useState(""),[$,ee]=c.useState(""),[de,ne]=c.useState(""),[F,X]=c.useState(null),se=c.useMemo(()=>x.find(te=>String(te.id)===String(v))||null,[v,x]),pe=!!(u&&(se==null?void 0:se.supportsHalfDay)!==!1),Le=f.length>0,Be=se==null?void 0:se.isPaid;Be&&f.some(te=>String(te.leaveTypeId)===String(se==null?void 0:se.id));const be=Be&&!Le,ge=c.useMemo(()=>M==="HALF_DAY"?.5:uv(L,_),[_,L,M]),ke=Se(async te=>oe("/api/v1/leave/requests",{method:"POST",body:te})),Te=c.useMemo(()=>{if(ke.status!=="error")return null;const te=ke.error;if(!te)return null;const Ee=te==null?void 0:te.status,ue=(te==null?void 0:te.requestId)||"";return Ee>=500?{title:"Unable to submit leave request",message:`Your leave request could not be submitted at this time.
Please try again or contact HR/Admin if the problem persists.`,requestId:ue}:null},[ke.status,ke.error]),_e=Se(async({id:te,payload:Ee})=>oe(`/api/v1/leave/requests/${te}/attachments`,{method:"POST",body:Ee})),ze=!!(g&&a&&H.trim()&&D.trim()&&S.trim()&&$.trim()),B=c.useMemo(()=>{var Ee;if(!l)return s.jsx(ve,{});if(!d)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(!b)return s.jsx(Oe,{title:"Missing user context",description:"No user id found in bootstrap."});if(!r)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave Types not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_TYPE_READ permission to apply for leave."})]});if(P.status==="loading"&&!P.data)return s.jsx(Qe,{});if(P.status==="error")return((Ee=P.error)==null?void 0:Ee.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:P.error});if(x.length===0)return s.jsx(Oe,{title:"No leave types",description:"No active leave types are configured."});const te=ke.status==="loading"||_e.status==="loading";return s.jsxs("div",{className:"space-y-4",children:[be?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Leave balance is not configured for you"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"Please contact HR/Admin to set up your leave balance before submitting paid leave requests."})]}):null,F?s.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-emerald-900",children:"Leave request submitted"}),s.jsxs("div",{className:"mt-1 text-sm text-emerald-800",children:["Request ID: ",s.jsx("span",{className:"font-mono",children:F.id})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-2",children:[s.jsx(xt,{to:`/leave/requests/${F.id}`,state:{employeeId:b,item:F},className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"View request"}),s.jsx(xt,{to:"/leave/my",className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Back to My Leave"})]})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Apply Leave"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Submit a leave request for approval."})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>e(-1),disabled:te,children:"Back"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:v,onChange:ue=>N(ue.target.value),disabled:te,children:[s.jsx("option",{value:"",children:"Select"}),x.map(ue=>s.jsxs("option",{value:ue.id,children:[ue.code,"  ",ue.name,ue.isPaid?" (Paid)":""]},ue.id))]}),se&&se.isActive===!1?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:"Selected type is inactive."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Unit"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:M,onChange:ue=>{const De=ue.target.value;k(De),De==="HALF_DAY"&&L&&_&&L!==_&&O(L)},disabled:te,children:[s.jsx("option",{value:"FULL_DAY",children:"Full day"}),s.jsx("option",{value:"HALF_DAY",disabled:!pe,children:"Half day"})]}),pe?null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day is disabled by config or leave type settings."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Start Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:L,min:j||void 0,onChange:ue=>{const De=ue.target.value;U(De),(!_||_<De)&&O(De),M==="HALF_DAY"&&O(De)},disabled:te}),p?h>0?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Backdate limit: ",h," day(s)."]}):null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Backdated requests are disabled."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"End Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:_,min:L||j||void 0,onChange:ue=>{const De=ue.target.value;O(De),M==="HALF_DAY"&&U(De)},disabled:te||M==="HALF_DAY"}),M==="HALF_DAY"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day requests are single-day only."}):null]}),M==="HALF_DAY"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Half-day Part"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Q,onChange:ue=>q(ue.target.value),disabled:te,children:[s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"PM",children:"PM"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:E,onChange:ue=>I(ue.target.value),disabled:te,placeholder:"Provide a clear reason for this leave request"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Summary"}),s.jsxs("div",{className:"mt-1 text-sm text-slate-700",children:[s.jsxs("span",{className:"font-mono",children:[L||"","  ",_||""]}),s.jsx("span",{className:"mx-2",children:"|"}),"Units: ",s.jsx("span",{className:"font-semibold",children:M==="HALF_DAY"?"0.5":String(ge||0)})]}),se!=null&&se.isPaid?s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Paid leave: sufficient balance will be validated by the backend."}):s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Unpaid leave: balance checks may not apply."})]})}),g?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Attachment (optional)"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Provide a signed URL as storageKey. File upload is metadata-only."}),a?s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:H,onChange:ue=>re(ue.target.value),disabled:te,placeholder:"medical_certificate.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:S,onChange:ue=>T(ue.target.value),disabled:te,placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:D,onChange:ue=>A(ue.target.value),disabled:te,placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:$,onChange:ue=>ee(ue.target.value),disabled:te,placeholder:"12345"})]})]}):s.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"You do not have LEAVE_ATTACHMENT_UPLOAD permission."})]})}):null,de?s.jsx("div",{className:"md:col-span-2",children:s.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:de})}):null,Te?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:Te.title}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-line",children:Te.message}),Te.requestId?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Reference ID: ",Te.requestId]}):null]})}):null,ke.status==="error"&&!Te?s.jsx("div",{className:"md:col-span-2",children:s.jsx(ie,{error:ke.error})}):null,_e.status==="error"?s.jsx("div",{className:"md:col-span-2",children:s.jsx(ie,{error:_e.error})}):null,s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx(xt,{to:"/leave/my",className:iv("inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",te?"pointer-events-none opacity-70":""),children:"Cancel"}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400 min-h-[44px] w-full sm:w-auto",disabled:te||!v||!L||!_||E.trim().length===0||M==="HALF_DAY"&&(!Q||L!==_)||be&&Be,onClick:async()=>{ne(""),X(null);const ue=E.trim();if(!ue){ne("Reason is required");return}if(M==="HALF_DAY"&&L!==_){ne("Half-day leave must be for a single date");return}try{const De={employeeId:b,leaveTypeId:v,startDate:L,endDate:_,unit:M,halfDayPart:M==="HALF_DAY"?Q:null,reason:ue},at=await ke.run(De),st=(at==null?void 0:at.item)||null;st&&X(st),st&&ze&&await _e.run({id:st.id,payload:{fileName:H.trim(),storageKey:D.trim(),mimeType:S.trim(),sizeBytes:Number($)}}),st&&e(`/leave/requests/${st.id}`,{state:{employeeId:b,item:st}})}catch{}},children:ke.status==="loading"?"Submitting":"Submit Request"})]})]})]})]})},[p,u,H,S,$,D,g,h,ze,l,i,r,a,de,ke,F,be,b,_,Te,Q,Le,d,v,j,e,E,Be,se,L,x,P,M,ge,_e]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Apply Leave"}),s.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:B})})]})}function bx(...e){return e.filter(Boolean).join(" ")}function Yc(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function xv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function hv({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:bx("inline-flex rounded-full px-2 py-1 text-xs font-semibold",xv(t)),children:t}):null}function nn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function fv(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function pv(){var B,G,le,me,ce,Fe,C;const{id:e}=ed(),t=On(),n=_s(),{bootstrap:l}=qe(),r=((B=l==null?void 0:l.rbac)==null?void 0:B.permissions)||[],a=r.includes("LEAVE_REQUEST_READ"),i=r.includes("LEAVE_REQUEST_CANCEL"),o=r.includes("LEAVE_APPROVE_L1"),d=r.includes("LEAVE_APPROVE_L2"),u=r.includes("LEAVE_ATTACHMENT_READ"),p=r.includes("LEAVE_ATTACHMENT_UPLOAD"),h=(l==null?void 0:l.systemConfig)||{},g=((G=l==null?void 0:l.features)==null?void 0:G.flags)||{},b=Yc(((le=h==null?void 0:h.LEAVE_ENABLED)==null?void 0:le.value)??(h==null?void 0:h.LEAVE_ENABLED)),y=Yc(((me=h==null?void 0:h.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:me.value)??(h==null?void 0:h.LEAVE_ATTACHMENTS_ENABLED)),j=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[P,x]=c.useState("details"),m=((ce=n.state)==null?void 0:ce.item)||null,f=((Fe=n.state)==null?void 0:Fe.employeeId)||null,v=Ce({path:f?`/api/v1/leave/requests?employeeId=${encodeURIComponent(f)}`:"/api/v1/leave/requests",page:1,pageSize:200,enabled:b&&a&&!!e&&!m}),N=c.useMemo(()=>{var W;return m&&String(m.id)===String(e)?m:(((W=v.data)==null?void 0:W.items)||[]).find(J=>String(J.id)===String(e))||null},[e,v.data,m]),L=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:j&&!!(N!=null&&N.startDate||N!=null&&N.endDate)}),U=c.useMemo(()=>{var W;const z=new Set;for(const J of((W=L.data)==null?void 0:W.items)||[]){const te=(J==null?void 0:J.monthEnd)||(J==null?void 0:J.monthStart)||(J==null?void 0:J.month);te&&String((J==null?void 0:J.status)||"").toUpperCase()==="CLOSED"&&z.add(String(te).slice(0,10))}return z},[L.data]),_=c.useMemo(()=>{if(!(N!=null&&N.startDate)||!(N!=null&&N.endDate))return!1;const z=new Date(`${N.startDate}T00:00:00.000Z`),W=new Date(`${N.endDate}T00:00:00.000Z`);if(Number.isNaN(z.getTime())||Number.isNaN(W.getTime()))return!1;const J=new Date(z.getTime());for(;J.getTime()<=W.getTime();){const te=new Date(Date.UTC(J.getUTCFullYear(),J.getUTCMonth()+1,0)).toISOString().slice(0,10);if(U.has(te))return!0;J.setUTCMonth(J.getUTCMonth()+1),J.setUTCDate(1)}return!1},[U,N==null?void 0:N.endDate,N==null?void 0:N.startDate]),O=Ce({path:e?`/api/v1/leave/requests/${e}/attachments`:"/api/v1/leave/requests/x/attachments",page:1,pageSize:200,enabled:y&&u&&P==="attachments"&&!!e}),M=Se(async({reason:z})=>oe(`/api/v1/leave/requests/${e}/cancel`,{method:"POST",body:{reason:z}})),k=Se(async({reason:z})=>oe(`/api/v1/leave/requests/${e}/approve`,{method:"POST",body:{reason:z||null}})),Q=Se(async({reason:z})=>oe(`/api/v1/leave/requests/${e}/reject`,{method:"POST",body:{reason:z}})),q=Se(async({payload:z})=>oe(`/api/v1/leave/requests/${e}/attachments`,{method:"POST",body:z})),E=Se(async({attId:z})=>oe(`/api/v1/leave/requests/${e}/attachments/${z}/download`)),[I,H]=c.useState(null),[re,D]=c.useState(""),[A,S]=c.useState(!1),[T,$]=c.useState(""),[ee,de]=c.useState(""),[ne,F]=c.useState(""),[X,se]=c.useState(""),pe=String((N==null?void 0:N.status)||"").toUpperCase(),Le=!!(N&&String(N.employeeId)===String((C=l==null?void 0:l.user)==null?void 0:C.id)),Be=!!((Le||i)&&pe&&pe!=="CANCELLED"&&pe!=="REJECTED"),be=!!((o||d)&&pe==="SUBMITTED"),ge=v.status==="loading"&&!v.data&&!m,ke=c.useMemo(()=>{var W,J,te;if(!a)return s.jsx(ve,{});if(!b)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(ge)return s.jsx(Qe,{});if(v.status==="error")return((W=v.error)==null?void 0:W.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:v.error});if(!N)return s.jsx(Oe,{title:"Leave request not found",description:"This request may not be accessible in your scope."});const z=({id:Ee,label:ue})=>{const De=P===Ee;return s.jsx("button",{type:"button",className:bx("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",De?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>x(Ee),children:ue})};return s.jsxs("div",{className:"space-y-4",children:[_?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This request falls within a closed payroll month. Actions may require override permission and a reason."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500 font-mono",children:N.id})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>t(-1),children:"Back"}),s.jsx(xt,{to:Le?"/leave/my":"/leave/approvals",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Go to list"}),Be?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",disabled:M.status==="loading",onClick:()=>{D(""),H("cancel")},children:"Cancel"}):null,be?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:k.status==="loading",onClick:()=>{D(""),H("approve")},children:"Approve"}):null,be?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:Q.status==="loading",onClick:()=>{D(""),H("reject")},children:"Reject"}):null]})]}),s.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-2",children:[s.jsx(hv,{status:N.status}),s.jsxs("div",{className:"text-xs text-slate-500",children:[N.leaveTypeCode,"  ",N.leaveTypeName]})]}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(z,{id:"details",label:"Details"}),s.jsx(z,{id:"attachments",label:"Attachments"})]})}),P==="details"?s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[N.startDate,"  ",N.endDate]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Unit: ",String(N.unit||"").toUpperCase(),N.unit==="HALF_DAY"?` (${N.halfDayPart})`:""]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Units: ",fv(N.units)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900 whitespace-pre-wrap",children:N.reason||""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:nn(N.createdAt)}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Updated: ",nn(N.updatedAt)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L1"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.approvedL1At?nn(N.approvedL1At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L2"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.approvedL2At?nn(N.approvedL2At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Rejected"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.rejectedAt?nn(N.rejectedAt):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Cancelled"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.cancelledAt?nn(N.cancelledAt):""})]})]})]}),N.rejectionReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejection Reason"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-wrap",children:N.rejectionReason})]}):null,N.cancelReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Cancel Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:N.cancelReason})]}):null]})}):null,P==="attachments"?s.jsx("div",{className:"p-4 pt-0",children:y?u?O.status==="loading"&&!O.data?s.jsx(Qe,{}):O.status==="error"?s.jsx(ie,{error:O.error}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:O.refresh,disabled:O.status==="loading",children:"Refresh"}),p?s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{$(""),de(""),F(""),se(""),S(!0)},disabled:q.status==="loading",children:"Upload Metadata"}):null]}),(((J=O.data)==null?void 0:J.items)||[]).length===0?s.jsx(Oe,{title:"No attachments",description:"No attachments uploaded for this request."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"file",header:"File",render:Ee=>s.jsx("div",{className:"text-sm font-medium text-slate-900",children:Ee.fileName})},{key:"mime",header:"MIME",render:Ee=>s.jsx("div",{className:"text-sm font-mono text-slate-700",children:Ee.mimeType||""})},{key:"size",header:"Size",render:Ee=>s.jsx("div",{className:"text-sm text-slate-700",children:typeof Ee.sizeBytes=="number"?`${Ee.sizeBytes} bytes`:""})},{key:"action",header:"Action",render:Ee=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:E.status==="loading",onClick:async()=>{var ue;try{const De=await E.run({attId:Ee.id}),at=(ue=De==null?void 0:De.item)==null?void 0:ue.storageKey;at&&(String(at).startsWith("http://")||String(at).startsWith("https://"))&&window.open(at,"_blank","noopener,noreferrer")}catch{}},children:"Download"})})}],rows:(((te=O.data)==null?void 0:te.items)||[]).map(Ee=>({key:Ee.id,data:Ee}))})}),E.status==="error"?s.jsx(ie,{error:E.error}):null,q.status==="error"?s.jsx(ie,{error:q.error}):null]}):s.jsx(ve,{}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Attachments are disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ATTACHMENTS_ENABLED must be enabled in system config."})]})}):null]})]})},[O,y,k.status,be,Be,a,u,p,M.status,E,e,_,Le,N,b,v,t,Q.status,P,ge,q]),Te=I==="cancel"?"Cancel Leave Request":I==="reject"?"Reject Leave Request":I==="approve"?"Approve Leave Request":"",_e=I==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required.",ze=I==="cancel"||I==="reject";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Leave Request"}),s.jsx("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:ke})}),I?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{M.status==="loading"||Q.status==="loading"||k.status==="loading"||H(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:Te}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:_e}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:re,onChange:z=>D(z.target.value),placeholder:I==="approve"?"Optional":"Required"})]}),M.status==="error"||Q.status==="error"||k.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:M.error||Q.error||k.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:M.status==="loading"||Q.status==="loading"||k.status==="loading",onClick:()=>H(null),children:"Close"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:M.status==="loading"||Q.status==="loading"||k.status==="loading"||ze&&re.trim().length===0,onClick:async()=>{const z=re.trim();try{I==="cancel"?await M.run({reason:z}):I==="reject"?await Q.run({reason:z}):I==="approve"&&await k.run({reason:z||null}),H(null),t(-1)}catch{}},children:"Confirm"})]})]})]}):null,A?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{q.status!=="loading"&&S(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Attachment (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:T,onChange:z=>$(z.target.value),placeholder:"document.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:ne,onChange:z=>F(z.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:ee,onChange:z=>de(z.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:X,onChange:z=>se(z.target.value),placeholder:"12345"})]})]}),q.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:q.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:q.status==="loading",onClick:()=>S(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:q.status==="loading"||T.trim().length===0||ee.trim().length===0||ne.trim().length===0||X.trim().length===0,onClick:async()=>{try{await q.run({payload:{fileName:T.trim(),storageKey:ee.trim(),mimeType:ne.trim(),sizeBytes:Number(X)}}),S(!1),O.refresh()}catch{}},children:q.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function wr(...e){return e.filter(Boolean).join(" ")}function vv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function gv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Qc({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:wr("inline-flex rounded-full px-2 py-1 text-xs font-semibold",gv(t)),children:t}):null}function cr(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function jv(){var H,re,D,A;const{bootstrap:e}=qe(),t=((H=e==null?void 0:e.rbac)==null?void 0:H.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_APPROVE_L1"),r=t.includes("LEAVE_APPROVE_L2"),a=t.includes("GOV_MONTH_CLOSE_READ"),i=(e==null?void 0:e.systemConfig)||{},o=((re=e==null?void 0:e.features)==null?void 0:re.flags)||{},d=vv(((D=i==null?void 0:i.LEAVE_ENABLED)==null?void 0:D.value)??(i==null?void 0:i.LEAVE_ENABLED)),u=!!(o!=null&&o.MONTH_CLOSE_ENABLED),p=!!(l||r),[h,g]=c.useState(""),[b,y]=c.useState(""),[j,P]=c.useState(""),[x,m]=c.useState(1),[f]=c.useState(20);c.useMemo(()=>{const S=new URL("/api/v1/leave/requests","http://local");return S.searchParams.set("page",String(x)),S.searchParams.set("pageSize",String(f)),S.searchParams.set("status","SUBMITTED"),h.trim()&&S.searchParams.set("divisionId",h.trim()),S.pathname+S.search},[h,x,f]);const v=Ce({path:"/api/v1/leave/requests",page:x,pageSize:f,enabled:d&&n&&p}),N=c.useMemo(()=>{var $;const S=[...(($=v.data)==null?void 0:$.items)||[]],T="SUBMITTED";return T?S.filter(ee=>String(ee.status||"").toUpperCase()===T):S},[v.data]),L=((A=v.data)==null?void 0:A.total)||0,U=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:u&&a}),_=c.useMemo(()=>{var T;const S=new Set;for(const $ of((T=U.data)==null?void 0:T.items)||[]){const ee=($==null?void 0:$.monthEnd)||($==null?void 0:$.monthStart)||($==null?void 0:$.month);ee&&String(($==null?void 0:$.status)||"").toUpperCase()==="CLOSED"&&S.add(String(ee).slice(0,10))}return S},[U.data]),O=Se(async({id:S,reason:T})=>oe(`/api/v1/leave/requests/${S}/approve`,{method:"POST",body:{reason:T||null}})),M=Se(async({id:S,reason:T})=>oe(`/api/v1/leave/requests/${S}/reject`,{method:"POST",body:{reason:T}})),[k,Q]=c.useState(null),[q,E]=c.useState(""),I=c.useMemo(()=>{var S;return n?d?p?v.status==="loading"&&!v.data?s.jsx(Qe,{}):v.status==="error"?((S=v.error)==null?void 0:S.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:v.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Approvals"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",L]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:v.refresh,disabled:v.status==="loading"||O.status==="loading"||M.status==="loading",children:"Refresh"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division Id (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:b,onChange:T=>{const $=T.target.value;y($),$.trim()===""?(g(""),P(""),m(1)):/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($.trim())?(g($.trim()),P(""),m(1)):P("Please enter a valid UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)")},placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Filter the approval queue to a specific division."}),j?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:j}):null]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Month Close"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:u?a?"Closed months are marked if readable.":"You do not have GOV_MONTH_CLOSE_READ permission.":"Month-close feature is disabled."})]})]}),s.jsx("div",{className:"p-4",children:N.length===0?s.jsx(Oe,{title:"No pending requests",description:"No SUBMITTED leave requests found for your scope."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"employee",header:"Employee",render:T=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:T.employeeCode||String(T.employeeId).slice(0,8)+""}),s.jsxs("div",{className:"mt-0.5 text-xs text-slate-500",children:[T.firstName||""," ",T.lastName||""]})]})},{key:"type",header:"Leave Type",render:T=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:T.leaveTypeName||T.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:T.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:T=>{const $=String(T.startDate||"").slice(0,10),ee=String(T.endDate||"").slice(0,10),de=$?cr($):null,ne=ee?cr(ee):null,F=!!(de&&_.has(de))||!!(ne&&_.has(ne));return s.jsxs("div",{children:[s.jsxs("div",{className:"font-mono text-sm text-slate-900",children:[$,"  ",ee]}),u&&a?s.jsx("div",{className:wr("mt-0.5 text-xs",F?"text-amber-700":"text-slate-500"),children:F?"Month CLOSED":"Month open"}):null]})}},{key:"status",header:"Status",render:T=>s.jsx(Qc,{status:T.status})},{key:"action",header:"Action",render:T=>s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(xt,{to:`/leave/requests/${T.id}`,state:{item:T,employeeId:T.employeeId},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:O.status==="loading"||M.status==="loading",onClick:()=>{E(""),Q({mode:"approve",item:T})},children:"Approve"}),s.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:O.status==="loading"||M.status==="loading",onClick:()=>{E(""),Q({mode:"reject",item:T})},children:"Reject"})]})}],rows:N.map(T=>({key:T.id,data:T}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:N.map(T=>{const $=String(T.startDate||"").slice(0,10),ee=String(T.endDate||"").slice(0,10),de=$?cr($):null,ne=ee?cr(ee):null,F=!!(de&&_.has(de))||!!(ne&&_.has(ne));return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[T.firstName||""," ",T.lastName||""]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:T.employeeCode||String(T.employeeId).slice(0,8)+""})]}),s.jsx(Qc,{status:T.status})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Leave"}),s.jsx("div",{className:"mt-0.5 text-sm text-slate-900",children:T.leaveTypeName||T.leaveTypeCode}),s.jsxs("div",{className:"mt-2 font-mono text-sm text-slate-700",children:[$,"  ",ee]}),u&&a?s.jsx("div",{className:wr("mt-1 text-xs",F?"text-amber-700":"text-slate-500"),children:F?"Month CLOSED":"Month open"}):null]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsx(xt,{to:`/leave/requests/${T.id}`,state:{item:T,employeeId:T.employeeId},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:O.status==="loading"||M.status==="loading",onClick:()=>{E(""),Q({mode:"approve",item:T})},children:"Approve"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:O.status==="loading"||M.status==="loading",onClick:()=>{E(""),Q({mode:"reject",item:T})},children:"Reject"})]})]},T.id)})})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x<=1,onClick:()=>m(T=>Math.max(1,T-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",x]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x*f>=L,onClick:()=>m(T=>T+1),children:"Next"})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Approvals not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_APPROVE_L1 or LEAVE_APPROVE_L2 permission."})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[O.status,p,n,a,_,h,N,d,v,u,x,f,M.status,L]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Leave Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:I})}),k?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{O.status==="loading"||M.status==="loading"||Q(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:k.mode==="approve"?"Approve Leave Request":"Reject Leave Request"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:k.mode==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:q,onChange:S=>E(S.target.value),placeholder:k.mode==="approve"?"Optional":"Required"})]}),O.status==="error"||M.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:O.error||M.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{O.status==="loading"||M.status==="loading"||(Q(null),E(""))},disabled:O.status==="loading"||M.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:wr("w-full sm:w-auto rounded-md px-4 py-3 text-sm font-medium text-white min-h-[44px]",k.mode==="approve"?"bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-300":"bg-rose-600 hover:bg-rose-700 disabled:bg-rose-300"),disabled:O.status==="loading"||M.status==="loading"||k.mode==="reject"&&q.trim().length===0,onClick:async()=>{const S=q.trim();try{k.mode==="approve"?await O.run({id:k.item.id,reason:S||null}):await M.run({id:k.item.id,reason:S}),Q(null),E(""),v.refresh()}catch{}},children:k.mode==="approve"?"Approve":"Reject"})]})]})]})}):null]})}function ln(...e){return e.filter(Boolean).join(" ")}function bv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function yv(){var re,D,A;const{bootstrap:e}=qe(),t=((re=e==null?void 0:e.rbac)==null?void 0:re.permissions)||[],n=t.includes("LEAVE_TYPE_READ"),l=t.includes("LEAVE_TYPE_WRITE"),r=(e==null?void 0:e.systemConfig)||{},a=bv(((D=r==null?void 0:r.LEAVE_ENABLED)==null?void 0:D.value)??(r==null?void 0:r.LEAVE_ENABLED)),[i,o]=c.useState(!1),d=c.useMemo(()=>{const S=new URL("/api/v1/leave/types","http://local");return i&&S.searchParams.set("includeInactive","true"),S.pathname+S.search},[i]),u=Ce({path:d,page:1,pageSize:200,enabled:a&&n}),p=((A=u.data)==null?void 0:A.items)||[],h=Se(async S=>oe("/api/v1/leave/types",{method:"POST",body:S})),g=Se(async({id:S,payload:T})=>oe(`/api/v1/leave/types/${S}`,{method:"PATCH",body:T})),[b,y]=c.useState(null),[j,P]=c.useState(""),[x,m]=c.useState(""),[f,v]=c.useState(!1),[N,L]=c.useState(!0),[U,_]=c.useState(!1),[O,M]=c.useState(""),[k,Q]=c.useState(!0),q=()=>{P(""),m(""),v(!1),L(!0),_(!1),M(""),Q(!0),y({mode:"create"})},E=S=>{P(String(S.code||"")),m(String(S.name||"")),v(!!S.isPaid),L(!!S.supportsHalfDay),_(!!S.affectsPayroll),M(String(S.deductionRule||"")),Q(!!S.isActive),y({mode:"edit",item:S})},I=c.useMemo(()=>{var S;return n?a?u.status==="loading"&&!u.data?s.jsx(Qe,{}):u.status==="error"?((S=u.error)==null?void 0:S.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:u.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Types"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Configure master leave types used for requests and balances."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:u.refresh,disabled:u.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:q,disabled:h.status==="loading"||g.status==="loading",children:"New Type"}):null]})]}),s.jsxs("div",{className:"p-4 flex items-center justify-between gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:T=>o(T.target.checked),className:"rounded border-slate-300"}),"Include inactive"]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",p.length]})]}),s.jsx("div",{className:"p-4 pt-0",children:p.length===0?s.jsx(Oe,{title:"No leave types",description:"No leave types found."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 sm:hidden",children:p.map(T=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900 truncate",children:T.code}),s.jsx("div",{className:"mt-1 text-sm font-medium text-slate-900 truncate",children:T.name})]}),l?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>E(T),children:"Edit"}):null]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Flags"}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",T.isPaid?"bg-emerald-50 text-emerald-800":"bg-slate-100 text-slate-800"),children:T.isPaid?"Paid":"Unpaid"}),s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",T.supportsHalfDay?"bg-blue-50 text-blue-800":"bg-slate-100 text-slate-800"),children:T.supportsHalfDay?"Half-day":"Full-day only"}),s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",T.isActive?"bg-slate-900 text-white":"bg-slate-200 text-slate-700"),children:T.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Version"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:T.version})]})]},T.id))}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(Et,{columns:[{key:"code",title:"Code",render:(T,$)=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:$.code})},{key:"name",title:"Name",render:(T,$)=>s.jsx("span",{className:"text-sm font-medium text-slate-900",children:$.name})},{key:"flags",title:"Flags",render:(T,$)=>s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",$.isPaid?"bg-emerald-50 text-emerald-800":"bg-slate-100 text-slate-800"),children:$.isPaid?"Paid":"Unpaid"}),s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",$.supportsHalfDay?"bg-blue-50 text-blue-800":"bg-slate-100 text-slate-800"),children:$.supportsHalfDay?"Half-day":"Full-day only"}),s.jsx("span",{className:ln("text-xs px-2 py-1 rounded-full",$.isActive?"bg-slate-900 text-white":"bg-slate-200 text-slate-700"),children:$.isActive?"Active":"Inactive"})]})},{key:"version",title:"Version",render:(T,$)=>s.jsx("span",{className:"text-sm text-slate-700",children:$.version})},{key:"action",title:"Action",render:(T,$)=>s.jsx("div",{className:"flex items-center justify-end",children:l?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>E($),children:"Edit"}):null})}],data:p})})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[n,l,h.status,i,p,a,u,g.status]),H=h.status==="loading"||g.status==="loading";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Leave Types"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:I})}),b?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{H||y(null)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:b.mode==="create"?"Create Leave Type":"Edit Leave Type"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Updates are version-safe; refresh if you hit a version conflict."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:j,onChange:S=>P(S.target.value),placeholder:"ANNUAL",disabled:H})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:x,onChange:S=>m(S.target.value),placeholder:"Annual Leave",disabled:H})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:S=>v(S.target.checked),className:"rounded border-slate-300",disabled:H}),"Paid leave"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:S=>L(S.target.checked),className:"rounded border-slate-300",disabled:H}),"Supports half-day"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:U,onChange:S=>_(S.target.checked),className:"rounded border-slate-300",disabled:H}),"Affects payroll"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:S=>Q(S.target.checked),className:"rounded border-slate-300",disabled:H}),"Active"]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Deduction Rule (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:O,onChange:S=>M(S.target.value),placeholder:"",disabled:H})]})]}),h.status==="error"||g.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:h.error||g.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:H,onClick:()=>y(null),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:H||j.trim().length===0||x.trim().length===0,onClick:async()=>{try{if(b.mode==="create")await h.run({code:j.trim(),name:x.trim(),isPaid:f,supportsHalfDay:N,affectsPayroll:U,deductionRule:O.trim()||null,isActive:k});else{const S=b.item;await g.run({id:S.id,payload:{code:j.trim(),name:x.trim(),isPaid:f,supportsHalfDay:N,affectsPayroll:U,deductionRule:O.trim()||null,isActive:k,version:S.version}})}y(null),u.refresh()}catch{}},children:H?"Saving":"Confirm"})]})]})]}):null]})}function Rs(e){return e?`${String(e.firstName||"").trim()} ${String(e.lastName||"").trim()}`.trim():""}function Nv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function wv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Gt(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(2):""}function Sv(){var le,me,ce,Fe;const{bootstrap:e}=qe(),t=((le=e==null?void 0:e.rbac)==null?void 0:le.permissions)||[],n=t.includes("LEAVE_BALANCE_READ"),l=t.includes("LEAVE_BALANCE_GRANT"),r=t.includes("LEAVE_TYPE_READ"),a=(e==null?void 0:e.systemConfig)||{},i=Nv(((me=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:me.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=c.useMemo(()=>{var z;const C=wv(((z=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:z.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return C>=2e3&&C<=2100?C:new Date().getFullYear()},[a]),[d,u]=c.useState(""),[p,h]=c.useState(null),[g,b]=c.useState(""),[y,j]=c.useState(!1),[P,x]=c.useState(""),[m,f]=c.useState(String(o)),v=Ce({path:"/api/v1/leave/types?includeInactive=true",page:1,pageSize:200,enabled:i&&r}),N=((ce=v.data)==null?void 0:ce.items)||[],L=c.useMemo(()=>{const C=new Map;for(const z of N)(z==null?void 0:z.id)!=null&&C.set(String(z.id),z);return C},[N]),_=((Fe=Ce({path:"/api/v1/employees",page:1,pageSize:200,enabled:i&&l}).data)==null?void 0:Fe.items)||[],O=c.useMemo(()=>{const C=new Map;for(const z of _)(z==null?void 0:z.id)!=null&&C.set(String(z.id),z);return C},[_]),M=c.useMemo(()=>{if(!g.trim())return _;const C=g.toLowerCase();return _.filter(z=>{const W=Rs(z).toLowerCase(),J=String(z.email||"").toLowerCase(),te=String(z.employeeCode||"").toLowerCase();return W.includes(C)||J.includes(C)||te.includes(C)})},[_,g]),k=Ce({path:"/api/v1/leave/balances",page:1,pageSize:200,enabled:i&&n}),Q=c.useMemo(()=>{var z;let C=[...((z=k.data)==null?void 0:z.items)||[]];return d.trim()&&(C=C.filter(W=>String(W.employeeId)===d.trim())),m.trim()&&(C=C.filter(W=>String(W.year)===m.trim())),C},[k.data,d,m]),q=c.useMemo(()=>Q.map(C=>{const z=(C==null?void 0:C.leaveTypeId)!=null?String(C.leaveTypeId):"",W=z?L.get(z):null;return{...C,leaveTypeCode:(C==null?void 0:C.leaveTypeCode)??(W==null?void 0:W.code),leaveTypeName:(C==null?void 0:C.leaveTypeName)??(W==null?void 0:W.name)}}),[Q,L]),E=Se(async C=>oe("/api/v1/leave/balances/grant",{method:"POST",body:C})),[I,H]=c.useState(!1),[re,D]=c.useState(""),[A,S]=c.useState(""),[T,$]=c.useState(String(o)),[ee,de]=c.useState(""),[ne,F]=c.useState(""),[X,se]=c.useState(""),[pe,Le]=c.useState(null),[Be,be]=c.useState(""),[ge,ke]=c.useState(!1),[Te,_e]=c.useState(""),ze=c.useMemo(()=>{if(!Be.trim())return _;const C=Be.toLowerCase();return _.filter(z=>{const W=Rs(z).toLowerCase(),J=String(z.email||"").toLowerCase(),te=String(z.employeeCode||"").toLowerCase();return W.includes(C)||J.includes(C)||te.includes(C)})},[_,Be]),B=()=>{const C=d.trim()||"";D(C);const z=_.find(W=>String(W.id)===C)||null;Le(z),be(""),ke(!1),_e(""),S(""),$(m.trim()||String(o)),de(""),F(""),se(""),H(!0)},G=c.useMemo(()=>{var C,z;return n?i?v.status==="loading"&&!v.data||k.status==="loading"&&!k.data?s.jsx(Qe,{}):v.status==="error"?((C=v.error)==null?void 0:C.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:v.error}):k.status==="error"?((z=k.error)==null?void 0:z.status)===403?s.jsx(ve,{}):s.jsx(ie,{error:k.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Search and grant balances. Grant requires a reason."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:k.refresh,disabled:k.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:B,disabled:E.status==="loading",children:"Grant Balance"}):null]})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee (optional)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("button",{type:"button",className:"w-full rounded-md border border-slate-300 text-sm bg-white px-3 py-2 text-left flex items-center justify-between hover:border-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]",onClick:()=>j(!y),children:[p?s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-slate-900 truncate",children:Rs(p)||""}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:String(p.email||"").trim()||""})]})}):s.jsx("div",{className:"text-slate-400",children:"Select employee..."}),s.jsx("svg",{className:"w-4 h-4 text-slate-400 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7m0 0l7-7"})})]}),y&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-slate-200",children:s.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search employees...",value:g,onChange:W=>b(W.target.value),autoFocus:!0})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:M.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No employees found"}):M.map(W=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 focus:bg-blue-50 border-b border-slate-100 last:border-b-0",onClick:()=>{h(W),u(W.id),x(""),j(!1),b("")},children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium text-slate-900",children:Rs(W)||""}),s.jsx("div",{className:"text-xs text-slate-500",children:String(W.email||"").trim()||""}),String(W.employeeCode||"").trim()?s.jsxs("div",{className:"text-xs text-slate-400",children:["Code: ",String(W.employeeCode||"").trim()]}):null]})},W.id))})]}),y&&s.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>j(!1)})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If blank, returns balances across all employees you can access."}),P?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:P}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:m,onChange:W=>f(W.target.value),placeholder:"2026"})]})]}),s.jsx("div",{className:"p-4 pt-0",children:Q.length===0?s.jsx(Oe,{title:"No balances",description:"No balances found for the selected filters."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Et,{columns:[{key:"employeeId",title:"Employee",render:(W,J)=>{const te=O.get(String(J.employeeId)),Ee=Rs(te),ue=String((te==null?void 0:te.email)||"").trim();return Ee?s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900 truncate",children:Ee}),ue?s.jsx("div",{className:"text-xs text-slate-500 truncate",children:ue}):null]}):s.jsxs("span",{className:"font-mono text-xs text-slate-700",children:[String(J.employeeId).slice(0,8),""]})}},{key:"type",title:"Leave Type",render:(W,J)=>s.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[J.leaveTypeCode||"","  ",J.leaveTypeName||""]})},{key:"year",title:"Year",render:(W,J)=>s.jsx("span",{className:"text-sm text-slate-700",children:J.year})},{key:"opening",title:"Opening",render:(W,J)=>s.jsx("span",{className:"text-sm text-slate-700",children:Gt(J.openingBalance)})},{key:"granted",title:"Granted",render:(W,J)=>s.jsx("span",{className:"text-sm text-slate-700",children:Gt(J.grantedBalance)})},{key:"consumed",title:"Consumed",render:(W,J)=>s.jsx("span",{className:"text-sm text-slate-700",children:Gt(J.consumedBalance)})},{key:"available",title:"Available",render:(W,J)=>s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Gt(J.availableBalance)})}],data:q.map(W=>({employeeId:W.employeeId,type:`${W.leaveTypeCode||""}  ${W.leaveTypeName||""}`,year:W.year,openingBalance:W.openingBalance,grantedBalance:W.grantedBalance,consumedBalance:W.consumedBalance,availableBalance:W.availableBalance,leaveTypeCode:W.leaveTypeCode,leaveTypeName:W.leaveTypeName}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:q.map(W=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[W.leaveTypeCode||"","  ",W.leaveTypeName||""]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Employee: ",String(W.employeeId).slice(0,8),""]})]}),s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Gt(W.availableBalance)})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Year"}),s.jsx("div",{className:"text-slate-700",children:W.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"font-semibold text-slate-900",children:Gt(W.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Opening"}),s.jsx("div",{className:"text-slate-700",children:Gt(W.openingBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Granted"}),s.jsx("div",{className:"text-slate-700",children:Gt(W.grantedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"text-slate-700",children:Gt(W.consumedBalance)})]})]})]},W.id))})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(ve,{})},[l,n,d,E.status,Q,i,k,v,m]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(xe,{title:"Leave Balances"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:G})}),I?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{E.status!=="loading"&&H(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Grant Leave Balance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Grant adds to granted balance. Opening balance can also be set."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("button",{type:"button",className:"w-full rounded-md border border-slate-300 text-sm bg-white px-3 py-2 text-left flex items-center justify-between hover:border-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]",onClick:()=>{ke(C=>!C),_e("")},children:[pe?s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-slate-900 truncate",children:Rs(pe)||""}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:String(pe.email||"").trim()||""})]}):s.jsx("div",{className:"text-slate-400",children:"Select employee..."}),s.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7m0 0l7-7"})})]}),ge?s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-slate-200",children:s.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search employees...",value:Be,onChange:C=>be(C.target.value),autoFocus:!0})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:ze.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No employees found"}):ze.map(C=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 focus:bg-blue-50 border-b border-slate-100 last:border-b-0",onClick:()=>{Le(C),D(String(C.id)),_e(""),ke(!1),be("")},children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium text-slate-900",children:Rs(C)||""}),s.jsx("div",{className:"text-xs text-slate-500",children:String(C.email||"").trim()||""}),String(C.employeeCode||"").trim()?s.jsxs("div",{className:"text-xs text-slate-400",children:["Code: ",String(C.employeeCode||"").trim()]}):null]})},C.id))})]}):null,ge?s.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>ke(!1)}):null]}),Te?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:Te}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:T,onChange:C=>$(C.target.value),placeholder:"2026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm min-h-[44px]",value:A,onChange:C=>S(C.target.value),children:[s.jsx("option",{value:"",children:"Select"}),N.map(C=>s.jsxs("option",{value:C.id,children:[C.code,"  ",C.name,C.isActive?"":" (Inactive)"]},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Opening Balance (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:ee,onChange:C=>de(C.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Grant Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:ne,onChange:C=>F(C.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:X,onChange:C=>se(C.target.value),placeholder:"Provide a clear reason for granting this balance"})]})]}),E.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(ie,{error:E.error})}):null,s.jsxs("div",{className:"mt-6 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{E.status!=="loading"&&H(!1)},disabled:E.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white disabled:bg-slate-400 min-h-[44px]",disabled:E.status==="loading"||!pe||A.trim().length===0||T.trim().length===0||ne.trim().length===0||X.trim().length===0,onClick:async()=>{try{if(!pe){_e("Please select an employee");return}await E.run({employeeId:String(pe.id),leaveTypeId:A.trim(),year:Number(T),openingBalance:ee.trim().length>0?Number(ee):void 0,grantAmount:Number(ne),reason:X.trim()}),H(!1),k.refresh()}catch{}},children:E.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function kv(){var L,U;const{bootstrap:e}=qe(),t=((L=e==null?void 0:e.rbac)==null?void 0:L.permissions)||[],n=((U=e==null?void 0:e.rbac)==null?void 0:U.roles)||[],l=t.includes("AUTH_ADMIN_MANAGE"),r=n.includes("SUPER_ADMIN")||n.includes("COREOPS_ADMIN"),[a,i]=c.useState(""),[o,d]=c.useState(""),[u,p]=c.useState(""),[h,g]=c.useState("ADMIN"),[b,y]=c.useState("idle"),[j,P]=c.useState(""),[x,m]=c.useState(null),f=c.useMemo(()=>r?["ADMIN","SUPER_ADMIN"]:["ADMIN"],[r]),v=c.useMemo(()=>a.trim().length>1&&o.trim().length>0&&u.trim().length>0&&f.includes(h)&&b!=="loading",[a,o,u,h,f,b]);if(!l)return s.jsx(ve,{});const N=async()=>{var _,O,M;P(""),m(null),y("loading");try{const k={name:a.trim(),email:o.trim(),password:u,role:h},Q=await oe("/api/v1/auth/admins",{method:"POST",body:k});m(Q),i(""),d(""),p(""),g("ADMIN"),y("ready")}catch(k){const Q=((M=(O=(_=k.payload)==null?void 0:_.error)==null?void 0:O.issues)==null?void 0:M.map(q=>q.message).join(", "))||k.message||"Create admin failed";P(Q),y("error")}};return s.jsxs("div",{children:[s.jsx(xe,{title:"Admin Management",subtitle:"Create another admin user"}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:_=>i(_.target.value),disabled:b==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:_=>d(_.target.value),disabled:b==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:u,onChange:_=>p(_.target.value),disabled:b==="loading"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Min 8 chars, must include upper, lower, number."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Role"}),s.jsx("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:h,onChange:_=>g(_.target.value),disabled:b==="loading",children:f.map(_=>s.jsx("option",{value:_,children:_},_))})]})]}),j?s.jsx("div",{className:"mt-4 rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:j}):null,x?s.jsxs("div",{className:"mt-4 rounded-md border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Created admin: ",x.email," (",x.role,")"]}):null,s.jsx("div",{className:"mt-4 flex items-center justify-end",children:s.jsx("button",{type:"button",className:`rounded-md px-4 py-2 text-sm font-medium text-white ${v?"bg-slate-900 hover:bg-slate-800":"bg-slate-400"}`,disabled:!v,onClick:N,children:b==="loading"?"Creating":"Create Admin"})})]}),!x&&b==="ready"?s.jsx("div",{className:"mt-4",children:s.jsx(Oe,{title:"No recent actions",description:"Create an admin to see confirmation here."})}):null]})}function Ev(e){return e==="/admin/divisions"?s.jsx(bp,{}):e==="/admin/projects"?s.jsx(Np,{}):e==="/admin/rbac"?s.jsx(wp,{}):e==="/admin/month-close"?s.jsx(Sp,{}):e==="/admin/audit"?s.jsx(Cp,{}):e==="/admin/system-config"?s.jsx(Lp,{}):e==="/admin/employees"?s.jsx(Tp,{}):e==="/admin/attendance"?s.jsx(Up,{}):e==="/admin/admin-management"?s.jsx(kv,{}):e==="/timesheet/my"?s.jsx(Wp,{}):e==="/timesheet/approvals"?s.jsx(Kp,{}):e==="/leave/my"?s.jsx(av,{}):e==="/leave/approvals"?s.jsx(jv,{}):e==="/leave/types"?s.jsx(yv,{}):e==="/leave/balances"?s.jsx(Sv,{}):null}function Cv(){var r,a;const{status:e,bootstrap:t}=qe();if(e==="idle")return window.location.hash==="#/bootstrap-signup"?s.jsx(vp,{}):window.location.hash==="#/jwt-paste"?s.jsx(fp,{}):s.jsx(pp,{});if(e==="forbidden")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsx(ve,{})})]})})]});if(e==="loading")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsx(Qe,{message:"Initializing CoreOps"})})]})})]});if(e==="error")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Session Error"}),s.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"There was a problem loading your session"}),s.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload"]})]})})]})})]});const n=((r=t==null?void 0:t.navigation)==null?void 0:r.items)||[],l=((a=n[0])==null?void 0:a.path)||"/admin/divisions";return s.jsx(Jf,{children:s.jsxs(Jt,{element:s.jsx(gp,{}),children:[s.jsx(Jt,{index:!0,element:s.jsx(qf,{to:l,replace:!0})}),n.map(i=>{const o=Ev(i.path);return o?s.jsx(Jt,{path:i.path,element:o},i.id):null}),s.jsx(Jt,{path:"/admin/employees/profile/:employeeId",element:s.jsx(Pp,{})}),s.jsx(Jt,{path:"/timesheet/:id",element:s.jsx(tv,{})}),s.jsx(Jt,{path:"/leave/apply",element:s.jsx(mv,{})}),s.jsx(Jt,{path:"/leave/requests/:id",element:s.jsx(pv,{})}),s.jsx(Jt,{path:"*",element:s.jsx(jp,{})})]})})}function Lv(){return s.jsx(rp,{children:s.jsx(hp,{children:s.jsx(Cv,{})})})}ni.createRoot(document.getElementById("root")).render(s.jsx(Xr.StrictMode,{children:s.jsx(Lv,{})}));
