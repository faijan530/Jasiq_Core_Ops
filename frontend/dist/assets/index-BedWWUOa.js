function l0(e,t){for(var n=0;n<t.length;n++){const l=t[n];if(typeof l!="string"&&!Array.isArray(l)){for(const r in l)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(l,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>l[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function r0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tu={exports:{}},aa={},Au={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),a0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),c0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),f0=Symbol.for("react.memo"),h0=Symbol.for("react.lazy"),ec=Symbol.iterator;function p0(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pu=Object.assign,_u={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=_u,this.updater=n||Lu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Du(){}Du.prototype=Wn.prototype;function io(e,t,n){this.props=e,this.context=t,this.refs=_u,this.updater=n||Lu}var oo=io.prototype=new Du;oo.constructor=io;Pu(oo,Wn.prototype);oo.isPureReactComponent=!0;var tc=Array.isArray,Ru=Object.prototype.hasOwnProperty,co={current:null},Iu={key:!0,ref:!0,__self:!0,__source:!0};function Mu(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Ru.call(t,l)&&!Iu.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var d=Array(o),m=0;m<o;m++)d[m]=arguments[m+2];r.children=d}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:Fl,type:e,key:a,ref:i,props:r,_owner:co.current}}function v0(e,t){return{$$typeof:Fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fl}function g0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sc=/\/+/g;function Da(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g0(""+e.key):t.toString(36)}function yr(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fl:case a0:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+Da(i,0):l,tc(r)?(n="",e!=null&&(n=e.replace(sc,"$&/")+"/"),yr(r,t,n,"",function(m){return m})):r!=null&&(uo(r)&&(r=v0(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(sc,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",tc(e))for(var o=0;o<e.length;o++){a=e[o];var d=l+Da(a,o);i+=yr(a,t,n,d,r)}else if(d=p0(e),typeof d=="function")for(e=d.call(e),o=0;!(a=e.next()).done;)a=a.value,d=l+Da(a,o++),i+=yr(a,t,n,d,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Zl(e,t,n){if(e==null)return e;var l=[],r=0;return yr(e,l,"","",function(a){return t.call(n,a,r++)}),l}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Nr={transition:null},b0={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Nr,ReactCurrentOwner:co};function Ou(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Zl,forEach:function(e,t,n){Zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zl(e,function(){t++}),t},toArray:function(e){return Zl(e,function(t){return t})||[]},only:function(e){if(!uo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Wn;ge.Fragment=i0;ge.Profiler=d0;ge.PureComponent=io;ge.StrictMode=o0;ge.Suspense=x0;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b0;ge.act=Ou;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Pu({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=co.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Ru.call(t,d)&&!Iu.hasOwnProperty(d)&&(l[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)l.children=n;else if(1<d){o=Array(d);for(var m=0;m<d;m++)o[m]=arguments[m+2];l.children=o}return{$$typeof:Fl,type:e.type,key:r,ref:a,props:l,_owner:i}};ge.createContext=function(e){return e={$$typeof:u0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c0,_context:e},e.Consumer=e};ge.createElement=Mu;ge.createFactory=function(e){var t=Mu.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:m0,render:e}};ge.isValidElement=uo;ge.lazy=function(e){return{$$typeof:h0,_payload:{_status:-1,_result:e},_init:j0}};ge.memo=function(e,t){return{$$typeof:f0,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Nr.transition;Nr.transition={};try{e()}finally{Nr.transition=t}};ge.unstable_act=Ou;ge.useCallback=function(e,t){return ft.current.useCallback(e,t)};ge.useContext=function(e){return ft.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ge.useEffect=function(e,t){return ft.current.useEffect(e,t)};ge.useId=function(){return ft.current.useId()};ge.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return ft.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};ge.useRef=function(e){return ft.current.useRef(e)};ge.useState=function(e){return ft.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return ft.current.useTransition()};ge.version="18.3.1";Au.exports=ge;var c=Au.exports;const ia=r0(c),y0=l0({__proto__:null,default:ia},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=c,w0=Symbol.for("react.element"),S0=Symbol.for("react.fragment"),E0=Object.prototype.hasOwnProperty,k0=N0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C0={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)E0.call(t,l)&&!C0.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:w0,type:e,key:a,ref:i,props:r,_owner:k0.current}}aa.Fragment=S0;aa.jsx=Bu;aa.jsxs=Bu;Tu.exports=aa;var s=Tu.exports,oi={},zu={exports:{}},Tt={},Uu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var A=P.length;P.push(B);e:for(;0<A;){var k=A-1>>>1,D=P[k];if(0<r(D,B))P[k]=B,P[A]=D,A=k;else break e}}function n(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var B=P[0],A=P.pop();if(A!==B){P[0]=A;e:for(var k=0,D=P.length,J=D>>>1;k<J;){var oe=2*(k+1)-1,Q=P[oe],H=oe+1,ne=P[H];if(0>r(Q,A))H<D&&0>r(ne,Q)?(P[k]=ne,P[H]=A,k=H):(P[k]=Q,P[oe]=A,k=oe);else if(H<D&&0>r(ne,A))P[k]=ne,P[H]=A,k=H;else break e}}return B}function r(P,B){var A=P.sortIndex-B.sortIndex;return A!==0?A:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],m=[],j=1,h=null,g=3,b=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(P){for(var B=n(m);B!==null;){if(B.callback===null)l(m);else if(B.startTime<=P)l(m),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(m)}}function p(P){if(w=!1,f(P),!y)if(n(d)!==null)y=!0,se(N);else{var B=n(m);B!==null&&F(p,B.startTime-P)}}function N(P,B){y=!1,w&&(w=!1,x(T),T=-1),b=!0;var A=g;try{for(f(B),h=n(d);h!==null&&(!(h.expirationTime>B)||P&&!S());){var k=h.callback;if(typeof k=="function"){h.callback=null,g=h.priorityLevel;var D=k(h.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?h.callback=D:h===n(d)&&l(d),f(B)}else l(d);h=n(d)}if(h!==null)var J=!0;else{var oe=n(m);oe!==null&&F(p,oe.startTime-B),J=!1}return J}finally{h=null,g=A,b=!1}}var L=!1,R=null,T=-1,I=5,C=-1;function S(){return!(e.unstable_now()-C<I)}function V(){if(R!==null){var P=e.unstable_now();C=P;var B=!0;try{B=R(!0,P)}finally{B?G():(L=!1,R=null)}}else L=!1}var G;if(typeof u=="function")G=function(){u(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=V,G=function(){ce.postMessage(null)}}else G=function(){E(V,0)};function se(P){R=P,L||(L=!0,G())}function F(P,B){T=E(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,se(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var A=g;g=B;try{return P()}finally{g=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var A=g;g=P;try{return B()}finally{g=A}},e.unstable_scheduleCallback=function(P,B,A){var k=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?k+A:k):A=k,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,P={id:j++,callback:B,priorityLevel:P,startTime:A,expirationTime:D,sortIndex:-1},A>k?(P.sortIndex=A,t(m,P),n(d)===null&&P===n(m)&&(w?(x(T),T=-1):w=!0,F(p,A-k))):(P.sortIndex=D,t(d,P),y||b||(y=!0,se(N))),P},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(P){var B=g;return function(){var A=g;g=B;try{return P.apply(this,arguments)}finally{g=A}}}})(Fu);Uu.exports=Fu;var T0=Uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=c,Ct=T0;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $u=new Set,Nl={};function nn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Nl[e]=t,e=0;e<t.length;e++)$u.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=Object.prototype.hasOwnProperty,L0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},lc={};function P0(e){return di.call(lc,e)?!0:di.call(nc,e)?!1:L0.test(e)?lc[e]=!0:(nc[e]=!0,!1)}function _0(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D0(e,t,n,l){if(t===null||typeof t>"u"||_0(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var mo=/[\-:]([a-z])/g;function xo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mo,xo);at[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mo,xo);at[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mo,xo);at[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function fo(e,t,n,l){var r=at.hasOwnProperty(t)?at[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D0(t,n,r,l)&&(n=null),l||r===null?P0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var os=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,er=Symbol.for("react.element"),jn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),ho=Symbol.for("react.strict_mode"),ci=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Hu=Symbol.for("react.context"),po=Symbol.for("react.forward_ref"),ui=Symbol.for("react.suspense"),mi=Symbol.for("react.suspense_list"),vo=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),Wu=Symbol.for("react.offscreen"),rc=Symbol.iterator;function Zn(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Ra;function dl(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var Ia=!1;function Ma(e,t){if(!e||Ia)return"";Ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var l=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){l=m}e.call(t.prototype)}else{try{throw Error()}catch(m){l=m}e()}}catch(m){if(m&&l&&typeof m.stack=="string"){for(var r=m.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var d=`
`+r[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dl(e):""}function R0(e){switch(e.tag){case 5:return dl(e.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return e=Ma(e.type,!1),e;case 11:return e=Ma(e.type.render,!1),e;case 1:return e=Ma(e.type,!0),e;default:return""}}function xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case jn:return"Portal";case ci:return"Profiler";case ho:return"StrictMode";case ui:return"Suspense";case mi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hu:return(e.displayName||"Context")+".Consumer";case Vu:return(e._context.displayName||"Context")+".Provider";case po:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vo:return t=e.displayName||null,t!==null?t:xi(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return xi(e(t))}catch{}}return null}function I0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xi(t);case 8:return t===ho?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M0(e){var t=Yu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tr(e){e._valueTracker||(e._valueTracker=M0(e))}function qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Yu(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fi(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ac(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qu(e,t){t=t.checked,t!=null&&fo(e,"checked",t,!1)}function hi(e,t){Qu(e,t);var n=Ts(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pi(e,t.type,n):t.hasOwnProperty("defaultValue")&&pi(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ic(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pi(e,t,n){(t!=="number"||Rr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cl=Array.isArray;function Pn(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ts(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function vi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(cl(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ts(n)}}function Ku(e,t){var n=Ts(t.value),l=Ts(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sr,Xu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sr=sr||document.createElement("div"),sr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O0=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(e){O0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xl[t]=xl[e]})});function Ju(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xl.hasOwnProperty(e)&&xl[e]?(""+t).trim():t+"px"}function Zu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Ju(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var B0=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(e,t){if(t){if(B0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function bi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,_n=null,Dn=null;function cc(e){if(e=Hl(e)){if(typeof Ni!="function")throw Error(O(280));var t=e.stateNode;t&&(t=ma(t),Ni(e.stateNode,e.type,t))}}function em(e){_n?Dn?Dn.push(e):Dn=[e]:_n=e}function tm(){if(_n){var e=_n,t=Dn;if(Dn=_n=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function sm(e,t){return e(t)}function nm(){}var Oa=!1;function lm(e,t,n){if(Oa)return e(t,n);Oa=!0;try{return sm(e,t,n)}finally{Oa=!1,(_n!==null||Dn!==null)&&(nm(),tm())}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var l=ma(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var wi=!1;if(ls)try{var el={};Object.defineProperty(el,"passive",{get:function(){wi=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{wi=!1}function z0(e,t,n,l,r,a,i,o,d){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(j){this.onError(j)}}var fl=!1,Ir=null,Mr=!1,Si=null,U0={onError:function(e){fl=!0,Ir=e}};function F0(e,t,n,l,r,a,i,o,d){fl=!1,Ir=null,z0.apply(U0,arguments)}function $0(e,t,n,l,r,a,i,o,d){if(F0.apply(this,arguments),fl){if(fl){var m=Ir;fl=!1,Ir=null}else throw Error(O(198));Mr||(Mr=!0,Si=m)}}function ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uc(e){if(ln(e)!==e)throw Error(O(188))}function V0(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return uc(r),e;if(a===l)return uc(r),t;a=a.sibling}throw Error(O(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==l)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function am(e){return e=V0(e),e!==null?im(e):null}function im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=im(e);if(t!==null)return t;e=e.sibling}return null}var om=Ct.unstable_scheduleCallback,mc=Ct.unstable_cancelCallback,H0=Ct.unstable_shouldYield,W0=Ct.unstable_requestPaint,Ke=Ct.unstable_now,Y0=Ct.unstable_getCurrentPriorityLevel,jo=Ct.unstable_ImmediatePriority,dm=Ct.unstable_UserBlockingPriority,Or=Ct.unstable_NormalPriority,q0=Ct.unstable_LowPriority,cm=Ct.unstable_IdlePriority,oa=null,qt=null;function Q0(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:X0,K0=Math.log,G0=Math.LN2;function X0(e){return e>>>=0,e===0?32:31-(K0(e)/G0|0)|0}var nr=64,lr=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Br(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=ul(o):(a&=i,a!==0&&(l=ul(a)))}else i=n&~r,i!==0?l=ul(i):a!==0&&(l=ul(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Ut(t),r=1<<n,l|=e[n],t&=~r;return l}function J0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z0(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ut(a),o=1<<i,d=r[i];d===-1?(!(o&n)||o&l)&&(r[i]=J0(o,t)):d<=t&&(e.expiredLanes|=o),a&=~o}}function Ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function um(){var e=nr;return nr<<=1,!(nr&4194240)&&(nr=64),e}function Ba(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $l(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function ef(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Ut(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ut(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var ke=0;function mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xm,yo,fm,hm,pm,ki=!1,rr=[],js=null,bs=null,ys=null,El=new Map,kl=new Map,fs=[],tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xc(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function tl(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Hl(t),t!==null&&yo(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function sf(e,t,n,l,r){switch(t){case"focusin":return js=tl(js,e,t,n,l,r),!0;case"dragenter":return bs=tl(bs,e,t,n,l,r),!0;case"mouseover":return ys=tl(ys,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return El.set(a,tl(El.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,kl.set(a,tl(kl.get(a)||null,e,t,n,l,r)),!0}return!1}function vm(e){var t=Ys(e.target);if(t!==null){var n=ln(t);if(n!==null){if(t=n.tag,t===13){if(t=rm(n),t!==null){e.blockedOn=t,pm(e.priority,function(){fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ci(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);yi=l,n.target.dispatchEvent(l),yi=null}else return t=Hl(n),t!==null&&yo(t),e.blockedOn=n,!1;t.shift()}return!0}function fc(e,t,n){wr(e)&&n.delete(t)}function nf(){ki=!1,js!==null&&wr(js)&&(js=null),bs!==null&&wr(bs)&&(bs=null),ys!==null&&wr(ys)&&(ys=null),El.forEach(fc),kl.forEach(fc)}function sl(e,t){e.blockedOn===t&&(e.blockedOn=null,ki||(ki=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,nf)))}function Cl(e){function t(r){return sl(r,e)}if(0<rr.length){sl(rr[0],e);for(var n=1;n<rr.length;n++){var l=rr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(js!==null&&sl(js,e),bs!==null&&sl(bs,e),ys!==null&&sl(ys,e),El.forEach(t),kl.forEach(t),n=0;n<fs.length;n++)l=fs[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)vm(n),n.blockedOn===null&&fs.shift()}var Rn=os.ReactCurrentBatchConfig,zr=!0;function lf(e,t,n,l){var r=ke,a=Rn.transition;Rn.transition=null;try{ke=1,No(e,t,n,l)}finally{ke=r,Rn.transition=a}}function rf(e,t,n,l){var r=ke,a=Rn.transition;Rn.transition=null;try{ke=4,No(e,t,n,l)}finally{ke=r,Rn.transition=a}}function No(e,t,n,l){if(zr){var r=Ci(e,t,n,l);if(r===null)Qa(e,t,l,Ur,n),xc(e,l);else if(sf(r,e,t,n,l))l.stopPropagation();else if(xc(e,l),t&4&&-1<tf.indexOf(e)){for(;r!==null;){var a=Hl(r);if(a!==null&&xm(a),a=Ci(e,t,n,l),a===null&&Qa(e,t,l,Ur,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else Qa(e,t,l,null,n)}}var Ur=null;function Ci(e,t,n,l){if(Ur=null,e=go(l),e=Ys(e),e!==null)if(t=ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ur=e,null}function gm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y0()){case jo:return 1;case dm:return 4;case Or:case q0:return 16;case cm:return 536870912;default:return 16}default:return 16}}var ps=null,wo=null,Sr=null;function jm(){if(Sr)return Sr;var e,t=wo,n=t.length,l,r="value"in ps?ps.value:ps.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return Sr=r.slice(e,1<l?1-l:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ar(){return!0}function hc(){return!1}function At(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ar:hc,this.isPropagationStopped=hc,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=At(Yn),Vl=Ve({},Yn,{view:0,detail:0}),af=At(Vl),za,Ua,nl,da=Ve({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(za=e.screenX-nl.screenX,Ua=e.screenY-nl.screenY):Ua=za=0,nl=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Ua}}),pc=At(da),of=Ve({},da,{dataTransfer:0}),df=At(of),cf=Ve({},Vl,{relatedTarget:0}),Fa=At(cf),uf=Ve({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),mf=At(uf),xf=Ve({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=At(xf),hf=Ve({},Yn,{data:0}),vc=At(hf),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function Eo(){return jf}var bf=Ve({},Vl,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yf=At(bf),Nf=Ve({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=At(Nf),wf=Ve({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Sf=At(wf),Ef=Ve({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kf=At(Ef),Cf=Ve({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tf=At(Cf),Af=[9,13,27,32],ko=ls&&"CompositionEvent"in window,hl=null;ls&&"documentMode"in document&&(hl=document.documentMode);var Lf=ls&&"TextEvent"in window&&!hl,bm=ls&&(!ko||hl&&8<hl&&11>=hl),jc=" ",bc=!1;function ym(e,t){switch(e){case"keyup":return Af.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function Pf(e,t){switch(e){case"compositionend":return Nm(t);case"keypress":return t.which!==32?null:(bc=!0,jc);case"textInput":return e=t.data,e===jc&&bc?null:e;default:return null}}function _f(e,t){if(yn)return e==="compositionend"||!ko&&ym(e,t)?(e=jm(),Sr=wo=ps=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bm&&t.locale!=="ko"?null:t.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Df[e.type]:t==="textarea"}function wm(e,t,n,l){em(l),t=Fr(t,"onChange"),0<t.length&&(n=new So("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var pl=null,Tl=null;function Rf(e){Rm(e,0)}function ca(e){var t=Sn(e);if(qu(t))return e}function If(e,t){if(e==="change")return t}var Sm=!1;if(ls){var $a;if(ls){var Va="oninput"in document;if(!Va){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),Va=typeof Nc.oninput=="function"}$a=Va}else $a=!1;Sm=$a&&(!document.documentMode||9<document.documentMode)}function wc(){pl&&(pl.detachEvent("onpropertychange",Em),Tl=pl=null)}function Em(e){if(e.propertyName==="value"&&ca(Tl)){var t=[];wm(t,Tl,e,go(e)),lm(Rf,t)}}function Mf(e,t,n){e==="focusin"?(wc(),pl=t,Tl=n,pl.attachEvent("onpropertychange",Em)):e==="focusout"&&wc()}function Of(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(Tl)}function Bf(e,t){if(e==="click")return ca(t)}function zf(e,t){if(e==="input"||e==="change")return ca(t)}function Uf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Uf;function Al(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!di.call(t,r)||!$t(e[r],t[r]))return!1}return!0}function Sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var n=Sc(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sc(n)}}function km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cm(){for(var e=window,t=Rr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rr(e.document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ff(e){var t=Cm(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&km(n.ownerDocument.documentElement,n)){if(l!==null&&Co(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=Ec(n,a);var i=Ec(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $f=ls&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ti=null,vl=null,Ai=!1;function kc(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ai||Nn==null||Nn!==Rr(l)||(l=Nn,"selectionStart"in l&&Co(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&Al(vl,l)||(vl=l,l=Fr(Ti,"onSelect"),0<l.length&&(t=new So("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Nn)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionend:ir("Transition","TransitionEnd")},Ha={},Tm={};ls&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function ua(e){if(Ha[e])return Ha[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tm)return Ha[e]=t[n];return e}var Am=ua("animationend"),Lm=ua("animationiteration"),Pm=ua("animationstart"),_m=ua("transitionend"),Dm=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){Dm.set(e,t),nn(t,[e])}for(var Wa=0;Wa<Cc.length;Wa++){var Ya=Cc[Wa],Vf=Ya.toLowerCase(),Hf=Ya[0].toUpperCase()+Ya.slice(1);Ls(Vf,"on"+Hf)}Ls(Am,"onAnimationEnd");Ls(Lm,"onAnimationIteration");Ls(Pm,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(_m,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Tc(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,$0(l,t,void 0,e),e.currentTarget=null}function Rm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],d=o.instance,m=o.currentTarget;if(o=o.listener,d!==a&&r.isPropagationStopped())break e;Tc(r,o,m),a=d}else for(i=0;i<l.length;i++){if(o=l[i],d=o.instance,m=o.currentTarget,o=o.listener,d!==a&&r.isPropagationStopped())break e;Tc(r,o,m),a=d}}}if(Mr)throw e=Si,Mr=!1,Si=null,e}function Ie(e,t){var n=t[Ri];n===void 0&&(n=t[Ri]=new Set);var l=e+"__bubble";n.has(l)||(Im(t,e,2,!1),n.add(l))}function qa(e,t,n){var l=0;t&&(l|=4),Im(n,e,l,t)}var or="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[or]){e[or]=!0,$u.forEach(function(n){n!=="selectionchange"&&(Wf.has(n)||qa(n,!1,e),qa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[or]||(t[or]=!0,qa("selectionchange",!1,t))}}function Im(e,t,n,l){switch(gm(t)){case 1:var r=lf;break;case 4:r=rf;break;default:r=No}n=r.bind(null,t,n,e),r=void 0,!wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Qa(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;i=i.return}for(;o!==null;){if(i=Ys(o),i===null)return;if(d=i.tag,d===5||d===6){l=a=i;continue e}o=o.parentNode}}l=l.return}lm(function(){var m=a,j=go(n),h=[];e:{var g=Dm.get(e);if(g!==void 0){var b=So,y=e;switch(e){case"keypress":if(Er(n)===0)break e;case"keydown":case"keyup":b=yf;break;case"focusin":y="focus",b=Fa;break;case"focusout":y="blur",b=Fa;break;case"beforeblur":case"afterblur":b=Fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Sf;break;case Am:case Lm:case Pm:b=mf;break;case _m:b=kf;break;case"scroll":b=af;break;case"wheel":b=Tf;break;case"copy":case"cut":case"paste":b=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=gc}var w=(t&4)!==0,E=!w&&e==="scroll",x=w?g!==null?g+"Capture":null:g;w=[];for(var u=m,f;u!==null;){f=u;var p=f.stateNode;if(f.tag===5&&p!==null&&(f=p,x!==null&&(p=Sl(u,x),p!=null&&w.push(Pl(u,p,f)))),E)break;u=u.return}0<w.length&&(g=new b(g,y,null,n,j),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&n!==yi&&(y=n.relatedTarget||n.fromElement)&&(Ys(y)||y[rs]))break e;if((b||g)&&(g=j.window===j?j:(g=j.ownerDocument)?g.defaultView||g.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=m,y=y?Ys(y):null,y!==null&&(E=ln(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=m),b!==y)){if(w=pc,p="onMouseLeave",x="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=gc,p="onPointerLeave",x="onPointerEnter",u="pointer"),E=b==null?g:Sn(b),f=y==null?g:Sn(y),g=new w(p,u+"leave",b,n,j),g.target=E,g.relatedTarget=f,p=null,Ys(j)===m&&(w=new w(x,u+"enter",y,n,j),w.target=f,w.relatedTarget=E,p=w),E=p,b&&y)t:{for(w=b,x=y,u=0,f=w;f;f=mn(f))u++;for(f=0,p=x;p;p=mn(p))f++;for(;0<u-f;)w=mn(w),u--;for(;0<f-u;)x=mn(x),f--;for(;u--;){if(w===x||x!==null&&w===x.alternate)break t;w=mn(w),x=mn(x)}w=null}else w=null;b!==null&&Ac(h,g,b,w,!1),y!==null&&E!==null&&Ac(h,E,y,w,!0)}}e:{if(g=m?Sn(m):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var N=If;else if(yc(g))if(Sm)N=zf;else{N=Of;var L=Mf}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=Bf);if(N&&(N=N(e,m))){wm(h,N,n,j);break e}L&&L(e,g,m),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&pi(g,"number",g.value)}switch(L=m?Sn(m):window,e){case"focusin":(yc(L)||L.contentEditable==="true")&&(Nn=L,Ti=m,vl=null);break;case"focusout":vl=Ti=Nn=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,kc(h,n,j);break;case"selectionchange":if($f)break;case"keydown":case"keyup":kc(h,n,j)}var R;if(ko)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yn?ym(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bm&&n.locale!=="ko"&&(yn||T!=="onCompositionStart"?T==="onCompositionEnd"&&yn&&(R=jm()):(ps=j,wo="value"in ps?ps.value:ps.textContent,yn=!0)),L=Fr(m,T),0<L.length&&(T=new vc(T,e,null,n,j),h.push({event:T,listeners:L}),R?T.data=R:(R=Nm(n),R!==null&&(T.data=R)))),(R=Lf?Pf(e,n):_f(e,n))&&(m=Fr(m,"onBeforeInput"),0<m.length&&(j=new vc("onBeforeInput","beforeinput",null,n,j),h.push({event:j,listeners:m}),j.data=R))}Rm(h,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Sl(e,n),a!=null&&l.unshift(Pl(e,a,r)),a=Sl(e,t),a!=null&&l.push(Pl(e,a,r))),e=e.return}return l}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,d=o.alternate,m=o.stateNode;if(d!==null&&d===l)break;o.tag===5&&m!==null&&(o=m,r?(d=Sl(n,a),d!=null&&i.unshift(Pl(n,d,o))):r||(d=Sl(n,a),d!=null&&i.push(Pl(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Yf=/\r\n?/g,qf=/\u0000|\uFFFD/g;function Lc(e){return(typeof e=="string"?e:""+e).replace(Yf,`
`).replace(qf,"")}function dr(e,t,n){if(t=Lc(t),Lc(e)!==t&&n)throw Error(O(425))}function $r(){}var Li=null,Pi=null;function _i(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Di=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,Kf=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(Gf)}:Di;function Gf(e){setTimeout(function(){throw e})}function Ka(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),Cl(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);Cl(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+qn,_l="__reactProps$"+qn,rs="__reactContainer$"+qn,Ri="__reactEvents$"+qn,Xf="__reactListeners$"+qn,Jf="__reactHandles$"+qn;function Ys(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_c(e);e!==null;){if(n=e[Yt])return n;e=_c(e)}return t}e=n,n=e.parentNode}return null}function Hl(e){return e=e[Yt]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function ma(e){return e[_l]||null}var Ii=[],En=-1;function Ps(e){return{current:e}}function Me(e){0>En||(e.current=Ii[En],Ii[En]=null,En--)}function _e(e,t){En++,Ii[En]=e.current,e.current=t}var As={},ct=Ps(As),jt=Ps(!1),Js=As;function Bn(e,t){var n=e.type.contextTypes;if(!n)return As;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function bt(e){return e=e.childContextTypes,e!=null}function Vr(){Me(jt),Me(ct)}function Dc(e,t,n){if(ct.current!==As)throw Error(O(168));_e(ct,t),_e(jt,n)}function Mm(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(O(108,I0(e)||"Unknown",r));return Ve({},n,l)}function Hr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||As,Js=ct.current,_e(ct,e),_e(jt,jt.current),!0}function Rc(e,t,n){var l=e.stateNode;if(!l)throw Error(O(169));n?(e=Mm(e,t,Js),l.__reactInternalMemoizedMergedChildContext=e,Me(jt),Me(ct),_e(ct,e)):Me(jt),_e(jt,n)}var es=null,xa=!1,Ga=!1;function Om(e){es===null?es=[e]:es.push(e)}function Zf(e){xa=!0,Om(e)}function _s(){if(!Ga&&es!==null){Ga=!0;var e=0,t=ke;try{var n=es;for(ke=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}es=null,xa=!1}catch(r){throw es!==null&&(es=es.slice(e+1)),om(jo,_s),r}finally{ke=t,Ga=!1}}return null}var kn=[],Cn=0,Wr=null,Yr=0,Lt=[],Pt=0,Zs=null,ts=1,ss="";function Vs(e,t){kn[Cn++]=Yr,kn[Cn++]=Wr,Wr=e,Yr=t}function Bm(e,t,n){Lt[Pt++]=ts,Lt[Pt++]=ss,Lt[Pt++]=Zs,Zs=e;var l=ts;e=ss;var r=32-Ut(l)-1;l&=~(1<<r),n+=1;var a=32-Ut(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,ts=1<<32-Ut(t)+r|n<<r|l,ss=a+e}else ts=1<<a|n<<r|l,ss=e}function To(e){e.return!==null&&(Vs(e,1),Bm(e,1,0))}function Ao(e){for(;e===Wr;)Wr=kn[--Cn],kn[Cn]=null,Yr=kn[--Cn],kn[Cn]=null;for(;e===Zs;)Zs=Lt[--Pt],Lt[Pt]=null,ss=Lt[--Pt],Lt[Pt]=null,ts=Lt[--Pt],Lt[Pt]=null}var kt=null,Et=null,Be=!1,zt=null;function zm(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ic(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Et=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zs!==null?{id:ts,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,Et=null,!0):!1;default:return!1}}function Mi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oi(e){if(Be){var t=Et;if(t){var n=t;if(!Ic(e,t)){if(Mi(e))throw Error(O(418));t=Ns(n.nextSibling);var l=kt;t&&Ic(e,t)?zm(l,n):(e.flags=e.flags&-4097|2,Be=!1,kt=e)}}else{if(Mi(e))throw Error(O(418));e.flags=e.flags&-4097|2,Be=!1,kt=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function cr(e){if(e!==kt)return!1;if(!Be)return Mc(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_i(e.type,e.memoizedProps)),t&&(t=Et)){if(Mi(e))throw Um(),Error(O(418));for(;t;)zm(e,t),t=Ns(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=Ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=kt?Ns(e.stateNode.nextSibling):null;return!0}function Um(){for(var e=Et;e;)e=Ns(e.nextSibling)}function zn(){Et=kt=null,Be=!1}function Lo(e){zt===null?zt=[e]:zt.push(e)}var eh=os.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var l=n.stateNode}if(!l)throw Error(O(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ur(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oc(e){var t=e._init;return t(e._payload)}function Fm(e){function t(x,u){if(e){var f=x.deletions;f===null?(x.deletions=[u],x.flags|=16):f.push(u)}}function n(x,u){if(!e)return null;for(;u!==null;)t(x,u),u=u.sibling;return null}function l(x,u){for(x=new Map;u!==null;)u.key!==null?x.set(u.key,u):x.set(u.index,u),u=u.sibling;return x}function r(x,u){return x=ks(x,u),x.index=0,x.sibling=null,x}function a(x,u,f){return x.index=f,e?(f=x.alternate,f!==null?(f=f.index,f<u?(x.flags|=2,u):f):(x.flags|=2,u)):(x.flags|=1048576,u)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,u,f,p){return u===null||u.tag!==6?(u=ni(f,x.mode,p),u.return=x,u):(u=r(u,f),u.return=x,u)}function d(x,u,f,p){var N=f.type;return N===bn?j(x,u,f.props.children,p,f.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ms&&Oc(N)===u.type)?(p=r(u,f.props),p.ref=ll(x,u,f),p.return=x,p):(p=_r(f.type,f.key,f.props,null,x.mode,p),p.ref=ll(x,u,f),p.return=x,p)}function m(x,u,f,p){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=li(f,x.mode,p),u.return=x,u):(u=r(u,f.children||[]),u.return=x,u)}function j(x,u,f,p,N){return u===null||u.tag!==7?(u=Gs(f,x.mode,p,N),u.return=x,u):(u=r(u,f),u.return=x,u)}function h(x,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=ni(""+u,x.mode,f),u.return=x,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case er:return f=_r(u.type,u.key,u.props,null,x.mode,f),f.ref=ll(x,null,u),f.return=x,f;case jn:return u=li(u,x.mode,f),u.return=x,u;case ms:var p=u._init;return h(x,p(u._payload),f)}if(cl(u)||Zn(u))return u=Gs(u,x.mode,f,null),u.return=x,u;ur(x,u)}return null}function g(x,u,f,p){var N=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:o(x,u,""+f,p);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case er:return f.key===N?d(x,u,f,p):null;case jn:return f.key===N?m(x,u,f,p):null;case ms:return N=f._init,g(x,u,N(f._payload),p)}if(cl(f)||Zn(f))return N!==null?null:j(x,u,f,p,null);ur(x,f)}return null}function b(x,u,f,p,N){if(typeof p=="string"&&p!==""||typeof p=="number")return x=x.get(f)||null,o(u,x,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case er:return x=x.get(p.key===null?f:p.key)||null,d(u,x,p,N);case jn:return x=x.get(p.key===null?f:p.key)||null,m(u,x,p,N);case ms:var L=p._init;return b(x,u,f,L(p._payload),N)}if(cl(p)||Zn(p))return x=x.get(f)||null,j(u,x,p,N,null);ur(u,p)}return null}function y(x,u,f,p){for(var N=null,L=null,R=u,T=u=0,I=null;R!==null&&T<f.length;T++){R.index>T?(I=R,R=null):I=R.sibling;var C=g(x,R,f[T],p);if(C===null){R===null&&(R=I);break}e&&R&&C.alternate===null&&t(x,R),u=a(C,u,T),L===null?N=C:L.sibling=C,L=C,R=I}if(T===f.length)return n(x,R),Be&&Vs(x,T),N;if(R===null){for(;T<f.length;T++)R=h(x,f[T],p),R!==null&&(u=a(R,u,T),L===null?N=R:L.sibling=R,L=R);return Be&&Vs(x,T),N}for(R=l(x,R);T<f.length;T++)I=b(R,x,T,f[T],p),I!==null&&(e&&I.alternate!==null&&R.delete(I.key===null?T:I.key),u=a(I,u,T),L===null?N=I:L.sibling=I,L=I);return e&&R.forEach(function(S){return t(x,S)}),Be&&Vs(x,T),N}function w(x,u,f,p){var N=Zn(f);if(typeof N!="function")throw Error(O(150));if(f=N.call(f),f==null)throw Error(O(151));for(var L=N=null,R=u,T=u=0,I=null,C=f.next();R!==null&&!C.done;T++,C=f.next()){R.index>T?(I=R,R=null):I=R.sibling;var S=g(x,R,C.value,p);if(S===null){R===null&&(R=I);break}e&&R&&S.alternate===null&&t(x,R),u=a(S,u,T),L===null?N=S:L.sibling=S,L=S,R=I}if(C.done)return n(x,R),Be&&Vs(x,T),N;if(R===null){for(;!C.done;T++,C=f.next())C=h(x,C.value,p),C!==null&&(u=a(C,u,T),L===null?N=C:L.sibling=C,L=C);return Be&&Vs(x,T),N}for(R=l(x,R);!C.done;T++,C=f.next())C=b(R,x,T,C.value,p),C!==null&&(e&&C.alternate!==null&&R.delete(C.key===null?T:C.key),u=a(C,u,T),L===null?N=C:L.sibling=C,L=C);return e&&R.forEach(function(V){return t(x,V)}),Be&&Vs(x,T),N}function E(x,u,f,p){if(typeof f=="object"&&f!==null&&f.type===bn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case er:e:{for(var N=f.key,L=u;L!==null;){if(L.key===N){if(N=f.type,N===bn){if(L.tag===7){n(x,L.sibling),u=r(L,f.props.children),u.return=x,x=u;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ms&&Oc(N)===L.type){n(x,L.sibling),u=r(L,f.props),u.ref=ll(x,L,f),u.return=x,x=u;break e}n(x,L);break}else t(x,L);L=L.sibling}f.type===bn?(u=Gs(f.props.children,x.mode,p,f.key),u.return=x,x=u):(p=_r(f.type,f.key,f.props,null,x.mode,p),p.ref=ll(x,u,f),p.return=x,x=p)}return i(x);case jn:e:{for(L=f.key;u!==null;){if(u.key===L)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(x,u.sibling),u=r(u,f.children||[]),u.return=x,x=u;break e}else{n(x,u);break}else t(x,u);u=u.sibling}u=li(f,x.mode,p),u.return=x,x=u}return i(x);case ms:return L=f._init,E(x,u,L(f._payload),p)}if(cl(f))return y(x,u,f,p);if(Zn(f))return w(x,u,f,p);ur(x,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(x,u.sibling),u=r(u,f),u.return=x,x=u):(n(x,u),u=ni(f,x.mode,p),u.return=x,x=u),i(x)):n(x,u)}return E}var Un=Fm(!0),$m=Fm(!1),qr=Ps(null),Qr=null,Tn=null,Po=null;function _o(){Po=Tn=Qr=null}function Do(e){var t=qr.current;Me(qr),e._currentValue=t}function Bi(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Qr=e,Po=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Qr===null)throw Error(O(308));Tn=e,Qr.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var qs=null;function Ro(e){qs===null?qs=[e]:qs.push(e)}function Vm(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,Ro(t)):(n.next=r.next,r.next=n),t.interleaved=n,as(e,l)}function as(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xs=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ne&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,as(e,n)}return r=l.interleaved,r===null?(t.next=t,Ro(l)):(t.next=r.next,r.next=t),l.interleaved=t,as(e,n)}function kr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,bo(e,n)}}function Bc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kr(e,t,n,l){var r=e.updateQueue;xs=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var d=o,m=d.next;d.next=null,i===null?a=m:i.next=m,i=d;var j=e.alternate;j!==null&&(j=j.updateQueue,o=j.lastBaseUpdate,o!==i&&(o===null?j.firstBaseUpdate=m:o.next=m,j.lastBaseUpdate=d))}if(a!==null){var h=r.baseState;i=0,j=m=d=null,o=a;do{var g=o.lane,b=o.eventTime;if((l&g)===g){j!==null&&(j=j.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(g=t,b=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(b,h,g);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,g=typeof y=="function"?y.call(b,h,g):y,g==null)break e;h=Ve({},h,g);break e;case 2:xs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[o]:g.push(o))}else b={eventTime:b,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},j===null?(m=j=b,d=h):j=j.next=b,i|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(j===null&&(d=h),r.baseState=d,r.firstBaseUpdate=m,r.lastBaseUpdate=j,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);tn|=i,e.lanes=i,e.memoizedState=h}}function zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(O(191,r));r.call(l)}}}var Wl={},Qt=Ps(Wl),Dl=Ps(Wl),Rl=Ps(Wl);function Qs(e){if(e===Wl)throw Error(O(174));return e}function Mo(e,t){switch(_e(Rl,t),_e(Dl,e),_e(Qt,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gi(t,e)}Me(Qt),_e(Qt,t)}function Fn(){Me(Qt),Me(Dl),Me(Rl)}function Wm(e){Qs(Rl.current);var t=Qs(Qt.current),n=gi(t,e.type);t!==n&&(_e(Dl,e),_e(Qt,n))}function Oo(e){Dl.current===e&&(Me(Qt),Me(Dl))}var Ue=Ps(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=[];function Bo(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var Cr=os.ReactCurrentDispatcher,Ja=os.ReactCurrentBatchConfig,en=0,Fe=null,Ze=null,st=null,Xr=!1,gl=!1,Il=0,th=0;function it(){throw Error(O(321))}function zo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Uo(e,t,n,l,r,a){if(en=a,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cr.current=e===null||e.memoizedState===null?rh:ah,e=n(l,r),gl){a=0;do{if(gl=!1,Il=0,25<=a)throw Error(O(301));a+=1,st=Ze=null,t.updateQueue=null,Cr.current=ih,e=n(l,r)}while(gl)}if(Cr.current=Jr,t=Ze!==null&&Ze.next!==null,en=0,st=Ze=Fe=null,Xr=!1,t)throw Error(O(300));return e}function Fo(){var e=Il!==0;return Il=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Fe.memoizedState=st=e:st=st.next=e,st}function It(){if(Ze===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=st===null?Fe.memoizedState:st.next;if(t!==null)st=t,Ze=e;else{if(e===null)throw Error(O(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Fe.memoizedState=st=e:st=st.next=e}return st}function Ml(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=It(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var l=Ze,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,d=null,m=a;do{var j=m.lane;if((en&j)===j)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),l=m.hasEagerState?m.eagerState:e(l,m.action);else{var h={lane:j,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(o=d=h,i=l):d=d.next=h,Fe.lanes|=j,tn|=j}m=m.next}while(m!==null&&m!==a);d===null?i=l:d.next=o,$t(l,t.memoizedState)||(gt=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=d,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,Fe.lanes|=a,tn|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ei(e){var t=It(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);$t(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function Ym(){}function qm(e,t){var n=Fe,l=It(),r=t(),a=!$t(l.memoizedState,r);if(a&&(l.memoizedState=r,gt=!0),l=l.queue,$o(Gm.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ol(9,Km.bind(null,n,l,r,t),void 0,null),nt===null)throw Error(O(349));en&30||Qm(n,t,r)}return r}function Qm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Km(e,t,n,l){t.value=n,t.getSnapshot=l,Xm(t)&&Jm(e)}function Gm(e,t,n){return n(function(){Xm(t)&&Jm(e)})}function Xm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Jm(e){var t=as(e,1);t!==null&&Ft(t,e,1,-1)}function Uc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},t.queue=e,e=e.dispatch=lh.bind(null,Fe,e),[t.memoizedState,e]}function Ol(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Zm(){return It().memoizedState}function Tr(e,t,n,l){var r=Wt();Fe.flags|=e,r.memoizedState=Ol(1|t,n,void 0,l===void 0?null:l)}function fa(e,t,n,l){var r=It();l=l===void 0?null:l;var a=void 0;if(Ze!==null){var i=Ze.memoizedState;if(a=i.destroy,l!==null&&zo(l,i.deps)){r.memoizedState=Ol(t,n,a,l);return}}Fe.flags|=e,r.memoizedState=Ol(1|t,n,a,l)}function Fc(e,t){return Tr(8390656,8,e,t)}function $o(e,t){return fa(2048,8,e,t)}function ex(e,t){return fa(4,2,e,t)}function tx(e,t){return fa(4,4,e,t)}function sx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nx(e,t,n){return n=n!=null?n.concat([e]):null,fa(4,4,sx.bind(null,t,e),n)}function Vo(){}function lx(e,t){var n=It();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&zo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function rx(e,t){var n=It();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&zo(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function ax(e,t,n){return en&21?($t(n,t)||(n=um(),Fe.lanes|=n,tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function sh(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var l=Ja.transition;Ja.transition={};try{e(!1),t()}finally{ke=n,Ja.transition=l}}function ix(){return It().memoizedState}function nh(e,t,n){var l=Es(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},ox(e))dx(t,n);else if(n=Vm(e,t,n,l),n!==null){var r=mt();Ft(n,e,l,r),cx(n,t,l)}}function lh(e,t,n){var l=Es(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(ox(e))dx(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,$t(o,i)){var d=t.interleaved;d===null?(r.next=r,Ro(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=Vm(e,t,r,l),n!==null&&(r=mt(),Ft(n,e,l,r),cx(n,t,l))}}function ox(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function dx(e,t){gl=Xr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cx(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,bo(e,n)}}var Jr={readContext:Rt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},rh={readContext:Rt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Fc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tr(4194308,4,sx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tr(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Wt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=nh.bind(null,Fe,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Uc,useDebugValue:Vo,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Uc(!1),t=e[0];return e=sh.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=Fe,r=Wt();if(Be){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),nt===null)throw Error(O(349));en&30||Qm(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Fc(Gm.bind(null,l,a,e),[e]),l.flags|=2048,Ol(9,Km.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=Wt(),t=nt.identifierPrefix;if(Be){var n=ss,l=ts;n=(l&~(1<<32-Ut(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=Il++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ah={readContext:Rt,useCallback:lx,useContext:Rt,useEffect:$o,useImperativeHandle:nx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:rx,useReducer:Za,useRef:Zm,useState:function(){return Za(Ml)},useDebugValue:Vo,useDeferredValue:function(e){var t=It();return ax(t,Ze.memoizedState,e)},useTransition:function(){var e=Za(Ml)[0],t=It().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:qm,useId:ix,unstable_isNewReconciler:!1},ih={readContext:Rt,useCallback:lx,useContext:Rt,useEffect:$o,useImperativeHandle:nx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:rx,useReducer:ei,useRef:Zm,useState:function(){return ei(Ml)},useDebugValue:Vo,useDeferredValue:function(e){var t=It();return Ze===null?t.memoizedState=e:ax(t,Ze.memoizedState,e)},useTransition:function(){var e=ei(Ml)[0],t=It().memoizedState;return[e,t]},useMutableSource:Ym,useSyncExternalStore:qm,useId:ix,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zi(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=mt(),r=Es(e),a=ns(l,r);a.payload=t,n!=null&&(a.callback=n),t=ws(e,a,r),t!==null&&(Ft(t,e,r,l),kr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=mt(),r=Es(e),a=ns(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ws(e,a,r),t!==null&&(Ft(t,e,r,l),kr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),l=Es(e),r=ns(n,l);r.tag=2,t!=null&&(r.callback=t),t=ws(e,r,l),t!==null&&(Ft(t,e,l,n),kr(t,e,l))}};function $c(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!Al(n,l)||!Al(r,a):!0}function ux(e,t,n){var l=!1,r=As,a=t.contextType;return typeof a=="object"&&a!==null?a=Rt(a):(r=bt(t)?Js:ct.current,l=t.contextTypes,a=(l=l!=null)?Bn(e,r):As),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vc(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function Ui(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Io(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=Rt(a):(a=bt(t)?Js:ct.current,r.context=Bn(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(zi(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&ha.enqueueReplaceState(r,r.state,null),Kr(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var n="",l=t;do n+=R0(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function ti(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oh=typeof WeakMap=="function"?WeakMap:Map;function mx(e,t,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){ea||(ea=!0,Xi=l),Fi(e,t)},n}function xx(e,t,n){n=ns(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Fi(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fi(e,t),typeof l!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new oh;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Nh.bind(null,e,t,n),t.then(e,e))}function Wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ns(-1,1),t.tag=2,ws(n,t,1))),n.lanes|=1),e)}var dh=os.ReactCurrentOwner,gt=!1;function ut(e,t,n,l){t.child=e===null?$m(t,null,n,l):Un(t,e.child,n,l)}function qc(e,t,n,l,r){n=n.render;var a=t.ref;return In(t,r),l=Uo(e,t,n,l,a,r),n=Fo(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,is(e,t,r)):(Be&&n&&To(t),t.flags|=1,ut(e,t,l,r),t.child)}function Qc(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Xo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fx(e,t,a,l,r)):(e=_r(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(i,l)&&e.ref===t.ref)return is(e,t,r)}return t.flags|=1,e=ks(a,l),e.ref=t.ref,e.return=t,t.child=e}function fx(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(Al(a,l)&&e.ref===t.ref)if(gt=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,is(e,t,r)}return $i(e,t,n,l,r)}function hx(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ln,St),St|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Ln,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,_e(Ln,St),St|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,_e(Ln,St),St|=l;return ut(e,t,r,n),t.child}function px(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $i(e,t,n,l,r){var a=bt(n)?Js:ct.current;return a=Bn(t,a),In(t,r),n=Uo(e,t,n,l,a,r),l=Fo(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,is(e,t,r)):(Be&&l&&To(t),t.flags|=1,ut(e,t,n,r),t.child)}function Kc(e,t,n,l,r){if(bt(n)){var a=!0;Hr(t)}else a=!1;if(In(t,r),t.stateNode===null)Ar(e,t),ux(t,n,l),Ui(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=Rt(m):(m=bt(n)?Js:ct.current,m=Bn(t,m));var j=n.getDerivedStateFromProps,h=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||d!==m)&&Vc(t,i,l,m),xs=!1;var g=t.memoizedState;i.state=g,Kr(t,l,i,r),d=t.memoizedState,o!==l||g!==d||jt.current||xs?(typeof j=="function"&&(zi(t,n,j,l),d=t.memoizedState),(o=xs||$c(t,n,o,l,g,d,m))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=d),i.props=l,i.state=d,i.context=m,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Hm(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:Ot(t.type,o),i.props=m,h=t.pendingProps,g=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rt(d):(d=bt(n)?Js:ct.current,d=Bn(t,d));var b=n.getDerivedStateFromProps;(j=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||g!==d)&&Vc(t,i,l,d),xs=!1,g=t.memoizedState,i.state=g,Kr(t,l,i,r);var y=t.memoizedState;o!==h||g!==y||jt.current||xs?(typeof b=="function"&&(zi(t,n,b,l),y=t.memoizedState),(m=xs||$c(t,n,m,l,g,y,d)||!1)?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,y,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,y,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=y),i.props=l,i.state=y,i.context=d,l=m):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),l=!1)}return Vi(e,t,n,l,a,r)}function Vi(e,t,n,l,r,a){px(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&Rc(t,n,!1),is(e,t,a);l=t.stateNode,dh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=Un(t,e.child,null,a),t.child=Un(t,null,o,a)):ut(e,t,o,a),t.memoizedState=l.state,r&&Rc(t,n,!0),t.child}function vx(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),Mo(e,t.containerInfo)}function Gc(e,t,n,l,r){return zn(),Lo(r),t.flags|=256,ut(e,t,n,l),t.child}var Hi={dehydrated:null,treeContext:null,retryLane:0};function Wi(e){return{baseLanes:e,cachePool:null,transitions:null}}function gx(e,t,n){var l=t.pendingProps,r=Ue.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),_e(Ue,r&1),e===null)return Oi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ga(i,l,0,null),e=Gs(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wi(n),t.memoizedState=Hi,e):Ho(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return ch(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var d={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=d,t.deletions=null):(l=ks(r,d),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=ks(o,a):(a=Gs(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Wi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Hi,l}return a=e.child,e=a.sibling,l=ks(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Ho(e,t){return t=ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mr(e,t,n,l){return l!==null&&Lo(l),Un(t,e.child,null,n),e=Ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=ti(Error(O(422))),mr(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=ga({mode:"visible",children:l.children},r,0,null),a=Gs(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&Un(t,e.child,null,i),t.child.memoizedState=Wi(i),t.memoizedState=Hi,a);if(!(t.mode&1))return mr(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(O(419)),l=ti(a,l,void 0),mr(e,t,i,l)}if(o=(i&e.childLanes)!==0,gt||o){if(l=nt,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,as(e,r),Ft(l,e,r,-1))}return Go(),l=ti(Error(O(421))),mr(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=wh.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Et=Ns(r.nextSibling),kt=t,Be=!0,zt=null,e!==null&&(Lt[Pt++]=ts,Lt[Pt++]=ss,Lt[Pt++]=Zs,ts=e.id,ss=e.overflow,Zs=t),t=Ho(t,l.children),t.flags|=4096,t)}function Xc(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Bi(e.return,t,n)}function si(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function jx(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(ut(e,t,l.children,n),l=Ue.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xc(e,n,t);else if(e.tag===19)Xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(_e(Ue,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),si(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Gr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}si(t,!0,n,null,a);break;case"together":si(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ar(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uh(e,t,n){switch(t.tag){case 3:vx(t),zn();break;case 5:Wm(t);break;case 1:bt(t.type)&&Hr(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;_e(qr,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(_e(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?gx(e,t,n):(_e(Ue,Ue.current&1),e=is(e,t,n),e!==null?e.sibling:null);_e(Ue,Ue.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return jx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),_e(Ue,Ue.current),l)break;return null;case 22:case 23:return t.lanes=0,hx(e,t,n)}return is(e,t,n)}var bx,Yi,yx,Nx;bx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yi=function(){};yx=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,Qs(Qt.current);var a=null;switch(n){case"input":r=fi(e,r),l=fi(e,l),a=[];break;case"select":r=Ve({},r,{value:void 0}),l=Ve({},l,{value:void 0}),a=[];break;case"textarea":r=vi(e,r),l=vi(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=$r)}ji(n,l);var i;n=null;for(m in r)if(!l.hasOwnProperty(m)&&r.hasOwnProperty(m)&&r[m]!=null)if(m==="style"){var o=r[m];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Nl.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in l){var d=l[m];if(o=r!=null?r[m]:void 0,l.hasOwnProperty(m)&&d!==o&&(d!=null||o!=null))if(m==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(a||(a=[]),a.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(a=a||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Ie("scroll",e),a||o===d||(a=[])):(a=a||[]).push(m,d))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Nx=function(e,t,n,l){n!==l&&(t.flags|=4)};function rl(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function mh(e,t,n){var l=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return bt(t.type)&&Vr(),ot(t),null;case 3:return l=t.stateNode,Fn(),Me(jt),Me(ct),Bo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(cr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(eo(zt),zt=null))),Yi(e,t),ot(t),null;case 5:Oo(t);var r=Qs(Rl.current);if(n=t.type,e!==null&&t.stateNode!=null)yx(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(O(166));return ot(t),null}if(e=Qs(Qt.current),cr(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[Yt]=t,l[_l]=a,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(r=0;r<ml.length;r++)Ie(ml[r],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":ac(l,a),Ie("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},Ie("invalid",l);break;case"textarea":oc(l,a),Ie("invalid",l)}ji(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&dr(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&dr(l.textContent,o,e),r=["children",""+o]):Nl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ie("scroll",l)}switch(n){case"input":tr(l),ic(l,a,!0);break;case"textarea":tr(l),dc(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=$r)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[Yt]=t,e[_l]=l,bx(e,t,!1,!1),t.stateNode=e;e:{switch(i=bi(n,l),n){case"dialog":Ie("cancel",e),Ie("close",e),r=l;break;case"iframe":case"object":case"embed":Ie("load",e),r=l;break;case"video":case"audio":for(r=0;r<ml.length;r++)Ie(ml[r],e);r=l;break;case"source":Ie("error",e),r=l;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),r=l;break;case"details":Ie("toggle",e),r=l;break;case"input":ac(e,l),r=fi(e,l),Ie("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=Ve({},l,{value:void 0}),Ie("invalid",e);break;case"textarea":oc(e,l),r=vi(e,l),Ie("invalid",e);break;default:r=l}ji(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="style"?Zu(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Xu(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&wl(e,d):typeof d=="number"&&wl(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nl.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Ie("scroll",e):d!=null&&fo(e,a,d,i))}switch(n){case"input":tr(e),ic(e,l,!1);break;case"textarea":tr(e),dc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ts(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?Pn(e,!!l.multiple,a,!1):l.defaultValue!=null&&Pn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Nx(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(O(166));if(n=Qs(Rl.current),Qs(Qt.current),cr(t)){if(l=t.stateNode,n=t.memoizedProps,l[Yt]=t,(a=l.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:dr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dr(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Yt]=t,t.stateNode=l}return ot(t),null;case 13:if(Me(Ue),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Et!==null&&t.mode&1&&!(t.flags&128))Um(),zn(),t.flags|=98560,a=!1;else if(a=cr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[Yt]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),a=!1}else zt!==null&&(eo(zt),zt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?et===0&&(et=3):Go())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Fn(),Yi(e,t),e===null&&Ll(t.stateNode.containerInfo),ot(t),null;case 10:return Do(t.type._context),ot(t),null;case 17:return bt(t.type)&&Vr(),ot(t),null;case 19:if(Me(Ue),a=t.memoizedState,a===null)return ot(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)rl(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gr(e),i!==null){for(t.flags|=128,rl(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ue,Ue.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ke()>Vn&&(t.flags|=128,l=!0,rl(a,!1),t.lanes=4194304)}else{if(!l)if(e=Gr(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Be)return ot(t),null}else 2*Ke()-a.renderingStartTime>Vn&&n!==1073741824&&(t.flags|=128,l=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=Ue.current,_e(Ue,l?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return Ko(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?St&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function xh(e,t){switch(Ao(t),t.tag){case 1:return bt(t.type)&&Vr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),Me(jt),Me(ct),Bo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oo(t),null;case 13:if(Me(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ue),null;case 4:return Fn(),null;case 10:return Do(t.type._context),null;case 22:case 23:return Ko(),null;case 24:return null;default:return null}}var xr=!1,dt=!1,fh=typeof WeakSet=="function"?WeakSet:Set,Y=null;function An(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){We(e,t,l)}else n.current=null}function qi(e,t,n){try{n()}catch(l){We(e,t,l)}}var Jc=!1;function hh(e,t){if(Li=zr,e=Cm(),Co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,d=-1,m=0,j=0,h=e,g=null;t:for(;;){for(var b;h!==n||r!==0&&h.nodeType!==3||(o=i+r),h!==a||l!==0&&h.nodeType!==3||(d=i+l),h.nodeType===3&&(i+=h.nodeValue.length),(b=h.firstChild)!==null;)g=h,h=b;for(;;){if(h===e)break t;if(g===n&&++m===r&&(o=i),g===a&&++j===l&&(d=i),(b=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=b}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pi={focusedElem:e,selectionRange:n},zr=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,x=t.stateNode,u=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ot(t.type,w),E);x.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(p){We(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=Jc,Jc=!1,y}function jl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&qi(t,n,a)}r=r.next}while(r!==l)}}function pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Qi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wx(e){var t=e.alternate;t!==null&&(e.alternate=null,wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[_l],delete t[Ri],delete t[Xf],delete t[Jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sx(e){return e.tag===5||e.tag===3||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ki(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$r));else if(l!==4&&(e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}function Gi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Gi(e,t,n),e=e.sibling;e!==null;)Gi(e,t,n),e=e.sibling}var lt=null,Bt=!1;function cs(e,t,n){for(n=n.child;n!==null;)Ex(e,t,n),n=n.sibling}function Ex(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oa,n)}catch{}switch(n.tag){case 5:dt||An(n,t);case 6:var l=lt,r=Bt;lt=null,cs(e,t,n),lt=l,Bt=r,lt!==null&&(Bt?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Bt?(e=lt,n=n.stateNode,e.nodeType===8?Ka(e.parentNode,n):e.nodeType===1&&Ka(e,n),Cl(e)):Ka(lt,n.stateNode));break;case 4:l=lt,r=Bt,lt=n.stateNode.containerInfo,Bt=!0,cs(e,t,n),lt=l,Bt=r;break;case 0:case 11:case 14:case 15:if(!dt&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&qi(n,t,i),r=r.next}while(r!==l)}cs(e,t,n);break;case 1:if(!dt&&(An(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){We(n,t,o)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:n.mode&1?(dt=(l=dt)||n.memoizedState!==null,cs(e,t,n),dt=l):cs(e,t,n);break;default:cs(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fh),t.forEach(function(l){var r=Sh.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:lt=o.stateNode,Bt=!1;break e;case 3:lt=o.stateNode.containerInfo,Bt=!0;break e;case 4:lt=o.stateNode.containerInfo,Bt=!0;break e}o=o.return}if(lt===null)throw Error(O(160));Ex(a,i,r),lt=null,Bt=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(m){We(r,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kx(t,e),t=t.sibling}function kx(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Ht(e),l&4){try{jl(3,e,e.return),pa(3,e)}catch(w){We(e,e.return,w)}try{jl(5,e,e.return)}catch(w){We(e,e.return,w)}}break;case 1:Mt(t,e),Ht(e),l&512&&n!==null&&An(n,n.return);break;case 5:if(Mt(t,e),Ht(e),l&512&&n!==null&&An(n,n.return),e.flags&32){var r=e.stateNode;try{wl(r,"")}catch(w){We(e,e.return,w)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Qu(r,a),bi(o,i);var m=bi(o,a);for(i=0;i<d.length;i+=2){var j=d[i],h=d[i+1];j==="style"?Zu(r,h):j==="dangerouslySetInnerHTML"?Xu(r,h):j==="children"?wl(r,h):fo(r,j,h,m)}switch(o){case"input":hi(r,a);break;case"textarea":Ku(r,a);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Pn(r,!!a.multiple,b,!1):g!==!!a.multiple&&(a.defaultValue!=null?Pn(r,!!a.multiple,a.defaultValue,!0):Pn(r,!!a.multiple,a.multiple?[]:"",!1))}r[_l]=a}catch(w){We(e,e.return,w)}}break;case 6:if(Mt(t,e),Ht(e),l&4){if(e.stateNode===null)throw Error(O(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(w){We(e,e.return,w)}}break;case 3:if(Mt(t,e),Ht(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(w){We(e,e.return,w)}break;case 4:Mt(t,e),Ht(e);break;case 13:Mt(t,e),Ht(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(qo=Ke())),l&4&&eu(e);break;case 22:if(j=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(m=dt)||j,Mt(t,e),dt=m):Mt(t,e),Ht(e),l&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!j&&e.mode&1)for(Y=e,j=e.child;j!==null;){for(h=Y=j;Y!==null;){switch(g=Y,b=g.child,g.tag){case 0:case 11:case 14:case 15:jl(4,g,g.return);break;case 1:An(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){l=g,n=g.return;try{t=l,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){We(l,n,w)}}break;case 5:An(g,g.return);break;case 22:if(g.memoizedState!==null){su(h);continue}}b!==null?(b.return=g,Y=b):su(h)}j=j.sibling}e:for(j=null,h=e;;){if(h.tag===5){if(j===null){j=h;try{r=h.stateNode,m?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Ju("display",i))}catch(w){We(e,e.return,w)}}}else if(h.tag===6){if(j===null)try{h.stateNode.nodeValue=m?"":h.memoizedProps}catch(w){We(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;j===h&&(j=null),h=h.return}j===h&&(j=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mt(t,e),Ht(e),l&4&&eu(e);break;case 21:break;default:Mt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sx(n)){var l=n;break e}n=n.return}throw Error(O(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(wl(r,""),l.flags&=-33);var a=Zc(e);Gi(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=Zc(e);Ki(e,o,i);break;default:throw Error(O(161))}}catch(d){We(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ph(e,t,n){Y=e,Cx(e)}function Cx(e,t,n){for(var l=(e.mode&1)!==0;Y!==null;){var r=Y,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||xr;if(!i){var o=r.alternate,d=o!==null&&o.memoizedState!==null||dt;o=xr;var m=dt;if(xr=i,(dt=d)&&!m)for(Y=r;Y!==null;)i=Y,d=i.child,i.tag===22&&i.memoizedState!==null?nu(r):d!==null?(d.return=i,Y=d):nu(r);for(;a!==null;)Y=a,Cx(a),a=a.sibling;Y=r,xr=o,dt=m}tu(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,Y=a):tu(e)}}function tu(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||pa(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!dt)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zc(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var j=m.memoizedState;if(j!==null){var h=j.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}dt||t.flags&512&&Qi(t)}catch(g){We(t,t.return,g)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function su(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function nu(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(d){We(t,n,d)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(d){We(t,r,d)}}var a=t.return;try{Qi(t)}catch(d){We(t,a,d)}break;case 5:var i=t.return;try{Qi(t)}catch(d){We(t,i,d)}}}catch(d){We(t,t.return,d)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var vh=Math.ceil,Zr=os.ReactCurrentDispatcher,Wo=os.ReactCurrentOwner,Dt=os.ReactCurrentBatchConfig,Ne=0,nt=null,Xe=null,rt=0,St=0,Ln=Ps(0),et=0,Bl=null,tn=0,va=0,Yo=0,bl=null,vt=null,qo=0,Vn=1/0,Zt=null,ea=!1,Xi=null,Ss=null,fr=!1,vs=null,ta=0,yl=0,Ji=null,Lr=-1,Pr=0;function mt(){return Ne&6?Ke():Lr!==-1?Lr:Lr=Ke()}function Es(e){return e.mode&1?Ne&2&&rt!==0?rt&-rt:eh.transition!==null?(Pr===0&&(Pr=um()),Pr):(e=ke,e!==0||(e=window.event,e=e===void 0?16:gm(e.type)),e):1}function Ft(e,t,n,l){if(50<yl)throw yl=0,Ji=null,Error(O(185));$l(e,n,l),(!(Ne&2)||e!==nt)&&(e===nt&&(!(Ne&2)&&(va|=n),et===4&&hs(e,rt)),yt(e,l),n===1&&Ne===0&&!(t.mode&1)&&(Vn=Ke()+500,xa&&_s()))}function yt(e,t){var n=e.callbackNode;Z0(e,t);var l=Br(e,e===nt?rt:0);if(l===0)n!==null&&mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&mc(n),t===1)e.tag===0?Zf(lu.bind(null,e)):Om(lu.bind(null,e)),Kf(function(){!(Ne&6)&&_s()}),n=null;else{switch(mm(l)){case 1:n=jo;break;case 4:n=dm;break;case 16:n=Or;break;case 536870912:n=cm;break;default:n=Or}n=Ix(n,Tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tx(e,t){if(Lr=-1,Pr=0,Ne&6)throw Error(O(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var l=Br(e,e===nt?rt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=sa(e,l);else{t=l;var r=Ne;Ne|=2;var a=Lx();(nt!==e||rt!==t)&&(Zt=null,Vn=Ke()+500,Ks(e,t));do try{bh();break}catch(o){Ax(e,o)}while(!0);_o(),Zr.current=a,Ne=r,Xe!==null?t=0:(nt=null,rt=0,t=et)}if(t!==0){if(t===2&&(r=Ei(e),r!==0&&(l=r,t=Zi(e,r))),t===1)throw n=Bl,Ks(e,0),hs(e,l),yt(e,Ke()),n;if(t===6)hs(e,l);else{if(r=e.current.alternate,!(l&30)&&!gh(r)&&(t=sa(e,l),t===2&&(a=Ei(e),a!==0&&(l=a,t=Zi(e,a))),t===1))throw n=Bl,Ks(e,0),hs(e,l),yt(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(O(345));case 2:Hs(e,vt,Zt);break;case 3:if(hs(e,l),(l&130023424)===l&&(t=qo+500-Ke(),10<t)){if(Br(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){mt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Di(Hs.bind(null,e,vt,Zt),t);break}Hs(e,vt,Zt);break;case 4:if(hs(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-Ut(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=Ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*vh(l/1960))-l,10<l){e.timeoutHandle=Di(Hs.bind(null,e,vt,Zt),l);break}Hs(e,vt,Zt);break;case 5:Hs(e,vt,Zt);break;default:throw Error(O(329))}}}return yt(e,Ke()),e.callbackNode===n?Tx.bind(null,e):null}function Zi(e,t){var n=bl;return e.current.memoizedState.isDehydrated&&(Ks(e,t).flags|=256),e=sa(e,t),e!==2&&(t=vt,vt=n,t!==null&&eo(t)),e}function eo(e){vt===null?vt=e:vt.push.apply(vt,e)}function gh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!$t(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~Yo,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),l=1<<n;e[n]=-1,t&=~l}}function lu(e){if(Ne&6)throw Error(O(327));Mn();var t=Br(e,0);if(!(t&1))return yt(e,Ke()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var l=Ei(e);l!==0&&(t=l,n=Zi(e,l))}if(n===1)throw n=Bl,Ks(e,0),hs(e,t),yt(e,Ke()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,vt,Zt),yt(e,Ke()),null}function Qo(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(Vn=Ke()+500,xa&&_s())}}function sn(e){vs!==null&&vs.tag===0&&!(Ne&6)&&Mn();var t=Ne;Ne|=1;var n=Dt.transition,l=ke;try{if(Dt.transition=null,ke=1,e)return e()}finally{ke=l,Dt.transition=n,Ne=t,!(Ne&6)&&_s()}}function Ko(){St=Ln.current,Me(Ln)}function Ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qf(n)),Xe!==null)for(n=Xe.return;n!==null;){var l=n;switch(Ao(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Vr();break;case 3:Fn(),Me(jt),Me(ct),Bo();break;case 5:Oo(l);break;case 4:Fn();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Do(l.type._context);break;case 22:case 23:Ko()}n=n.return}if(nt=e,Xe=e=ks(e.current,null),rt=St=t,et=0,Bl=null,Yo=va=tn=0,vt=bl=null,qs!==null){for(t=0;t<qs.length;t++)if(n=qs[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}qs=null}return e}function Ax(e,t){do{var n=Xe;try{if(_o(),Cr.current=Jr,Xr){for(var l=Fe.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Xr=!1}if(en=0,st=Ze=Fe=null,gl=!1,Il=0,Wo.current=null,n===null||n.return===null){et=1,Bl=t,Xe=null;break}e:{var a=e,i=n.return,o=n,d=t;if(t=rt,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,j=o,h=j.tag;if(!(j.mode&1)&&(h===0||h===11||h===15)){var g=j.alternate;g?(j.updateQueue=g.updateQueue,j.memoizedState=g.memoizedState,j.lanes=g.lanes):(j.updateQueue=null,j.memoizedState=null)}var b=Wc(i);if(b!==null){b.flags&=-257,Yc(b,i,o,a,t),b.mode&1&&Hc(a,m,t),t=b,d=m;var y=t.updateQueue;if(y===null){var w=new Set;w.add(d),t.updateQueue=w}else y.add(d);break e}else{if(!(t&1)){Hc(a,m,t),Go();break e}d=Error(O(426))}}else if(Be&&o.mode&1){var E=Wc(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Yc(E,i,o,a,t),Lo($n(d,o));break e}}a=d=$n(d,o),et!==4&&(et=2),bl===null?bl=[a]:bl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=mx(a,d,t);Bc(a,x);break e;case 1:o=d;var u=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ss===null||!Ss.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var p=xx(a,o,t);Bc(a,p);break e}}a=a.return}while(a!==null)}_x(n)}catch(N){t=N,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Lx(){var e=Zr.current;return Zr.current=Jr,e===null?Jr:e}function Go(){(et===0||et===3||et===2)&&(et=4),nt===null||!(tn&268435455)&&!(va&268435455)||hs(nt,rt)}function sa(e,t){var n=Ne;Ne|=2;var l=Lx();(nt!==e||rt!==t)&&(Zt=null,Ks(e,t));do try{jh();break}catch(r){Ax(e,r)}while(!0);if(_o(),Ne=n,Zr.current=l,Xe!==null)throw Error(O(261));return nt=null,rt=0,et}function jh(){for(;Xe!==null;)Px(Xe)}function bh(){for(;Xe!==null&&!H0();)Px(Xe)}function Px(e){var t=Rx(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?_x(e):Xe=t,Wo.current=null}function _x(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xh(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}else if(n=mh(n,t,St),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function Hs(e,t,n){var l=ke,r=Dt.transition;try{Dt.transition=null,ke=1,yh(e,t,n,l)}finally{Dt.transition=r,ke=l}return null}function yh(e,t,n,l){do Mn();while(vs!==null);if(Ne&6)throw Error(O(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ef(e,a),e===nt&&(Xe=nt=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fr||(fr=!0,Ix(Or,function(){return Mn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Dt.transition,Dt.transition=null;var i=ke;ke=1;var o=Ne;Ne|=4,Wo.current=null,hh(e,n),kx(n,e),Ff(Pi),zr=!!Li,Pi=Li=null,e.current=n,ph(n),W0(),Ne=o,ke=i,Dt.transition=a}else e.current=n;if(fr&&(fr=!1,vs=e,ta=r),a=e.pendingLanes,a===0&&(Ss=null),Q0(n.stateNode),yt(e,Ke()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(ea)throw ea=!1,e=Xi,Xi=null,e;return ta&1&&e.tag!==0&&Mn(),a=e.pendingLanes,a&1?e===Ji?yl++:(yl=0,Ji=e):yl=0,_s(),null}function Mn(){if(vs!==null){var e=mm(ta),t=Dt.transition,n=ke;try{if(Dt.transition=null,ke=16>e?16:e,vs===null)var l=!1;else{if(e=vs,vs=null,ta=0,Ne&6)throw Error(O(331));var r=Ne;for(Ne|=4,Y=e.current;Y!==null;){var a=Y,i=a.child;if(Y.flags&16){var o=a.deletions;if(o!==null){for(var d=0;d<o.length;d++){var m=o[d];for(Y=m;Y!==null;){var j=Y;switch(j.tag){case 0:case 11:case 15:jl(8,j,a)}var h=j.child;if(h!==null)h.return=j,Y=h;else for(;Y!==null;){j=Y;var g=j.sibling,b=j.return;if(wx(j),j===m){Y=null;break}if(g!==null){g.return=b,Y=g;break}Y=b}}}var y=a.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Y=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Y=i;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}var u=e.current;for(Y=u;Y!==null;){i=Y;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,Y=f;else e:for(i=u;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pa(9,o)}}catch(N){We(o,o.return,N)}if(o===i){Y=null;break e}var p=o.sibling;if(p!==null){p.return=o.return,Y=p;break e}Y=o.return}}if(Ne=r,_s(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oa,e)}catch{}l=!0}return l}finally{ke=n,Dt.transition=t}}return!1}function ru(e,t,n){t=$n(n,t),t=mx(e,t,1),e=ws(e,t,1),t=mt(),e!==null&&($l(e,1,t),yt(e,t))}function We(e,t,n){if(e.tag===3)ru(e,e,n);else for(;t!==null;){if(t.tag===3){ru(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ss===null||!Ss.has(l))){e=$n(n,e),e=xx(t,e,1),t=ws(t,e,1),e=mt(),t!==null&&($l(t,1,e),yt(t,e));break}}t=t.return}}function Nh(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(rt&n)===n&&(et===4||et===3&&(rt&130023424)===rt&&500>Ke()-qo?Ks(e,0):Yo|=n),yt(e,t)}function Dx(e,t){t===0&&(e.mode&1?(t=lr,lr<<=1,!(lr&130023424)&&(lr=4194304)):t=1);var n=mt();e=as(e,t),e!==null&&($l(e,t,n),yt(e,n))}function wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dx(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(O(314))}l!==null&&l.delete(t),Dx(e,n)}var Rx;Rx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,uh(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Be&&t.flags&1048576&&Bm(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ar(e,t),e=t.pendingProps;var r=Bn(t,ct.current);In(t,n),r=Uo(null,t,l,e,r,n);var a=Fo();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(l)?(a=!0,Hr(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Io(t),r.updater=ha,t.stateNode=r,r._reactInternals=t,Ui(t,l,e,n),t=Vi(null,t,l,!0,a,n)):(t.tag=0,Be&&a&&To(t),ut(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Ar(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=kh(l),e=Ot(l,e),r){case 0:t=$i(null,t,l,e,n);break e;case 1:t=Kc(null,t,l,e,n);break e;case 11:t=qc(null,t,l,e,n);break e;case 14:t=Qc(null,t,l,Ot(l.type,e),n);break e}throw Error(O(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),$i(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),Kc(e,t,l,r,n);case 3:e:{if(vx(t),e===null)throw Error(O(387));l=t.pendingProps,a=t.memoizedState,r=a.element,Hm(e,t),Kr(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=$n(Error(O(423)),t),t=Gc(e,t,l,n,r);break e}else if(l!==r){r=$n(Error(O(424)),t),t=Gc(e,t,l,n,r);break e}else for(Et=Ns(t.stateNode.containerInfo.firstChild),kt=t,Be=!0,zt=null,n=$m(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),l===r){t=is(e,t,n);break e}ut(e,t,l,n)}t=t.child}return t;case 5:return Wm(t),e===null&&Oi(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,_i(l,r)?i=null:a!==null&&_i(l,a)&&(t.flags|=32),px(e,t),ut(e,t,i,n),t.child;case 6:return e===null&&Oi(t),null;case 13:return gx(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Un(t,null,l,n):ut(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),qc(e,t,l,r,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,_e(qr,l._currentValue),l._currentValue=i,a!==null)if($t(a.value,i)){if(a.children===r.children&&!jt.current){t=is(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var d=o.firstContext;d!==null;){if(d.context===l){if(a.tag===1){d=ns(-1,n&-n),d.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var j=m.pending;j===null?d.next=d:(d.next=j.next,j.next=d),m.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Bi(a.return,n,t),o.lanes|=n;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(O(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Bi(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ut(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,In(t,n),r=Rt(r),l=l(r),t.flags|=1,ut(e,t,l,n),t.child;case 14:return l=t.type,r=Ot(l,t.pendingProps),r=Ot(l.type,r),Qc(e,t,l,r,n);case 15:return fx(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:Ot(l,r),Ar(e,t),t.tag=1,bt(l)?(e=!0,Hr(t)):e=!1,In(t,n),ux(t,l,r),Ui(t,l,r,n),Vi(null,t,l,!0,e,n);case 19:return jx(e,t,n);case 22:return hx(e,t,n)}throw Error(O(156,t.tag))};function Ix(e,t){return om(e,t)}function Eh(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,l){return new Eh(e,t,n,l)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kh(e){if(typeof e=="function")return Xo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===po)return 11;if(e===vo)return 14}return 2}function ks(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _r(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Xo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bn:return Gs(n.children,r,a,t);case ho:i=8,r|=8;break;case ci:return e=_t(12,n,t,r|2),e.elementType=ci,e.lanes=a,e;case ui:return e=_t(13,n,t,r),e.elementType=ui,e.lanes=a,e;case mi:return e=_t(19,n,t,r),e.elementType=mi,e.lanes=a,e;case Wu:return ga(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vu:i=10;break e;case Hu:i=9;break e;case po:i=11;break e;case vo:i=14;break e;case ms:i=16,l=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=_t(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function Gs(e,t,n,l){return e=_t(7,e,l,t),e.lanes=n,e}function ga(e,t,n,l){return e=_t(22,e,l,t),e.elementType=Wu,e.lanes=n,e.stateNode={isHidden:!1},e}function ni(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function li(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ch(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jo(e,t,n,l,r,a,i,o,d){return e=new Ch(e,t,n,o,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_t(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(a),e}function Th(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Mx(e){if(!e)return As;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(bt(n))return Mm(e,n,t)}return t}function Ox(e,t,n,l,r,a,i,o,d){return e=Jo(n,l,!0,e,r,a,i,o,d),e.context=Mx(null),n=e.current,l=mt(),r=Es(n),a=ns(l,r),a.callback=t??null,ws(n,a,r),e.current.lanes=r,$l(e,r,l),yt(e,l),e}function ja(e,t,n,l){var r=t.current,a=mt(),i=Es(r);return n=Mx(n),t.context===null?t.context=n:t.pendingContext=n,t=ns(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=ws(r,t,i),e!==null&&(Ft(e,r,i,a),kr(e,r,i)),i}function na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function au(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zo(e,t){au(e,t),(e=e.alternate)&&au(e,t)}function Ah(){return null}var Bx=typeof reportError=="function"?reportError:function(e){console.error(e)};function ed(e){this._internalRoot=e}ba.prototype.render=ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ja(e,t,null,null)};ba.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){ja(null,e,null,null)}),t[rs]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fs.length&&t!==0&&t<fs[n].priority;n++);fs.splice(n,0,e),n===0&&vm(e)}};function td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function Lh(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var m=na(i);a.call(m)}}var i=Ox(t,l,e,0,null,!1,!1,"",iu);return e._reactRootContainer=i,e[rs]=i.current,Ll(e.nodeType===8?e.parentNode:e),sn(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var m=na(d);o.call(m)}}var d=Jo(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=d,e[rs]=d.current,Ll(e.nodeType===8?e.parentNode:e),sn(function(){ja(t,d,n,l)}),d}function Na(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var d=na(i);o.call(d)}}ja(t,i,e,r)}else i=Lh(n,t,e,r,l);return na(i)}xm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ul(t.pendingLanes);n!==0&&(bo(t,n|1),yt(t,Ke()),!(Ne&6)&&(Vn=Ke()+500,_s()))}break;case 13:sn(function(){var l=as(e,1);if(l!==null){var r=mt();Ft(l,e,1,r)}}),Zo(e,1)}};yo=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var n=mt();Ft(t,e,134217728,n)}Zo(e,134217728)}};fm=function(e){if(e.tag===13){var t=Es(e),n=as(e,t);if(n!==null){var l=mt();Ft(n,e,t,l)}Zo(e,t)}};hm=function(){return ke};pm=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};Ni=function(e,t,n){switch(t){case"input":if(hi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=ma(l);if(!r)throw Error(O(90));qu(l),hi(l,r)}}}break;case"textarea":Ku(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};sm=Qo;nm=sn;var Ph={usingClientEntryPoint:!1,Events:[Hl,Sn,ma,em,tm,Qo]},al={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_h={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=am(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||Ah,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{oa=hr.inject(_h),qt=hr}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(t))throw Error(O(200));return Th(e,t,null,n)};Tt.createRoot=function(e,t){if(!td(e))throw Error(O(299));var n=!1,l="",r=Bx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Jo(e,1,!1,null,null,n,!1,l,r),e[rs]=t.current,Ll(e.nodeType===8?e.parentNode:e),new ed(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=am(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return sn(e)};Tt.hydrate=function(e,t,n){if(!ya(t))throw Error(O(200));return Na(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!td(e))throw Error(O(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=Bx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ox(t,null,e,1,n??null,r,!1,a,i),e[rs]=t.current,Ll(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ba(t)};Tt.render=function(e,t,n){if(!ya(t))throw Error(O(200));return Na(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!ya(e))throw Error(O(40));return e._reactRootContainer?(sn(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};Tt.unstable_batchedUpdates=Qo;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!ya(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Na(e,t,n,!1,l)};Tt.version="18.3.1-next-f1338f8080-20240426";function zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zx)}catch(e){console.error(e)}}zx(),zu.exports=Tt;var Dh=zu.exports,ou=Dh;oi.createRoot=ou.createRoot,oi.hydrateRoot=ou.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},zl.apply(this,arguments)}var gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gs||(gs={}));const du="popstate";function Rh(e){e===void 0&&(e={});function t(l,r){let{pathname:a,search:i,hash:o}=l.location;return to("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(l,r){return typeof r=="string"?r:la(r)}return Mh(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ih(){return Math.random().toString(36).substr(2,8)}function cu(e,t){return{usr:e.state,key:e.key,idx:t}}function to(e,t,n,l){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qn(t):t,{state:n,key:t&&t.key||l||Ih()})}function la(e){let{pathname:t="/",search:n="",hash:l=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Qn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Mh(e,t,n,l){l===void 0&&(l={});let{window:r=document.defaultView,v5Compat:a=!1}=l,i=r.history,o=gs.Pop,d=null,m=j();m==null&&(m=0,i.replaceState(zl({},i.state,{idx:m}),""));function j(){return(i.state||{idx:null}).idx}function h(){o=gs.Pop;let E=j(),x=E==null?null:E-m;m=E,d&&d({action:o,location:w.location,delta:x})}function g(E,x){o=gs.Push;let u=to(w.location,E,x);m=j()+1;let f=cu(u,m),p=w.createHref(u);try{i.pushState(f,"",p)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(p)}a&&d&&d({action:o,location:w.location,delta:1})}function b(E,x){o=gs.Replace;let u=to(w.location,E,x);m=j();let f=cu(u,m),p=w.createHref(u);i.replaceState(f,"",p),a&&d&&d({action:o,location:w.location,delta:0})}function y(E){let x=r.location.origin!=="null"?r.location.origin:r.location.href,u=typeof E=="string"?E:la(E);return u=u.replace(/ $/,"%20"),$e(x,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,x)}let w={get action(){return o},get location(){return e(r,i)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(du,h),d=E,()=>{r.removeEventListener(du,h),d=null}},createHref(E){return t(r,E)},createURL:y,encodeLocation(E){let x=y(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:b,go(E){return i.go(E)}};return w}var uu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uu||(uu={}));function Oh(e,t,n){return n===void 0&&(n="/"),Bh(e,t,n)}function Bh(e,t,n,l){let r=typeof t=="string"?Qn(t):t,a=Hn(r.pathname||"/",n);if(a==null)return null;let i=Ux(e);zh(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let m=Gh(a);o=Qh(i[d],m)}return o}function Ux(e,t,n,l){t===void 0&&(t=[]),n===void 0&&(n=[]),l===void 0&&(l="");let r=(a,i,o)=>{let d={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};d.relativePath.startsWith("/")&&($e(d.relativePath.startsWith(l),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(l.length));let m=Cs([l,d.relativePath]),j=n.concat(d);a.children&&a.children.length>0&&($e(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Ux(a.children,t,j,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:Yh(m,a.index),routesMeta:j})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let d of Fx(a.path))r(a,i,d)}),t}function Fx(e){let t=e.split("/");if(t.length===0)return[];let[n,...l]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(l.length===0)return r?[a,""]:[a];let i=Fx(l.join("/")),o=[];return o.push(...i.map(d=>d===""?a:[a,d].join("/"))),r&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function zh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qh(t.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const Uh=/^:[\w-]+$/,Fh=3,$h=2,Vh=1,Hh=10,Wh=-2,mu=e=>e==="*";function Yh(e,t){let n=e.split("/"),l=n.length;return n.some(mu)&&(l+=Wh),t&&(l+=$h),n.filter(r=>!mu(r)).reduce((r,a)=>r+(Uh.test(a)?Fh:a===""?Vh:Hh),l)}function qh(e,t){return e.length===t.length&&e.slice(0,-1).every((l,r)=>l===t[r])?e[e.length-1]-t[t.length-1]:0}function Qh(e,t,n){let{routesMeta:l}=e,r={},a="/",i=[];for(let o=0;o<l.length;++o){let d=l[o],m=o===l.length-1,j=a==="/"?t:t.slice(a.length)||"/",h=so({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},j),g=d.route;if(!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:Cs([a,h.pathname]),pathnameBase:tp(Cs([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=Cs([a,h.pathnameBase]))}return i}function so(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,l]=Kh(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:l.reduce((m,j,h)=>{let{paramName:g,isOptional:b}=j;if(g==="*"){let w=o[h]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[h];return b&&!y?m[g]=void 0:m[g]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:i,pattern:e}}function Kh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(l.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),l]}function Gh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,l=e.charAt(n);return l&&l!=="/"?null:e.slice(n)||"/"}const Xh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=e=>Xh.test(e);function Zh(e,t){t===void 0&&(t="/");let{pathname:n,search:l="",hash:r=""}=typeof e=="string"?Qn(e):e,a;if(n)if(Jh(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),sd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=xu(n.substring(1),"/"):a=xu(n,t)}else a=t;return{pathname:a,search:sp(l),hash:np(r)}}function xu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ri(e,t,n,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ep(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nd(e,t){let n=ep(e);return t?n.map((l,r)=>r===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function ld(e,t,n,l){l===void 0&&(l=!1);let r;typeof e=="string"?r=Qn(e):(r=zl({},e),$e(!r.pathname||!r.pathname.includes("?"),ri("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),ri("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),ri("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let h=t.length-1;if(!l&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?t[h]:"/"}let d=Zh(r,o),m=i&&i!=="/"&&i.endsWith("/"),j=(a||i===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||j)&&(d.pathname+="/"),d}const Cs=e=>e.join("/").replace(/\/\/+/g,"/"),tp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,np=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $x=["post","put","patch","delete"];new Set($x);const rp=["get",...$x];new Set(rp);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ul.apply(this,arguments)}const wa=c.createContext(null),Vx=c.createContext(null),ds=c.createContext(null),Sa=c.createContext(null),Kt=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Hx=c.createContext(null);function ap(e,t){let{relative:n}=t===void 0?{}:t;Kn()||$e(!1);let{basename:l,navigator:r}=c.useContext(ds),{hash:a,pathname:i,search:o}=Ea(e,{relative:n}),d=i;return l!=="/"&&(d=i==="/"?l:Cs([l,i])),r.createHref({pathname:d,search:o,hash:a})}function Kn(){return c.useContext(Sa)!=null}function rn(){return Kn()||$e(!1),c.useContext(Sa).location}function Wx(e){c.useContext(ds).static||c.useLayoutEffect(e)}function Yl(){let{isDataRoute:e}=c.useContext(Kt);return e?yp():ip()}function ip(){Kn()||$e(!1);let e=c.useContext(wa),{basename:t,future:n,navigator:l}=c.useContext(ds),{matches:r}=c.useContext(Kt),{pathname:a}=rn(),i=JSON.stringify(nd(r,n.v7_relativeSplatPath)),o=c.useRef(!1);return Wx(()=>{o.current=!0}),c.useCallback(function(m,j){if(j===void 0&&(j={}),!o.current)return;if(typeof m=="number"){l.go(m);return}let h=ld(m,JSON.parse(i),a,j.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Cs([t,h.pathname])),(j.replace?l.replace:l.push)(h,j.state,j)},[t,l,i,a,e])}const op=c.createContext(null);function dp(e){let t=c.useContext(Kt).outlet;return t&&c.createElement(op.Provider,{value:e},t)}function Yx(){let{matches:e}=c.useContext(Kt),t=e[e.length-1];return t?t.params:{}}function Ea(e,t){let{relative:n}=t===void 0?{}:t,{future:l}=c.useContext(ds),{matches:r}=c.useContext(Kt),{pathname:a}=rn(),i=JSON.stringify(nd(r,l.v7_relativeSplatPath));return c.useMemo(()=>ld(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function cp(e,t){return up(e,t)}function up(e,t,n,l){Kn()||$e(!1);let{navigator:r}=c.useContext(ds),{matches:a}=c.useContext(Kt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let m=rn(),j;if(t){var h;let E=typeof t=="string"?Qn(t):t;d==="/"||(h=E.pathname)!=null&&h.startsWith(d)||$e(!1),j=E}else j=m;let g=j.pathname||"/",b=g;if(d!=="/"){let E=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Oh(e,{pathname:b}),w=pp(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Cs([d,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Cs([d,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,l);return t&&w?c.createElement(Sa.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:gs.Pop}},w):w}function mp(){let e=bp(),t=lp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const xp=c.createElement(mp,null);class fp extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Kt.Provider,{value:this.props.routeContext},c.createElement(Hx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hp(e){let{routeContext:t,match:n,children:l}=e,r=c.useContext(wa);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Kt.Provider,{value:t},l)}function pp(e,t,n,l){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),l===void 0&&(l=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=l)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let j=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);j>=0||$e(!1),i=i.slice(0,Math.min(i.length,j+1))}let d=!1,m=-1;if(n&&l&&l.v7_partialHydration)for(let j=0;j<i.length;j++){let h=i[j];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=j),h.route.id){let{loaderData:g,errors:b}=n,y=h.route.loader&&g[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||y){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((j,h,g)=>{let b,y=!1,w=null,E=null;n&&(b=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||xp,d&&(m<0&&g===0?(Np("route-fallback"),y=!0,E=null):m===g&&(y=!0,E=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,g+1)),u=()=>{let f;return b?f=w:y?f=E:h.route.Component?f=c.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=j,c.createElement(hp,{match:h,routeContext:{outlet:j,matches:x,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?c.createElement(fp,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:u(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):u()},null)}var qx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qx||{}),Qx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qx||{});function vp(e){let t=c.useContext(wa);return t||$e(!1),t}function gp(e){let t=c.useContext(Vx);return t||$e(!1),t}function jp(e){let t=c.useContext(Kt);return t||$e(!1),t}function Kx(e){let t=jp(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function bp(){var e;let t=c.useContext(Hx),n=gp(),l=Kx();return t!==void 0?t:(e=n.errors)==null?void 0:e[l]}function yp(){let{router:e}=vp(qx.UseNavigateStable),t=Kx(Qx.UseNavigateStable),n=c.useRef(!1);return Wx(()=>{n.current=!0}),c.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ul({fromRouteId:t},a)))},[e,t])}const fu={};function Np(e,t,n){fu[e]||(fu[e]=!0)}function wp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Sp(e){let{to:t,replace:n,state:l,relative:r}=e;Kn()||$e(!1);let{future:a,static:i}=c.useContext(ds),{matches:o}=c.useContext(Kt),{pathname:d}=rn(),m=Yl(),j=ld(t,nd(o,a.v7_relativeSplatPath),d,r==="path"),h=JSON.stringify(j);return c.useEffect(()=>m(JSON.parse(h),{replace:n,state:l,relative:r}),[m,h,r,n,l]),null}function Ep(e){return dp(e.context)}function us(e){$e(!1)}function kp(e){let{basename:t="/",children:n=null,location:l,navigationType:r=gs.Pop,navigator:a,static:i=!1,future:o}=e;Kn()&&$e(!1);let d=t.replace(/^\/*/,"/"),m=c.useMemo(()=>({basename:d,navigator:a,static:i,future:Ul({v7_relativeSplatPath:!1},o)}),[d,o,a,i]);typeof l=="string"&&(l=Qn(l));let{pathname:j="/",search:h="",hash:g="",state:b=null,key:y="default"}=l,w=c.useMemo(()=>{let E=Hn(j,d);return E==null?null:{location:{pathname:E,search:h,hash:g,state:b,key:y},navigationType:r}},[d,j,h,g,b,y,r]);return w==null?null:c.createElement(ds.Provider,{value:m},c.createElement(Sa.Provider,{children:n,value:w}))}function Cp(e){let{children:t,location:n}=e;return cp(no(t),n)}new Promise(()=>{});function no(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(l,r)=>{if(!c.isValidElement(l))return;let a=[...t,r];if(l.type===c.Fragment){n.push.apply(n,no(l.props.children,a));return}l.type!==us&&$e(!1),!l.props.index||!l.props.children||$e(!1);let i={id:l.props.id||a.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=no(l.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ra.apply(this,arguments)}function Gx(e,t){if(e==null)return{};var n={},l=Object.keys(e),r,a;for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Tp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ap(e,t){return e.button===0&&(!t||t==="_self")&&!Tp(e)}const Lp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pp=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_p="6";try{window.__reactRouterVersion=_p}catch{}const Dp=c.createContext({isTransitioning:!1}),Rp="startTransition",hu=y0[Rp];function Ip(e){let{basename:t,children:n,future:l,window:r}=e,a=c.useRef();a.current==null&&(a.current=Rh({window:r,v5Compat:!0}));let i=a.current,[o,d]=c.useState({action:i.action,location:i.location}),{v7_startTransition:m}=l||{},j=c.useCallback(h=>{m&&hu?hu(()=>d(h)):d(h)},[d,m]);return c.useLayoutEffect(()=>i.listen(j),[i,j]),c.useEffect(()=>wp(l),[l]),c.createElement(kp,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:l})}const Mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Op=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=c.forwardRef(function(t,n){let{onClick:l,relative:r,reloadDocument:a,replace:i,state:o,target:d,to:m,preventScrollReset:j,viewTransition:h}=t,g=Gx(t,Lp),{basename:b}=c.useContext(ds),y,w=!1;if(typeof m=="string"&&Op.test(m)&&(y=m,Mp))try{let f=new URL(window.location.href),p=m.startsWith("//")?new URL(f.protocol+m):new URL(m),N=Hn(p.pathname,b);p.origin===f.origin&&N!=null?m=N+p.search+p.hash:w=!0}catch{}let E=ap(m,{relative:r}),x=zp(m,{replace:i,state:o,target:d,preventScrollReset:j,relative:r,viewTransition:h});function u(f){l&&l(f),f.defaultPrevented||x(f)}return c.createElement("a",ra({},g,{href:y||E,onClick:w||a?l:u,ref:n,target:d}))}),pu=c.forwardRef(function(t,n){let{"aria-current":l="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:d,viewTransition:m,children:j}=t,h=Gx(t,Pp),g=Ea(d,{relative:h.relative}),b=rn(),y=c.useContext(Vx),{navigator:w,basename:E}=c.useContext(ds),x=y!=null&&Up(g)&&m===!0,u=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,f=b.pathname,p=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(f=f.toLowerCase(),p=p?p.toLowerCase():null,u=u.toLowerCase()),p&&E&&(p=Hn(p,E)||p);const N=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let L=f===u||!i&&f.startsWith(u)&&f.charAt(N)==="/",R=p!=null&&(p===u||!i&&p.startsWith(u)&&p.charAt(u.length)==="/"),T={isActive:L,isPending:R,isTransitioning:x},I=L?l:void 0,C;typeof a=="function"?C=a(T):C=[a,L?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(T):o;return c.createElement(xt,ra({},h,{"aria-current":I,className:C,ref:n,style:S,to:d,viewTransition:m}),typeof j=="function"?j(T):j)});var lo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lo||(lo={}));var vu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vu||(vu={}));function Bp(e){let t=c.useContext(wa);return t||$e(!1),t}function zp(e,t){let{target:n,replace:l,state:r,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,d=Yl(),m=rn(),j=Ea(e,{relative:i});return c.useCallback(h=>{if(Ap(h,n)){h.preventDefault();let g=l!==void 0?l:la(m)===la(j);d(e,{replace:g,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[m,d,j,l,r,n,e,a,i,o])}function Up(e,t){t===void 0&&(t={});let n=c.useContext(Dp);n==null&&$e(!1);let{basename:l}=Bp(lo.useViewTransitionState),r=Ea(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Hn(n.currentLocation.pathname,l)||n.currentLocation.pathname,i=Hn(n.nextLocation.pathname,l)||n.nextLocation.pathname;return so(r.pathname,i)!=null||so(r.pathname,a)!=null}const Fp="http://localhost:4000";function Xx(){return localStorage.getItem("jasiq_token")}function ro(e){if(!e){localStorage.removeItem("jasiq_token");return}localStorage.setItem("jasiq_token",e)}async function $p(e){const t=await e.text();try{return JSON.parse(t)}catch{return{error:{code:"HTTP_ERROR",message:t||e.statusText}}}}async function le(e,{method:t,body:n,headers:l}={}){var j;const r=Xx(),a=await fetch(`${Fp}${e}`,{method:t||"GET",headers:{"content-type":"application/json",...r?{authorization:`Bearer ${r}`}:{},...l||{}},body:n?JSON.stringify(n):void 0});if(a.status===204)return null;const o=(a.headers.get("content-type")||"").includes("application/json");if(a.ok)return o?await a.json():null;if(a.status===401)return ro(null),localStorage.removeItem("jasiq_bootstrap"),window.location.hash="#/",window.location.reload(),null;const d=o?await a.json().catch(()=>null):await $p(a),m=new Error(((j=d==null?void 0:d.error)==null?void 0:j.message)||`Request failed (${a.status})`);throw m.status=a.status,m.payload=d,m}const Jx=c.createContext(null);function Vp(e){var N,L,R,T;const t=((N=e==null?void 0:e.navigation)==null?void 0:N.items)||[],n=((L=e==null?void 0:e.rbac)==null?void 0:L.permissions)||[],l=(e==null?void 0:e.systemConfig)||{},r=((R=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:R.value)??(l==null?void 0:l.TIMESHEET_ENABLED),a=String(r??"").trim().toLowerCase(),i=a==="true"||a==="1"||a==="yes"||a==="enabled"||a==="on",o=((T=l==null?void 0:l.LEAVE_ENABLED)==null?void 0:T.value)??(l==null?void 0:l.LEAVE_ENABLED),d=String(o??"").trim().toLowerCase(),m=d==="true"||d==="1"||d==="yes"||d==="enabled"||d==="on",j=n.includes("TIMESHEET_READ"),h=n.includes("TIMESHEET_APPROVAL_QUEUE_READ"),g=n.includes("LEAVE_REQUEST_READ"),b=n.includes("LEAVE_APPROVE_L1"),y=n.includes("LEAVE_APPROVE_L2"),w=n.includes("LEAVE_TYPE_READ"),E=n.includes("LEAVE_BALANCE_READ"),x=n.includes("AUTH_ADMIN_MANAGE"),u=[...t],f=new Set(u.map(I=>I.path));i&&j&&!f.has("/timesheet/my")&&u.push({id:"timesheetMy",label:"My Timesheet",path:"/timesheet/my",requiredPermission:"TIMESHEET_READ"}),i&&j&&h&&!f.has("/timesheet/approvals")&&u.push({id:"timesheetApprovals",label:"Timesheet Approvals",path:"/timesheet/approvals",requiredPermission:"TIMESHEET_APPROVAL_QUEUE_READ"}),m&&g&&!f.has("/leave/my")&&u.push({id:"leaveMy",label:"My Leave",path:"/leave/my",requiredPermission:"LEAVE_REQUEST_READ"}),m&&g&&(b||y)&&!f.has("/leave/approvals")&&u.push({id:"leaveApprovals",label:"Leave Approvals",path:"/leave/approvals",requiredPermission:"LEAVE_REQUEST_READ"}),m&&w&&!f.has("/leave/types")&&u.push({id:"leaveTypes",label:"Leave Types",path:"/leave/types",requiredPermission:"LEAVE_TYPE_READ"}),m&&E&&!f.has("/leave/balances")&&u.push({id:"leaveBalances",label:"Leave Balances",path:"/leave/balances",requiredPermission:"LEAVE_BALANCE_READ"}),x&&!f.has("/admin/admin-management")&&u.push({id:"adminManagement",label:"Admin Management",path:"/admin/admin-management",requiredPermission:"AUTH_ADMIN_MANAGE"});const p={};for(const I of u)p[I.path]=I;return{...e,navigation:{items:u,byPath:p}}}function Hp({children:e}){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),[a,i]=c.useState(null),[o,d]=c.useState(Xx()),m=c.useCallback(async(g=null)=>{if(!(g!==null?g:o)){r(null),n("idle");return}n("loading"),i(null);try{const y=await le("/api/v1/app/bootstrap");r(Vp(y)),n("ready")}catch(y){if(y.status===401){ro(null),d(null),r(null),n("idle");return}i(y),n("error")}},[o]);c.useEffect(()=>{m()},[m]);const j=c.useCallback(g=>{ro(g),d(g||null),g||(r(null),n("idle"))},[]),h=c.useMemo(()=>({status:t,bootstrap:l,error:a,refresh:m,setToken:j,token:o}),[t,l,a,m,j,o]);return s.jsx(Jx.Provider,{value:h,children:e})}function He(){const e=c.useContext(Jx);if(!e)throw new Error("BootstrapProvider missing");return e}function Wp(){const{setToken:e,refresh:t}=He(),[n,l]=c.useState(""),r=c.useMemo(()=>n.trim().length>0,[n]);return s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-lg w-full bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[s.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Paste a JWT to continue."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"JWT"}),s.jsx("textarea",{className:"mt-1 w-full h-32 rounded-md border-slate-300 focus:border-slate-500 focus:ring-slate-500 text-sm",value:n,onChange:a=>l(a.target.value),placeholder:"eyJ..."})]}),s.jsx("button",{type:"button",className:"mt-4 w-full inline-flex justify-center items-center rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{e(n.trim()),t()},disabled:!r,children:"Continue"}),s.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:["Default admin userId: ",s.jsx("span",{className:"font-mono",children:"00000000-0000-0000-0000-000000000001"})]})]})})}function Yp(){const{setToken:e,refresh:t}=He(),[n,l]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(""),[d,m]=c.useState(!1),j=c.useMemo(()=>n.trim().length>0&&r.trim().length>0,[n,r]),h=async()=>{var g,b,y;o(""),m(!0);try{const w={email:n.trim(),password:r},E=await le("/api/v1/auth/admin/login",{method:"POST",body:w}),{accessToken:x}=E;e(x),await t()}catch(w){const E=((y=(b=(g=w.payload)==null?void 0:g.error)==null?void 0:b.issues)==null?void 0:y.map(x=>x.message).join(", "))||w.message||"Login failed";o(E)}finally{m(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Admin Portal"})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),s.jsx("input",{type:"email",className:"w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm placeholder-slate-400 transition-all duration-200 bg-white/50 backdrop-blur-sm",value:n,onChange:g=>l(g.target.value),placeholder:"admin@coreops.dev",disabled:d})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm placeholder-slate-400 transition-all duration-200 bg-white/50 backdrop-blur-sm",value:r,onChange:g=>a(g.target.value),placeholder:"",disabled:d})]})]}),i&&s.jsx("div",{className:"bg-rose-50/50 border border-rose-200 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-rose-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm text-rose-700 font-medium",children:i})]})}),s.jsx("button",{type:"button",className:`w-full py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden ${j&&!d?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,onClick:h,disabled:!j||d,children:d?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),!1]})]}),s.jsx("div",{className:"text-center mt-6 text-slate-400 text-sm",children:s.jsx("p",{children:"Secure Admin Portal"})})]})]})}function qp(){const{setToken:e,refresh:t}=He(),[n,l]=c.useState("loading"),[r,a]=c.useState(!1),[i,o]=c.useState(""),[d,m]=c.useState(""),[j,h]=c.useState(""),[g,b]=c.useState(""),[y,w]=c.useState(!1);ia.useEffect(()=>{let u=!0;return(async()=>{try{const f=await le("/api/v1/auth/bootstrap-status");if(!u)return;a(!!f.bootstrapSignupEnabled),l("ready")}catch(f){if(!u)return;o(f.message||"Failed to load bootstrap status"),l("error")}})(),()=>{u=!1}},[]);const E=c.useMemo(()=>d.trim().length>1&&j.trim().length>0&&g.trim().length>0,[d,j,g]),x=async()=>{var u,f,p;o(""),w(!0);try{const N={name:d.trim(),email:j.trim(),password:g},L=await le("/api/v1/auth/bootstrap-signup",{method:"POST",body:N}),{accessToken:R}=L;e(R),await t(),window.location.hash="#/"}catch(N){const L=((p=(f=(u=N.payload)==null?void 0:u.error)==null?void 0:f.issues)==null?void 0:p.map(R=>R.message).join(", "))||N.message||"Signup failed";o(L)}finally{w(!1)}};return n==="loading"?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-600",children:"Loading"}):n==="error"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Bootstrap status failed"}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:i||"Please check backend connectivity."})]})}):r?s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Initial Setup"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Create the first super admin account."}),s.jsxs("div",{className:"mt-5 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:d,onChange:u=>m(u.target.value),disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:j,onChange:u=>h(u.target.value),disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:g,onChange:u=>b(u.target.value),disabled:y}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Min 8 chars, must include upper, lower, number."})]}),i?s.jsx("div",{className:"rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:i}):null,s.jsx("button",{type:"button",className:`w-full rounded-md px-4 py-2 text-sm font-medium text-white ${E&&!y?"bg-slate-900 hover:bg-slate-800":"bg-slate-400"}`,disabled:!E||y,onClick:x,children:y?"Creating":"Create Super Admin"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-slate-200 rounded-lg p-6",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Signup disabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"System is already bootstrapped."}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white",onClick:()=>{window.location.hash="#/"},children:"Go to Login"})})]})})}function Qp(){var i;const{bootstrap:e,setToken:t}=He(),[n,l]=c.useState(!1),r=async()=>{try{await le("/api/v1/auth/logout",{method:"POST"})}catch{}finally{t(null),window.location.href="/"}},a=((i=e==null?void 0:e.navigation)==null?void 0:i.items)||[{id:"divisions",label:"Divisions",path:"/admin/divisions"},{id:"projects",label:"Projects",path:"/admin/projects"},{id:"rbac",label:"RBAC",path:"/admin/rbac"},{id:"employees",label:"Employees",path:"/admin/employees"},{id:"admin-management",label:"Admin Management",path:"/admin/admin-management"}];return e?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden xl:hidden",onClick:()=>l(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 bg-white/95 backdrop-blur-sm border-r border-white/20 shadow-2xl transform transition-transform duration-300 ease-in-out z-50 lg:hidden xl:hidden ${n?"translate-x-0":"-translate-x-full"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Admin Portal"})]}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-xl hover:bg-slate-100 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:a.map(o=>s.jsx(pu,{to:o.path,onClick:()=>l(!1),className:({isActive:d})=>`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${d?"bg-gradient-to-r from-blue-50 to-purple-50 text-slate-900":"text-slate-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900"}`,children:o.label},o.id))}),s.jsx("div",{className:"p-4 border-t border-white/20",children:s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]}),s.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:w-72 lg:z-10 lg:block",children:s.jsxs("div",{className:"h-full bg-white/95 backdrop-blur-sm border-r border-white/20 shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-white/20",children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Admin Portal"})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:a.map(o=>s.jsx(pu,{to:o.path,className:({isActive:d})=>`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${d?"bg-gradient-to-r from-blue-50 to-purple-50 text-slate-900":"text-slate-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900"}`,children:o.label},o.id))}),s.jsx("div",{className:"p-4 border-t border-white/20",children:s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})]})}),s.jsxs("div",{className:"lg:pl-72",children:[s.jsx("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur-sm border-b border-white/20 shadow-sm lg:hidden xl:hidden",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-xl hover:bg-slate-100 transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"JASIQ CoreOps"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("main",{className:"relative z-20",children:s.jsx(Ep,{})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Loading CoreOps"})]})]})})]})}function Kp(){return s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"Not found"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"The requested page does not exist."})]})}function Ae({message:e="Loading"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("p",{className:"text-slate-600 font-medium",children:e})]})}function we({title:e,description:t,action:n}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:e}),s.jsx("p",{className:"text-slate-600 mb-4",children:t}),n&&s.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:n})]})}function je(){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this resource."})]})}function Z({error:e,onRetry:t}){return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-slate-600 mb-4",children:(e==null?void 0:e.message)||"An unexpected error occurred."}),t&&s.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})}function fe({title:e,subtitle:t,actions:n,breadcrumbs:l}){return s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg p-6 mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10",children:[l&&s.jsx("nav",{className:"flex mb-4","aria-label":"Breadcrumb",children:s.jsx("ol",{className:"inline-flex items-center space-x-1 text-sm",children:l.map((r,a)=>s.jsxs("li",{className:"flex items-center",children:[a>0&&s.jsx("svg",{className:"w-4 h-4 mx-1 text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),r.href?s.jsx("a",{href:r.href,className:"text-slate-500 hover:text-slate-700 transition-colors",children:r.label}):s.jsx("span",{className:"text-slate-900 font-medium",children:r.label})]},a))})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),t&&s.jsx("p",{className:"mt-1 text-slate-600",children:t})]}),n&&s.jsx("div",{className:"flex items-center space-x-3",children:n})]})]})]})}function Nt({columns:e,data:t,loading:n,empty:l,onRowClick:r}){return n?s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-slate-200 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"})]}),s.jsx("span",{className:"ml-3 text-slate-600 font-medium",children:"Loading..."})]})})}):!t||t.length===0?s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:s.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No data"}),s.jsx("p",{className:"text-slate-600",children:l||"No items to display"})]})})}):s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-gradient-to-r from-slate-50 to-slate-100",children:s.jsx("tr",{children:e.map(a=>s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:a.title},a.key))})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((a,i)=>s.jsx("tr",{onClick:()=>r&&r(a),className:`transition-all duration-200 ${r?"hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 cursor-pointer":""}`,children:e.map(o=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.render?o.render(a[o.key],a):a[o.key]},o.key))},i))})]})})}function Se(e){const[t,n]=c.useState("idle"),[l,r]=c.useState(null),a=c.useCallback(async(...i)=>{n("loading"),r(null);try{const o=await e(...i);return n("success"),o}catch(o){throw r(o),n("error"),o}},[e]);return{status:t,error:l,run:a}}function Ce({path:e,page:t,pageSize:n,enabled:l=!0}){const[r,a]=c.useState("idle"),[i,o]=c.useState(null),[d,m]=c.useState(null),[j,h]=c.useState(0),g=c.useCallback(()=>{h(y=>y+1)},[]),b=c.useMemo(()=>{const y=new URL(e,"http://local");return y.searchParams.set("page",String(t)),y.searchParams.set("pageSize",String(n)),y.pathname+y.search},[e,t,n]);return c.useEffect(()=>{if(!l)return;let y=!0;async function w(){a("loading"),m(null);try{const E=await le(b);if(!y)return;o(E),a("ready")}catch(E){if(!y)return;m(E),a("error")}}return w(),()=>{y=!1}},[b,l,j]),{status:r,data:i,error:d,url:b,refresh:g}}function Gp(){var I,C,S,V,G,X,ce,se,F,P,B,A;const{bootstrap:e}=He(),t=((S=(C=(I=e==null?void 0:e.ui)==null?void 0:I.screens)==null?void 0:C.divisions)==null?void 0:S.title)||"Divisions",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[m,j]=c.useState(""),[h,g]=c.useState(!1),[b,y]=c.useState(null),[w,E]=c.useState(!1),[x,u]=c.useState(""),f=Ce({path:"/api/v1/governance/divisions",page:n,pageSize:r,enabled:!0}),p=Se(async()=>le("/api/v1/governance/divisions",{method:"POST",body:{code:a.trim(),name:o.trim(),reason:m||null}})),N=Se(async({id:k,isActive:D,reason:J})=>le(`/api/v1/governance/divisions/${k}/activation`,{method:"PATCH",body:{isActive:D,reason:J}})),L=c.useMemo(()=>a.trim().length>0&&o.trim().length>0,[a,o]),R=((V=f.data)==null?void 0:V.items)||[],T=((G=f.data)==null?void 0:G.total)||0;return f.status==="loading"&&!f.data?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Manage immutable divisions (activation only)."}),s.jsx(Ae,{})]}):f.status==="error"?((X=f.error)==null?void 0:X.status)===403?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:f.error})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Only activation can change after creation.",right:s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",T]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Create Division"}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-xl border-slate-300 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a,onChange:k=>i(k.target.value),maxLength:((F=(se=(ce=e==null?void 0:e.validation)==null?void 0:ce.rules)==null?void 0:se.division)==null?void 0:F.codeMax)||20})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-xl border-slate-300 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:k=>d(k.target.value),maxLength:((A=(B=(P=e==null?void 0:e.validation)==null?void 0:P.rules)==null?void 0:B.division)==null?void 0:A.nameMax)||100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-xl border-slate-300 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:k=>j(k.target.value)})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl disabled:bg-slate-400",disabled:!L||p.status==="loading",onClick:async()=>{await p.run(),i(""),d(""),j(""),f.refresh()},children:p.status==="loading"?"Creating":"Create"}),p.status==="error"?s.jsx(Z,{error:p.error}):null]})]})]}),s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Activation Updates"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Activation changes require an explicit reason and are audited."})]})]})]}),s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-white/20",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Divisions"})}),R.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No divisions",description:"Create your first division to begin."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:R.map(k=>s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-lg p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:k.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:k.name})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:k.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("button",{type:"button",className:"mt-3 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 transition-all duration-200",disabled:N.status==="loading",onClick:()=>{y(k),E(!k.isActive),u(""),g(!0)},children:["Set ",k.isActive?"Inactive":"Active"]})]})]},k.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(Nt,{columns:[{key:"code",title:"Code",render:(k,D)=>s.jsx("span",{className:"font-mono",children:D.code})},{key:"name",title:"Name",render:(k,D)=>D.name},{key:"active",title:"Active",render:(k,D)=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:D.isActive?"ACTIVE":"INACTIVE"})},{key:"actions",title:"Actions",render:(k,D)=>s.jsxs("button",{type:"button",className:"rounded-xl border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 transition-all duration-200",disabled:N.status==="loading",onClick:()=>{y(D),E(!D.isActive),u(""),g(!0)},children:["Set ",D.isActive?"Inactive":"Active"]})}],data:R,empty:"No divisions found"})})})]})]}),h?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{N.status!=="loading"&&(g(!1),y(null),u(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:w?"Activate Division":"Deactivate Division"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:b?s.jsxs("span",{children:[b.code,"  ",b.name]}):null}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-xl border-slate-300 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:x,onChange:k=>u(k.target.value),placeholder:"Explain why this activation change is needed"}),x.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),N.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:N.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-xl border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 transition-all duration-200",disabled:N.status==="loading",onClick:()=>{g(!1),y(null),u("")},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-xl bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:N.status==="loading"||x.trim().length===0||!b,onClick:async()=>{await N.run({id:b.id,isActive:w,reason:x.trim()}),g(!1),y(null),u(""),f.refresh()},children:N.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-xl border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 transition-all duration-200",disabled:n<=1,onClick:()=>l(k=>Math.max(1,k-1)),children:"Prev"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-xl border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 transition-all duration-200",disabled:n*r>=T,onClick:()=>l(k=>k+1),children:"Next"})]})]})]})}function Xp(e){const t=new URL("/api/v1/governance/projects","http://local");return e&&t.searchParams.set("divisionId",e),t.pathname+t.search}function Jp(){var G,X,ce,se,F,P,B,A,k,D,J,oe,Q;const{bootstrap:e}=He(),t=((ce=(X=(G=e==null?void 0:e.ui)==null?void 0:G.screens)==null?void 0:X.projects)==null?void 0:ce.title)||"Projects",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[m,j]=c.useState(""),[h,g]=c.useState(""),[b,y]=c.useState(!1),[w,E]=c.useState(null),[x,u]=c.useState(!1),[f,p]=c.useState(""),N=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),L=Ce({path:Xp(a||null),page:n,pageSize:r,enabled:!0}),R=Se(async()=>le("/api/v1/governance/projects",{method:"POST",body:{divisionId:a,code:o.trim(),name:m.trim(),reason:h||null}})),T=Se(async({id:H,isActive:ne,reason:pe})=>le(`/api/v1/governance/projects/${H}`,{method:"PATCH",body:{isActive:ne,reason:pe}})),I=c.useMemo(()=>a.trim().length>0&&o.trim().length>0&&m.trim().length>0,[a,o,m]),C=((se=L.data)==null?void 0:se.items)||[],S=((F=L.data)==null?void 0:F.total)||0,V=((P=N.data)==null?void 0:P.items)||[];return L.status==="loading"&&!L.data?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Projects are scoped to a division."}),s.jsx(Ae,{})]}):L.status==="error"?((B=L.error)==null?void 0:B.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:L.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Division-scoped projects.",right:s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",S]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm mb-6",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Create Project"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:H=>{i(H.target.value),l(1)},children:[s.jsx("option",{value:"",children:"Select"}),V.map(H=>s.jsxs("option",{value:H.id,children:[H.code,"  ",H.name]},H.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:H=>d(H.target.value),maxLength:((D=(k=(A=e==null?void 0:e.validation)==null?void 0:A.rules)==null?void 0:k.project)==null?void 0:D.codeMax)||30})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:m,onChange:H=>j(H.target.value),maxLength:((Q=(oe=(J=e==null?void 0:e.validation)==null?void 0:J.rules)==null?void 0:oe.project)==null?void 0:Q.nameMax)||150})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:h,onChange:H=>g(H.target.value)})]})]}),s.jsx("button",{type:"button",className:"mt-3 w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!I||R.status==="loading",onClick:async()=>{await R.run(),d(""),j(""),g(""),L.refresh()},children:R.status==="loading"?"Creating":"Create Project"}),R.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:R.error})}):null]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Projects"})}),C.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No projects",description:"Create a project after selecting a division."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:C.map(H=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:H.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:H.name})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:H.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("button",{type:"button",className:"mt-3 w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:T.status==="loading",onClick:()=>{E(H),u(!H.isActive),p(""),y(!0)},children:["Set ",H.isActive?"Inactive":"Active"]})]},H.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(Nt,{columns:[{key:"code",title:"Code",render:(H,ne)=>s.jsx("span",{className:"font-mono",children:ne.code})},{key:"name",title:"Name",render:(H,ne)=>ne.name},{key:"active",title:"Active",render:(H,ne)=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ne.isActive?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:ne.isActive?"ACTIVE":"INACTIVE"})},{key:"actions",title:"Actions",render:(H,ne)=>s.jsxs("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:T.status==="loading",onClick:()=>{E(ne),u(!ne.isActive),p(""),y(!0)},children:["Set ",ne.isActive?"Inactive":"Active"]})}],data:C,empty:"No projects found"})})})]})]}),b?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{T.status!=="loading"&&(y(!1),E(null),p(""))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:x?"Activate Project":"Deactivate Project"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:w?s.jsxs("span",{children:[w.code,"  ",w.name]}):null}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-28 rounded-md border-slate-300 text-sm",value:f,onChange:H=>p(H.target.value),placeholder:"Explain why this activation change is needed"}),f.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]}),T.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:T.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:T.status==="loading",onClick:()=>{y(!1),E(null),p("")},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:T.status==="loading"||f.trim().length===0||!w,onClick:async()=>{await T.run({id:w.id,isActive:x,reason:f.trim()}),y(!1),E(null),p(""),L.refresh()},children:T.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n<=1,onClick:()=>l(H=>Math.max(1,H-1)),children:"Prev"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:n*r>=S,onClick:()=>l(H=>H+1),children:"Next"})]})]})]})}function Zp(){var d,m,j,h,g;const{bootstrap:e}=He(),t=((j=(m=(d=e==null?void 0:e.ui)==null?void 0:d.screens)==null?void 0:m.rbac)==null?void 0:j.title)||"RBAC",[n,l]=c.useState("roles"),r=Ce({path:"/api/v1/governance/rbac/roles",page:1,pageSize:200,enabled:n==="roles"}),a=Ce({path:"/api/v1/governance/rbac/permissions",page:1,pageSize:200,enabled:n==="permissions"}),i=n==="roles"?r:a;if(i.status==="loading"&&!i.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]});if(i.status==="error")return((h=i.error)==null?void 0:h.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:i.error})]});const o=((g=i.data)==null?void 0:g.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Viewer only (Phase 0)."}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm mb-6",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Browse"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:gap-2",children:[s.jsx("button",{type:"button",className:`w-full sm:w-auto rounded-md px-3 py-2 text-sm border ${n==="roles"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-100"}`,onClick:()=>l("roles"),children:"Roles"}),s.jsx("button",{type:"button",className:`w-full sm:w-auto rounded-md px-3 py-2 text-sm border ${n==="permissions"?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:bg-slate-100"}`,onClick:()=>l("permissions"),children:"Permissions"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:n==="roles"?"Roles":"Permissions"})}),o.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No data"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:n==="roles"?o.map(b=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:b.name}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:b.description||"-"})]},b.id)):o.map(b=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:b.code}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:b.description||"-"})]},b.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:n==="roles"?s.jsx(Nt,{columns:[{key:"name",title:"Name",render:(b,y)=>y.name},{key:"desc",title:"Description",render:(b,y)=>y.description||""}],data:o,empty:"No roles found"}):s.jsx(Nt,{columns:[{key:"code",title:"Code",render:(b,y)=>s.jsx("span",{className:"font-mono",children:y.code})},{key:"desc",title:"Description",render:(b,y)=>y.description||""}],data:o,empty:"No permissions found"})})})]})]})]})]})}function ao(e){const t=e instanceof Date?e:new Date(e);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function ev(e){return(e instanceof Date?e:new Date(e)).toISOString().slice(0,7)}function Xt(e){return ao((e==null?void 0:e.monthEnd)||(e==null?void 0:e.monthStart)||(e==null?void 0:e.month))}function tv(){var S,V,G,X,ce,se;const{bootstrap:e}=He(),t=((G=(V=(S=e==null?void 0:e.ui)==null?void 0:S.screens)==null?void 0:V.monthClose)==null?void 0:G.title)||"Month Close",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(ev(new Date)),[o,d]=c.useState("CLOSED"),[m,j]=c.useState(""),[h,g]=c.useState(null),[b,y]=c.useState(!1),[w,E]=c.useState(null),x=Ce({path:"/api/v1/governance/month-close",page:n,pageSize:r,enabled:!0}),u=Se(async()=>{const F=m.trim(),P=ao(`${a}-01`);return le("/api/v1/governance/month-close/status",{method:"POST",body:{month:P,status:o,reason:F||null}})}),f=((X=x.data)==null?void 0:X.items)||[],p=((ce=x.data)==null?void 0:ce.total)||0,N=o==="OPEN"||o==="CLOSED",L=m.trim().length>0,R=!!a&&!!o&&L,T=c.useMemo(()=>{const F=new Map;for(const P of f){const B=Xt(P);F.has(B)||F.set(B,P)}return Array.from(F.values()).sort((P,B)=>{const A=Xt(P),k=Xt(B);return new Date(k)-new Date(A)})},[f]),I=async()=>{const F=await le(x.url);return(F==null?void 0:F.items)||[]},C=async()=>{y(!1),E(null);const F=ao(`${a}-01`),P=T.find(A=>Xt(A)===F),B=(P==null?void 0:P.status)||"OPEN";if(!P&&o==="OPEN"){E({type:"info",message:"This month is currently open."});return}if(B==="OPEN"&&o==="OPEN"){E(P?{type:"info",message:"This month is already open."}:{type:"info",message:"This month is currently open."});return}if(B==="CLOSED"&&o==="CLOSED"){E({type:"info",message:"This month is already closed."});return}try{await u.run();const k=(await I()).find(J=>Xt(J)===F),D=(k==null?void 0:k.status)||"OPEN";if(k&&g(k),j(""),o==="OPEN"&&D==="OPEN"){E({type:"success",message:"Month reopened successfully."});return}if(o==="CLOSED"&&D==="CLOSED"){E({type:"success",message:"Month closed successfully."});return}if(D==="OPEN"){E({type:"info",message:k?"This month is already open.":"This month is currently open."});return}if(D==="CLOSED"){E({type:"info",message:"This month is already closed."});return}}catch{y(!0);try{const D=(await I()).find(oe=>Xt(oe)===F),J=(D==null?void 0:D.status)||"OPEN";if(D&&g(D),o==="OPEN"&&J==="OPEN"){E({type:"success",message:"Month reopened successfully."});return}if(o==="CLOSED"&&J==="CLOSED"){E({type:"success",message:"Month closed successfully."});return}if(J==="OPEN"){E({type:"info",message:D?"This month is already open.":"This month is currently open."});return}if(J==="CLOSED"){E({type:"info",message:"This month is already closed."});return}}catch{}E({type:"error",message:"Something went wrong. Please try again."});return}};return x.status==="loading"&&!x.data?s.jsxs("div",{children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]}):x.status==="error"?((se=x.error)==null?void 0:se.status)===403?s.jsxs("div",{children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:x.error})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Month Close is a critical governance action"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Each action is recorded. Ensure the reason is clear and accurate."})]})]})}),s.jsx("div",{className:"mx-4 mb-4 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Months"}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 mt-1",children:T.length})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Closed"}),s.jsx("div",{className:"text-2xl font-bold text-green-700 mt-1",children:T.filter(F=>F.status==="CLOSED").length})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Open"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:T.filter(F=>F.status==="OPEN").length})]})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm sticky top-4 z-10",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Apply Month Close Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Month"}),s.jsx("input",{type:"month",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:F=>i(F.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:F=>d(F.target.value),children:[s.jsx("option",{value:"OPEN",children:"OPEN"}),s.jsx("option",{value:"CLOSED",children:"CLOSED"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason"}),s.jsx("input",{className:`mt-1 w-full rounded-md border-slate-300 text-sm ${N&&!L?"border-rose-500":""}`,value:m,onChange:F=>j(F.target.value),placeholder:N?"Required":"Optional"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"w-full md:w-auto px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium disabled:bg-slate-400 disabled:cursor-not-allowed hover:bg-slate-800 transition-colors",disabled:!R||u.status==="loading",onClick:C,children:u.status==="loading"?"Applying...":"Apply"})})]}),w?s.jsx("div",{className:`mt-3 rounded-md border px-3 py-2 text-sm ${w.type==="success"?"bg-green-50 border-green-200 text-green-800":w.type==="error"?"bg-rose-50 border-rose-200 text-rose-800":"bg-slate-50 border-slate-200 text-slate-800"}`,children:w.message}):u.status==="error"&&!b?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:u.error})}):null,h?s.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:[s.jsx("div",{className:"text-sm font-medium text-green-800",children:"Saved"}),s.jsxs("div",{className:"text-xs text-green-700 mt-1",children:[Xt(h),"  ",h.status,h.closedReason?` | ${h.closedReason}`:""]})]}):null]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"History"})}),f.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No month close entries",description:"Set a month status above."})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:f.map(F=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Month"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:String(Xt(F)).slice(0,10)})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:F.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:F.closedReason||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:F.status==="CLOSED"?"Closed At":"Opened At"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:F.status==="CLOSED"?F.closedAt?String(F.closedAt):"-":F.openedAt?String(F.openedAt):"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:F.status==="CLOSED"?"Closed By":"Opened By"}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-700",children:F.status==="CLOSED"?F.closedBy||"-":F.openedBy||"-"})]})]})]})]},F.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(Nt,{columns:[{key:"month",title:"Month",render:(F,P)=>s.jsx("span",{className:"font-mono text-sm",children:String(Xt(P)).slice(0,10)})},{key:"status",title:"Status",render:(F,P)=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="CLOSED"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:P.status})},{key:"actionBy",title:"Action By",render:(F,P)=>P.status==="CLOSED"?P.closedBy?s.jsx("span",{className:"font-mono text-xs",children:P.closedBy}):"-":P.openedBy?s.jsx("span",{className:"font-mono text-xs",children:P.openedBy}):"-"},{key:"actionAt",title:"Action At",render:(F,P)=>P.status==="CLOSED"?P.closedAt?String(P.closedAt):"-":P.openedAt?String(P.openedAt):"-"},{key:"reason",title:"Reason",render:(F,P)=>P.closedReason||"-"}],data:f,empty:"No month close records found"})})})]})]})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n<=1,onClick:()=>l(F=>Math.max(1,F-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," / Total ",p]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n*r>=p,onClick:()=>l(F=>F+1),children:"Next"})]})})]})}const sv=[{label:"Admin",value:"00000000-0000-0000-0000-000000000001"},{label:"System",value:"system"},{label:"Service Account",value:"service-account"}];function nv(e){const t=new URL("/api/v1/governance/audit","http://local");for(const[n,l]of Object.entries(e))l==null||l===""||l==="undefined"||t.searchParams.set(n,String(l));return t.pathname+t.search}function lv(e){return e?e==="00000000-0000-0000-0000-000000000001"?"Admin":e==="system"?"System":e==="service-account"?"Service Account":e.slice(0,8)+"":"System"}function gu(e){const t=e==null?void 0:e.actorId,n=lv(t);return s.jsx("span",{className:"font-mono text-xs",title:t||"",children:n})}function ju(e,t){return e?t?`${e}:${t.slice(0,8)}`:e:""}function bu(e){if(!e)return"";let t=String(e).trim();/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(\.\d+)?$/.test(t)&&(t=t.replace(" ","T"));const n=new Date(t);if(Number.isNaN(n.getTime()))return String(e);const l=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).formatToParts(n),r=h=>{var g;return(g=l.find(b=>b.type===h))==null?void 0:g.value},a=r("day"),i=r("month"),o=r("year"),d=r("hour"),m=r("minute"),j=(r("dayPeriod")||"").toLowerCase();return!a||!i||!o||!d||!m||!j?String(e):`${a} ${i} ${o}, ${d}:${m} ${j}`}function rv(){var u,f,p,N,L,R,T,I,C;const{bootstrap:e}=He(),t=((p=(f=(u=e==null?void 0:e.ui)==null?void 0:u.screens)==null?void 0:f.audit)==null?void 0:p.title)||"Audit Logs",[n,l]=c.useState(1),[r]=c.useState(20),[a,i]=c.useState(""),[o,d]=c.useState(""),[m,j]=c.useState(""),h=m==="system"||m==="service-account",g=a.trim(),b=o.trim(),y=c.useMemo(()=>{if(h)return"";const S={};return g&&(S.entityType=g),b&&(S.action=b),m&&(S.actorId=m),nv(S)},[g,b,m,h]),w=Ce({path:y||"/api/v1/governance/audit",page:n,pageSize:r,enabled:!!y&&!h}),E=((N=w.data)==null?void 0:N.items)||[],x=((L=w.data)==null?void 0:L.total)||0;return w.status==="loading"&&!w.data?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]}):w.status==="error"?((R=w.error)==null?void 0:R.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:w.error}),(C=(I=(T=w.error)==null?void 0:T.payload)==null?void 0:I.error)!=null&&C.message?s.jsxs("div",{className:"mx-4 mt-2 text-sm text-rose-700 md:mx-6 lg:mx-8",children:["Backend: ",w.error.payload.error.message]}):null]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Append-only audit trail"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Every governance action is recorded. Use filters to search."})]})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Entity Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:S=>{i(S.target.value)},placeholder:"division"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Action"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:S=>{d(S.target.value)},placeholder:"CREATE"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Actor"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Select actor who performed the action"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:m,onChange:S=>{j(S.target.value),l(1)},children:[s.jsx("option",{value:"",children:"Any"}),sv.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))]}),h?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Audit logs for System and Service Accounts are not available yet."}):null]})]}),s.jsx("button",{type:"button",className:"mt-3 w-full md:w-auto px-4 py-2 bg-slate-900 text-white rounded-md text-sm font-medium disabled:bg-slate-400 disabled:cursor-not-allowed hover:bg-slate-800 transition-colors",disabled:!y||h,onClick:()=>{l(1)},children:"Filter"})]})}),s.jsx("div",{className:"mx-4 mb-6 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Audit Trail"})}),E.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No audit logs"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:E.map(S=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Time"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:bu(S.createdAt??S.created_at)})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.action==="CREATE"?"bg-green-100 text-green-800":S.action==="UPDATE"||S.action==="ACTIVATE"?"bg-blue-100 text-blue-800":S.action==="DELETE"||S.action==="DEACTIVATE"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:S.action})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Entity"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:ju(S.entityType,S.entityId)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Actor"}),s.jsx("div",{className:"mt-1",children:gu(S)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Request"}),s.jsxs("div",{className:"mt-1 font-mono text-xs text-slate-700",children:[S.requestId.slice(0,8),""]})]})]})]})]},S.id))}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx(Nt,{columns:[{key:"createdAt",title:"Time",render:(S,V)=>s.jsx("span",{className:"text-xs text-slate-600",children:bu(V.createdAt??V.created_at)})},{key:"entity",title:"Entity",render:(S,V)=>s.jsx("span",{className:"font-mono text-sm",children:ju(V.entityType,V.entityId)})},{key:"action",title:"Action",render:(S,V)=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.action==="CREATE"?"bg-green-100 text-green-800":V.action==="UPDATE"||V.action==="ACTIVATE"?"bg-blue-100 text-blue-800":V.action==="DELETE"||V.action==="DEACTIVATE"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:V.action})},{key:"actor",title:"Actor",render:(S,V)=>gu(V)},{key:"request",title:"Request",render:(S,V)=>s.jsxs("span",{className:"font-mono text-xs",children:[V.requestId.slice(0,8),""]})}],data:E,empty:"No audit records found"})})})]})]})}),s.jsx("div",{className:"mx-4 mb-8 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n<=1,onClick:()=>l(S=>Math.max(1,S-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," / Total ",x]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50 disabled:cursor-not-allowed",disabled:n*r>=x,onClick:()=>l(S=>S+1),children:"Next"})]})})]})}function av(){var p,N,L,R,T,I;const{bootstrap:e}=He(),t=((L=(N=(p=e==null?void 0:e.ui)==null?void 0:p.screens)==null?void 0:N.systemConfig)==null?void 0:L.title)||"System Config",[n]=c.useState(1),[l]=c.useState(200),r=((R=e==null?void 0:e.rbac)==null?void 0:R.permissions)||[],a=c.useMemo(()=>r.includes("GOV_SYSTEM_CONFIG_WRITE"),[r]),[i,o]=c.useState(!1),[d,m]=c.useState(""),[j,h]=c.useState(""),[g,b]=c.useState(""),[y,w]=c.useState(""),E=C=>{m((C==null?void 0:C.key)||""),h((C==null?void 0:C.value)||""),b((C==null?void 0:C.description)||""),w(""),o(!0)},x=Ce({path:"/api/v1/governance/system-config",page:n,pageSize:l,enabled:!0}),u=Se(async()=>le(`/api/v1/governance/system-config/${encodeURIComponent(d)}`,{method:"PUT",body:{value:j,description:g||null,reason:y||null}}));if(x.status==="loading"&&!x.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]});if(x.status==="error")return((T=x.error)==null?void 0:T.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:x.error})]});const f=((I=x.data)==null?void 0:I.items)||[];return s.jsxs("div",{className:"min-h-screen bg-slate-50 relative z-[9999]",children:[s.jsx(fe,{title:t,subtitle:"Central system configuration controls."}),s.jsx("div",{className:"mx-4 mt-4 mb-2 md:mx-6 lg:mx-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"System Config is critical"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Changes can impact enforcement and features. Use a clear reason for any update."})]})]})}),s.jsxs("div",{className:"mx-4 md:mx-6 lg:mx-8",children:[s.jsx("div",{className:"w-full px-4 py-4 shadow-sm mb-6 relative z-10",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Write access"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:a?"You can update configuration values.":"Read-only: GOV_SYSTEM_CONFIG_WRITE is required to update values."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:()=>{E(null)},children:"Add / Update"}):null]})}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Config Entries"})}),f.length===0?s.jsx("div",{className:"p-8",children:s.jsx(we,{title:"No config entries"})}):s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:f.map(C=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900",children:C.key}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:C.value}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:C.description||"-"}),a?s.jsx("button",{type:"button",className:"mt-3 w-full rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{E(C)},children:"Edit"}):null]},C.key))}),s.jsx("div",{className:"hidden md:block overflow-x-auto relative z-10",children:s.jsx(Nt,{columns:[{key:"key",title:"Key",render:(C,S)=>s.jsx("span",{className:"font-mono",children:S.key})},{key:"value",title:"Value",render:(C,S)=>S.value},{key:"desc",title:"Description",render:(C,S)=>S.description||""},...a?[{key:"actions",title:"Actions",render:(C,S)=>s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{E(S)},children:"Edit"})}]:[]],data:f.map(C=>({key:C.key,value:C.value,description:C.description,desc:C.description}))})})]})]})]}),i?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{u.status!=="loading"&&o(!1)}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Update System Config"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Reason is required for any write."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Key"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:d,onChange:C=>m(C.target.value),placeholder:"PROJECTS_ENABLED",disabled:u.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Value"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:j,onChange:C=>h(C.target.value),placeholder:"true",disabled:u.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Description (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:g,onChange:C=>b(C.target.value),disabled:u.status==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:y,onChange:C=>w(C.target.value),disabled:u.status==="loading",placeholder:"Explain why this change is needed"}),y.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),u.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:u.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col-reverse sm:flex-row sm:items-center sm:justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:u.status==="loading",onClick:()=>o(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:u.status==="loading"||!d.trim()||y.trim().length===0,onClick:async()=>{await u.run(),o(!1),x.refresh()},children:u.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function Xs(...e){return e.filter(Boolean).join(" ")}function iv({divisionId:e,scope:t,status:n}){const l=new URL("/api/v1/employees","http://local");return e&&l.searchParams.set("divisionId",e),t&&l.searchParams.set("scope",t),n&&l.searchParams.set("status",n),l.pathname+l.search}function pr(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function Ws({name:e,className:t}){const n={className:Xs("h-4 w-4",t),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};return e==="filter"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M3 5h18M6 12h12M10 19h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="search"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M21 21l-4.35-4.35m1.35-5.65a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="chevron"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="x"?s.jsx("svg",{...n,children:s.jsx("path",{d:"M18 6 6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):e==="edit"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M12 20h9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):e==="download"?s.jsxs("svg",{...n,children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M7 10l5 5 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 15V3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):null}function vr(e){const t=String(e||"").toUpperCase(),n=t==="ACTIVE"?"bg-emerald-50 text-emerald-700":t==="ON_HOLD"?"bg-amber-50 text-amber-800":t==="EXITED"?"bg-rose-50 text-rose-700":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t||""})}function gr(e){const t=String(e||"").toUpperCase(),n=t==="MONTHLY"?"bg-blue-50 text-blue-700":t==="HOURLY"?"bg-purple-50 text-purple-700":t==="ANNUAL"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t})}function xn(e){const t=String(e||"").toUpperCase(),n=t==="DIVISION"?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800";return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n}`,children:t||""})}function Fs(e){const t=(e==null?void 0:e.firstName)||"",n=(e==null?void 0:e.lastName)||"";return`${t} ${n}`.trim()||""}function fn(e,t){if(!t)return"";const n=e[t];return n?`${n.code}  ${n.name}`:t.slice(0,8)+""}function il({title:e,open:t,onToggle:n,children:l}){return s.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between",onClick:n,children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:e}),s.jsx("div",{className:Xs("transition-transform",t?"rotate-180":""),children:s.jsx(Ws,{name:"chevron",className:"text-slate-500"})})]}),t?s.jsx("div",{className:"mt-3",children:l}):null]})}function wt({label:e,checked:t,onChange:n,count:l,disabled:r=!1}){return s.jsxs("button",{type:"button",className:Xs("w-full flex items-center justify-between rounded-lg px-3 py-2 text-sm",r?"text-slate-400 cursor-not-allowed":"text-slate-700 hover:bg-slate-50",t?"bg-slate-100":""),onClick:()=>{r||n()},disabled:r,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:Xs("h-4 w-4 rounded-full border flex items-center justify-center",t?"border-slate-900":"border-slate-300"),children:t?s.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-900"}):null}),s.jsx("span",{children:e})]}),typeof l=="number"?s.jsx("span",{className:"text-xs text-slate-500",children:l}):null]})}function ov(){var Ad,Ld,Pd,_d,Dd,Rd,Id,Md,Od,Bd,zd,Ud,Fd,$d,Vd,Hd,Wd,Yd,qd,Qd,Kd,Gd,Xd,Jd,Zd;const{bootstrap:e}=He(),t=((Pd=(Ld=(Ad=e==null?void 0:e.ui)==null?void 0:Ad.screens)==null?void 0:Ld.employees)==null?void 0:Pd.title)||"Employees",n=((_d=e==null?void 0:e.rbac)==null?void 0:_d.permissions)||[],l=n.includes("EMPLOYEE_WRITE"),r=n.includes("EMPLOYEE_COMPENSATION_WRITE"),a=n.includes("EMPLOYEE_DOCUMENT_WRITE"),[i,o]=c.useState(1),[d]=c.useState(20),[m,j]=c.useState(""),[h,g]=c.useState(""),[b,y]=c.useState(""),[w,E]=c.useState(""),[x,u]=c.useState(""),[f,p]=c.useState(!1),[N,L]=c.useState(!1),[R,T]=c.useState(!0),[I,C]=c.useState(!0),[S,V]=c.useState(!0),[G,X]=c.useState(!1),[ce,se]=c.useState(!0),F=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),P=c.useMemo(()=>{var xe;const v=((xe=F.data)==null?void 0:xe.items)||[],ie={};for(const Ee of v)ie[Ee.id]=Ee;return ie},[F.data]),B=Ce({path:iv({divisionId:m||null,scope:h||null,status:b||null}),page:i,pageSize:d,enabled:!0}),A=((Dd=B.data)==null?void 0:Dd.items)||[],k=((Rd=B.data)==null?void 0:Rd.total)||0,D=c.useMemo(()=>x?x==="NONE"?A.filter(v=>!v.compensationType):A.filter(v=>v.compensationType===x):A,[A,x]),J=c.useMemo(()=>{const v=String(w||"").trim().toLowerCase();return v?D.filter(ie=>{const xe=String(ie.employeeCode||"").toLowerCase(),Ee=Fs(ie).toLowerCase();return xe.includes(v)||Ee.includes(v)}):D},[D,w]),oe=c.useMemo(()=>{const v={ACTIVE:0,ON_HOLD:0,EXITED:0},ie={COMPANY:0,DIVISION:0},xe={};for(const Ee of A){Ee.status&&v[Ee.status]!==void 0&&(v[Ee.status]+=1),Ee.scope&&ie[Ee.scope]!==void 0&&(ie[Ee.scope]+=1);const _a=Ee.primaryDivisionId||"";_a&&(xe[_a]=(xe[_a]||0)+1)}return{statusCounts:v,scopeCounts:ie,divisionCounts:xe}},[A]),[Q,H]=c.useState(null),[ne,pe]=c.useState("profile"),[ye,Ye]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),qe=()=>Ye(v=>({...v,refreshIndex:v.refreshIndex+1}));c.useEffect(()=>{let v=!0;async function ie(){if(!Q){Ye(xe=>({...xe,status:"idle",data:null,error:null}));return}Ye(xe=>({...xe,status:"loading",error:null}));try{const xe=await le(`/api/v1/employees/${Q}`);if(!v)return;Ye(Ee=>({...Ee,status:"ready",data:xe,error:null}))}catch(xe){if(!v)return;Ye(Ee=>({...Ee,status:"error",error:xe}))}}return ie(),()=>{v=!1}},[Q,ye.refreshIndex]);const z=((Id=ye.data)==null?void 0:Id.item)||null,Te=(z==null?void 0:z.status)==="EXITED",[be,ze]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),Ge=()=>ze(v=>({...v,refreshIndex:v.refreshIndex+1}));c.useEffect(()=>{let v=!0;async function ie(){if(!(!Q||ne!=="compensation")){ze(xe=>({...xe,status:"loading",error:null}));try{const xe=await le(`/api/v1/employees/${Q}/compensation`);if(!v)return;ze(Ee=>({...Ee,status:"ready",data:xe,error:null}))}catch(xe){if(!v)return;ze(Ee=>({...Ee,status:"error",error:xe}))}}}return ie(),()=>{v=!1}},[Q,ne,be.refreshIndex]);const[De,ue]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),Qe=()=>ue(v=>({...v,refreshIndex:v.refreshIndex+1}));c.useEffect(()=>{let v=!0;async function ie(){if(!(!Q||ne!=="documents")){ue(xe=>({...xe,status:"loading",error:null}));try{const xe=await le(`/api/v1/employees/${Q}/documents`);if(!v)return;ue(Ee=>({...Ee,status:"ready",data:xe,error:null}))}catch(xe){if(!v)return;ue(Ee=>({...Ee,status:"error",error:xe}))}}}return ie(),()=>{v=!1}},[Q,ne,De.refreshIndex]);const re=Se(async v=>le("/api/v1/employees",{method:"POST",body:v,headers:v!=null&&v.idempotencyKey?{"x-idempotency-key":v.idempotencyKey}:void 0})),me=Se(async({id:v,payload:ie})=>le(`/api/v1/employees/${v}`,{method:"PATCH",body:ie})),ae=Se(async({id:v,payload:ie})=>le(`/api/v1/employees/${v}/change-scope`,{method:"POST",body:ie})),Le=Se(async({id:v,payload:ie})=>le(`/api/v1/employees/${v}/change-status`,{method:"POST",body:ie})),M=Se(async({id:v,payload:ie})=>le(`/api/v1/employees/${v}/compensation`,{method:"POST",body:ie})),U=Se(async({id:v,payload:ie})=>le(`/api/v1/employees/${v}/documents`,{method:"POST",body:ie})),$=Se(async({id:v,docId:ie})=>le(`/api/v1/employees/${v}/documents/${ie}/download`)),[ee,q]=c.useState(!1),[he,de]=c.useState("create"),[Re,tt]=c.useState(""),[Je,Ds]=c.useState(""),[an,on]=c.useState(""),[Gn,Rs]=c.useState(""),[dn,Is]=c.useState(""),[Xn,Ms]=c.useState("ACTIVE"),[Gt,Os]=c.useState("COMPANY"),[cn,Bs]=c.useState(""),[un,zs]=c.useState(""),[Jn,Us]=c.useState(""),ql=()=>{de("create"),tt(""),Ds(""),on(""),Rs(""),Is(""),Ms("ACTIVE"),Os("COMPANY"),Bs(""),zs(""),Us(""),q(!0)},_=v=>{v&&(de("edit"),tt(v.employeeCode||""),Ds(v.firstName||""),on(v.lastName||""),Rs(v.email||""),Is(v.phone||""),Ms(v.status||"ACTIVE"),Os(v.scope||"COMPANY"),Bs(v.primaryDivisionId||""),zs(""),Us(""),q(!0))},K=()=>{z&&(de("edit"),tt(z.employeeCode||""),Ds(z.firstName||""),on(z.lastName||""),Rs(z.email||""),Is(z.phone||""),Ms(z.status||"ACTIVE"),Os(z.scope||"COMPANY"),Bs(z.primaryDivisionId||""),zs(""),Us(""),q(!0))},[W,te]=c.useState(!1),[ve,Oe]=c.useState("COMPANY"),[pt,Pe]=c.useState(""),[Vt,Ql]=c.useState(""),rd=()=>{z&&(Oe(z.scope||"COMPANY"),Pe(z.primaryDivisionId||""),Ql(""),te(!0))},[t0,Kl]=c.useState(!1),[ad,id]=c.useState("ACTIVE"),[od,dd]=c.useState(""),cd=()=>{z&&(id(z.status||"ACTIVE"),dd(""),Kl(!0))},[s0,Gl]=c.useState(!1),[ka,ud]=c.useState(""),[md,xd]=c.useState("USD"),[fd,hd]=c.useState("MONTHLY"),[Ca,pd]=c.useState(""),[Xl,vd]=c.useState(""),gd=()=>{ud(""),xd("USD"),hd("MONTHLY"),pd(""),vd(""),Gl(!0)},[n0,Jl]=c.useState(!1),[Ta,jd]=c.useState(""),[Aa,bd]=c.useState(""),[La,yd]=c.useState(""),[Nd,wd]=c.useState(""),[Pa,Sd]=c.useState(""),[Ed,kd]=c.useState(""),Cd=()=>{jd(""),bd(""),yd(""),wd(""),Sd(""),kd(""),Jl(!0)};if(B.status==="loading"&&!B.data)return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]});if(B.status==="error")return((Md=B.error)==null?void 0:Md.status)===403?s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(je,{})]}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t}),s.jsx(Z,{error:B.error})]});const Td=s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Filters"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Counts reflect the current page."})]}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50",onClick:()=>{j(""),g(""),y(""),E(""),o(1)},children:"Clear"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-2",children:[s.jsx(Ws,{name:"search",className:"text-slate-400"}),s.jsx("input",{className:"w-full border-0 p-0 text-sm focus:ring-0",value:w,onChange:v=>E(v.target.value),placeholder:"Search by name or code"})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"border-t border-slate-100"}),s.jsx(il,{title:"Status",open:R,onToggle:()=>T(v=>!v),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"Any",checked:!b,count:A.length,onChange:()=>{y(""),o(1)}}),s.jsx(wt,{label:"Active",checked:b==="ACTIVE",count:oe.statusCounts.ACTIVE,onChange:()=>{y("ACTIVE"),o(1)}}),s.jsx(wt,{label:"On hold",checked:b==="ON_HOLD",count:oe.statusCounts.ON_HOLD,onChange:()=>{y("ON_HOLD"),o(1)}}),s.jsx(wt,{label:"Exited",checked:b==="EXITED",count:oe.statusCounts.EXITED,onChange:()=>{y("EXITED"),o(1)}})]})}),s.jsx(il,{title:"Scope",open:I,onToggle:()=>C(v=>!v),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"Any",checked:!h,count:A.length,onChange:()=>{g(""),o(1)}}),s.jsx(wt,{label:"Company",checked:h==="COMPANY",count:oe.scopeCounts.COMPANY,onChange:()=>{g("COMPANY"),o(1)}}),s.jsx(wt,{label:"Division",checked:h==="DIVISION",count:oe.scopeCounts.DIVISION,onChange:()=>{g("DIVISION"),o(1)}})]})}),s.jsx(il,{title:"Division",open:S,onToggle:()=>V(v=>!v),children:s.jsxs("div",{className:"space-y-1 max-h-64 overflow-auto pr-1",children:[s.jsx(wt,{label:"Any",checked:!m,count:A.length,onChange:()=>{j(""),o(1)}}),(((Od=F.data)==null?void 0:Od.items)||[]).map(v=>{const ie=oe.divisionCounts[v.id]||0;return s.jsx(wt,{label:`${v.code}  ${v.name}`,checked:m===v.id,count:ie,onChange:()=>{j(v.id),o(1)}},v.id)})]})}),s.jsx(il,{title:"Employment Type",open:G,onToggle:()=>X(v=>!v),children:s.jsx("div",{className:"space-y-1",children:s.jsx(wt,{label:"Not available",checked:!0,count:0,onChange:()=>{},disabled:!0})})}),s.jsx(il,{title:"Compensation Type",open:ce,onToggle:()=>se(v=>!v),children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(wt,{label:"All",checked:!x,count:A.length,onChange:()=>{u(""),o(1)}}),["MONTHLY","HOURLY","ANNUAL"].map(v=>{const ie=A.filter(xe=>xe.compensationType===v).length;return s.jsx(wt,{label:v,checked:x===v,count:ie,onChange:()=>{u(v),o(1)}},v)}),s.jsx(wt,{label:"None",checked:x==="NONE",count:A.filter(v=>!v.compensationType).length,onChange:()=>{u("NONE"),o(1)}})]})})]})]});return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Directory",actions:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"inline-flex lg:hidden items-center gap-2 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>L(!0),children:[s.jsx(Ws,{name:"filter",className:"text-slate-600"}),"Filters"]}),l?s.jsx("button",{type:"button",className:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800",onClick:ql,children:"Add Employee"}):null]})}),N?s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>L(!1)}),s.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-slate-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Filters"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white p-2 text-slate-700",onClick:()=>L(!1),children:s.jsx(Ws,{name:"x"})})]}),s.jsx("div",{className:"mt-4",children:Td})]})]}):null,Q&&f?s.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-50 xl:hidden",children:[s.jsx("div",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>p(!1),children:"Back"}),s.jsx("div",{className:"min-w-0 text-sm font-semibold text-slate-900 truncate",children:"Employee"}),s.jsx("div",{className:"w-[68px]"})]})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:z?pr(z):""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:z?Fs(z):"Employee detail"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:z?`${z.employeeCode}  ${z.email||""}`:"Select an employee to view details."})]})]}),z?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||me.status==="loading",onClick:K,children:"Edit Profile"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||ae.status==="loading",onClick:rd,children:"Change Scope"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||Le.status==="loading",onClick:cd,children:"Change Status"}):null]}):null]}),z?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[vr(z.status),z.compensationType?gr(z.compensationType):null,xn(z.scope),z.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:fn(P,z.primaryDivisionId)}):null]}):null,Te?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Status is EXITED. Write actions are disabled."}):null,s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"profile",label:"Profile"},{id:"scope",label:"Scope History"},{id:"compensation",label:"Compensation"},{id:"documents",label:"Documents"}].map(v=>s.jsx("button",{type:"button",className:Xs("rounded-lg px-3 py-2 text-sm font-medium",ne===v.id?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",z?"":"opacity-50 cursor-not-allowed"),onClick:()=>pe(v.id),disabled:!z,children:v.label},v.id))})})]}),s.jsx("div",{className:"p-4",children:Q?ye.status==="loading"?s.jsx(Ae,{label:"Loading employee"}):ye.status==="error"?((Bd=ye.error)==null?void 0:Bd.status)===403?s.jsx(je,{}):s.jsx(Z,{error:ye.error}):z?s.jsxs(s.Fragment,{children:[ne==="profile"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Employee Code"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:z.employeeCode})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Name"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:Fs(z)})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Email"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:z.email||""})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Phone"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:z.phone||""})]})]}):null,ne==="scope"?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Scope History"}),s.jsx("div",{className:"mt-2 grid grid-cols-1 gap-3",children:(((zd=ye.data)==null?void 0:zd.scopeHistory)||[]).length===0?s.jsx(we,{title:"No scope history"}):(((Ud=ye.data)==null?void 0:Ud.scopeHistory)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Scope"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[xn(v.scope),v.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:fn(P,v.primaryDivisionId)}):null]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[new Date(v.effectiveFrom).toLocaleString(),"  ",v.effectiveTo?new Date(v.effectiveTo).toLocaleString():"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:v.reason})]})]},v.id))})]}):null,ne==="compensation"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Compensation"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Append-only versions. Effective dates must not overlap."})]}),r?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!z||Te||M.status==="loading",onClick:gd,children:"Add Version"}):null]}),s.jsx("div",{className:"mt-3",children:be.status==="loading"?s.jsx(Ae,{label:"Loading compensation"}):be.status==="error"?s.jsx(Z,{error:be.error}):(((Fd=be.data)==null?void 0:Fd.items)||[]).length===0?s.jsx(we,{title:"No compensation versions"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:((($d=be.data)==null?void 0:$d.items)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Amount"}),s.jsxs("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:[v.currency," ",Number(v.amount).toFixed(2)," (",v.frequency,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[String(v.effectiveFrom),"  ",v.effectiveTo?String(v.effectiveTo):"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:v.reason})]})]},v.id))})})]}):null,ne==="documents"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Documents"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Metadata only. Downloads use signed URLs."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!z||Te||U.status==="loading",onClick:Cd,children:"Upload Metadata"}):null]}),s.jsx("div",{className:"mt-3",children:De.status==="loading"?s.jsx(Ae,{label:"Loading documents"}):De.status==="error"?s.jsx(Z,{error:De.error}):(((Vd=De.data)==null?void 0:Vd.items)||[]).length===0?s.jsx(we,{title:"No documents"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Hd=De.data)==null?void 0:Hd.items)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:v.fileName}),v.isActive?s.jsx("span",{className:"inline-flex rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-700",children:"Inactive"})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:v.documentType})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:!v.isActive||$.status==="loading",onClick:async()=>{const ie=await $.run({id:Q,docId:v.id}),xe=ie==null?void 0:ie.url;xe&&window.open(xe,"_blank","noopener,noreferrer")},children:[s.jsx(Ws,{name:"download"}),"Download"]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"MIME"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.mimeType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Size"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:typeof v.sizeBytes=="number"?`${v.sizeBytes} bytes`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.uploadedAt?new Date(v.uploadedAt).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded By"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.uploadedBy?String(v.uploadedBy).slice(0,8)+"":""})]})]})]},v.id))})})]}):null]}):null:s.jsx(we,{title:"No employee selected",description:"Pick someone from the directory to view profile, history, compensation and documents."})})]})})]}):null,s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 pb-8",children:[s.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:s.jsx("div",{className:"sticky top-6",children:Td})}),s.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Employees"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Showing ",J.length," on this page  Total ",k]})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Page ",i]})]})}),J.length===0?s.jsx("div",{className:"p-6",children:s.jsx(we,{title:"No employees",description:"Try changing filters or search."})}):s.jsxs("div",{children:[s.jsx("div",{className:"md:hidden p-3 space-y-2",children:J.map(v=>{const ie=Q===v.id;return s.jsx("button",{type:"button",className:Xs("w-full text-left rounded-2xl border p-4 shadow-sm",ie?"border-slate-900 bg-slate-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>{H(v.id),pe("profile"),p(!0)},children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:pr(v)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Fs(v)}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"font-mono text-xs text-slate-600",children:v.employeeCode}),vr(v.status),xn(v.scope),v.compensationType?gr(v.compensationType):null]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:fn(P,v.primaryDivisionId)})]})]})})},v.id)})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Avatar"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Code"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Compensation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Scope"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Division"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:J.map(v=>{const ie=Q===v.id,xe=v.status==="EXITED";return s.jsxs("tr",{className:ie?"bg-slate-50":"",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{type:"button",className:"flex items-center gap-3 text-left",onClick:()=>{H(v.id),pe("profile"),p(!0)},children:s.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:pr(v)})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-mono text-sm text-slate-900",children:v.employeeCode})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Fs(v)}),s.jsx("div",{className:"text-xs text-slate-500",children:v.email||""})]}),s.jsx("td",{className:"px-4 py-3",children:vr(v.status)}),s.jsx("td",{className:"px-4 py-3",children:v.compensationType?gr(v.compensationType):s.jsx("span",{className:"text-xs text-slate-400",children:""})}),s.jsx("td",{className:"px-4 py-3",children:xn(v.scope)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:fn(P,v.primaryDivisionId)})}),s.jsx("td",{className:"px-4 py-3 text-right",children:l?s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:xe,onClick:()=>{H(v.id),pe("profile"),_(v)},children:[s.jsx(Ws,{name:"edit"}),"Edit"]}):s.jsx("span",{className:"text-xs text-slate-400",children:""})})]},v.id)})})]})})}),s.jsx("div",{className:"p-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:i<=1,onClick:()=>o(v=>Math.max(1,v-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",i]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:i*d>=k,onClick:()=>o(v=>v+1),children:"Next"})]})})]})]}),s.jsxs("div",{className:"hidden xl:block bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:z?pr(z):""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:z?Fs(z):"Employee detail"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:z?`${z.employeeCode}  ${z.email||""}`:"Select an employee to view details."})]})]}),z?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||me.status==="loading",onClick:K,children:"Edit Profile"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||ae.status==="loading",onClick:rd,children:"Change Scope"}):null,l?s.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:Te||Le.status==="loading",onClick:cd,children:"Change Status"}):null]}):null]}),z?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[vr(z.status),z.compensationType?gr(z.compensationType):null,xn(z.scope),z.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:fn(P,z.primaryDivisionId)}):null]}):null,Te?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Status is EXITED. Write actions are disabled."}):null,s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"profile",label:"Profile"},{id:"scope",label:"Scope History"},{id:"compensation",label:"Compensation"},{id:"documents",label:"Documents"}].map(v=>s.jsx("button",{type:"button",className:Xs("rounded-lg px-3 py-2 text-sm font-medium",ne===v.id?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",z?"":"opacity-50 cursor-not-allowed"),onClick:()=>pe(v.id),disabled:!z,children:v.label},v.id))})})]}),s.jsx("div",{className:"p-4",children:Q?ye.status==="loading"?s.jsx(Ae,{label:"Loading employee"}):ye.status==="error"?((Wd=ye.error)==null?void 0:Wd.status)===403?s.jsx(je,{}):s.jsx(Z,{error:ye.error}):z?s.jsxs(s.Fragment,{children:[ne==="profile"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Employee Code"}),s.jsx("div",{className:"mt-1 font-mono text-sm text-slate-900",children:z.employeeCode})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Name"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:Fs(z)})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Email"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:z.email||""})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Phone"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:z.phone||""})]})]}):null,ne==="scope"?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Scope History"}),s.jsx("div",{className:"mt-2 grid grid-cols-1 gap-3",children:(((Yd=ye.data)==null?void 0:Yd.scopeHistory)||[]).length===0?s.jsx(we,{title:"No scope history"}):(((qd=ye.data)==null?void 0:qd.scopeHistory)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Scope"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[xn(v.scope),v.scope==="DIVISION"?s.jsx("span",{className:"text-xs text-slate-600",children:fn(P,v.primaryDivisionId)}):null]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[new Date(v.effectiveFrom).toLocaleString(),"  ",v.effectiveTo?new Date(v.effectiveTo).toLocaleString():"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:v.reason})]})]},v.id))})]}):null,ne==="compensation"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Compensation"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Append-only versions. Effective dates must not overlap."})]}),r?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!z||Te||M.status==="loading",onClick:gd,children:"Add Version"}):null]}),s.jsx("div",{className:"mt-3",children:be.status==="loading"?s.jsx(Ae,{label:"Loading compensation"}):be.status==="error"?s.jsx(Z,{error:be.error}):(((Qd=be.data)==null?void 0:Qd.items)||[]).length===0?s.jsx(we,{title:"No compensation versions"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Kd=be.data)==null?void 0:Kd.items)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Amount"}),s.jsxs("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:[v.currency," ",Number(v.amount).toFixed(2)," (",v.frequency,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Effective"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-700",children:[String(v.effectiveFrom),"  ",v.effectiveTo?String(v.effectiveTo):"Active"]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:v.reason})]})]},v.id))})})]}):null,ne==="documents"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Documents"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Metadata only. Downloads use signed URLs."})]}),a?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!z||Te||U.status==="loading",onClick:Cd,children:"Upload Metadata"}):null]}),s.jsx("div",{className:"mt-3",children:De.status==="loading"?s.jsx(Ae,{label:"Loading documents"}):De.status==="error"?s.jsx(Z,{error:De.error}):(((Gd=De.data)==null?void 0:Gd.items)||[]).length===0?s.jsx(we,{title:"No documents"}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(((Xd=De.data)==null?void 0:Xd.items)||[]).map(v=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:v.fileName}),v.isActive?s.jsx("span",{className:"inline-flex rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700",children:"Active"}):s.jsx("span",{className:"inline-flex rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-700",children:"Inactive"})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:v.documentType})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:!v.isActive||$.status==="loading",onClick:async()=>{const ie=await $.run({id:Q,docId:v.id}),xe=ie==null?void 0:ie.url;xe&&window.open(xe,"_blank","noopener,noreferrer")},children:[s.jsx(Ws,{name:"download"}),"Download"]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"MIME"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.mimeType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Size"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:typeof v.sizeBytes=="number"?`${v.sizeBytes} bytes`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.uploadedAt?new Date(v.uploadedAt).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Uploaded By"}),s.jsx("div",{className:"mt-1 text-xs text-slate-700",children:v.uploadedBy?String(v.uploadedBy).slice(0,8)+"":""})]})]})]},v.id))})})]}):null]}):null:s.jsx(we,{title:"No employee selected",description:"Pick someone from the directory to view profile, history, compensation and documents."})})]})]})})]})}),ee?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{re.status==="loading"||me.status==="loading"||q(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:he==="create"?"Create Employee":"Edit Employee"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono disabled:bg-slate-50",value:Re,onChange:v=>tt(v.target.value),disabled:he!=="create"}),he!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Employee code is immutable."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:Xn,onChange:v=>Ms(v.target.value),disabled:he!=="create",children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]}),he!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Status for lifecycle transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"First Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Je,onChange:v=>Ds(v.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:an,onChange:v=>on(v.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Gn,onChange:v=>Rs(v.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Phone"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:dn,onChange:v=>Is(v.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:Gt,onChange:v=>Os(v.target.value),disabled:he!=="create",children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]}),he!=="create"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Use Change Scope for scope transitions."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:cn,onChange:v=>Bs(v.target.value),disabled:he!=="create"||Gt!=="DIVISION",children:[s.jsx("option",{value:"",children:Gt==="DIVISION"?"Select":""}),(((Jd=F.data)==null?void 0:Jd.items)||[]).map(v=>s.jsxs("option",{value:v.id,children:[v.code,"  ",v.name]},v.id))]})]}),he==="create"?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Idempotency Key (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:Jn,onChange:v=>Us(v.target.value)}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If provided, repeated creates will return the same employee."})]}):null,s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:un,onChange:v=>zs(v.target.value)})]})]}),re.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:re.error})}):null,me.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:me.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:re.status==="loading"||me.status==="loading",onClick:()=>q(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:(he==="create"?re.status==="loading":me.status==="loading")||Re.trim().length===0||Je.trim().length===0||an.trim().length===0||he==="create"&&Gt==="DIVISION"&&!cn,onClick:async()=>{if(he==="create"){const ie={employeeCode:Re.trim(),firstName:Je.trim(),lastName:an.trim(),email:Gn.trim()||null,phone:dn.trim()||null,status:Xn,scope:Gt,primaryDivisionId:Gt==="DIVISION"?cn:null,reason:un.trim()||null,idempotencyKey:Jn.trim()||null},xe=await re.run(ie),Ee=xe==null?void 0:xe.item;q(!1),B.refresh(),Ee!=null&&Ee.id&&(H(Ee.id),pe("profile"),qe());return}if(!Q)return;const v={firstName:Je.trim()||null,lastName:an.trim()||null,email:Gn.trim()||null,phone:dn.trim()||null,reason:un.trim()||null};await me.run({id:Q,payload:v}),q(!1),B.refresh(),qe()},children:he==="create"?re.status==="loading"?"Creating":"Create":me.status==="loading"?"Saving":"Save"})]})]})]}):null,W?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{ae.status!=="loading"&&te(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Scope"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Scope changes are append-only and require a reason."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Scope"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ve,onChange:v=>Oe(v.target.value),children:[s.jsx("option",{value:"COMPANY",children:"COMPANY"}),s.jsx("option",{value:"DIVISION",children:"DIVISION"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm disabled:bg-slate-50",value:pt,onChange:v=>Pe(v.target.value),disabled:ve!=="DIVISION",children:[s.jsx("option",{value:"",children:ve==="DIVISION"?"Select":""}),(((Zd=F.data)==null?void 0:Zd.items)||[]).map(v=>s.jsxs("option",{value:v.id,children:[v.code,"  ",v.name]},v.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Vt,onChange:v=>Ql(v.target.value)}),Vt.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),ae.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:ae.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:ae.status==="loading",onClick:()=>te(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:ae.status==="loading"||!Q||Vt.trim().length===0||ve==="DIVISION"&&!pt,onClick:async()=>{await ae.run({id:Q,payload:{scope:ve,primaryDivisionId:ve==="DIVISION"?pt:null,reason:Vt.trim()}}),te(!1),B.refresh(),qe()},children:ae.status==="loading"?"Saving":"Confirm"})]})]})]}):null,t0?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{Le.status!=="loading"&&Kl(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Change Employee Status"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Status affects payroll and attendance eligibility."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ad,onChange:v=>id(v.target.value),children:[s.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),s.jsx("option",{value:"ON_HOLD",children:"ON_HOLD"}),s.jsx("option",{value:"EXITED",children:"EXITED"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:od,onChange:v=>dd(v.target.value)})]})]}),Le.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:Le.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:Le.status==="loading",onClick:()=>Kl(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:Le.status==="loading"||!Q,onClick:async()=>{await Le.run({id:Q,payload:{status:ad,reason:od.trim()||null}}),Kl(!1),B.refresh(),qe()},children:Le.status==="loading"?"Saving":"Confirm"})]})]})]}):null,s0?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{M.status!=="loading"&&Gl(!1)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Add Compensation Version"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Effective dates must not overlap. Reason is required."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ka,onChange:v=>ud(v.target.value),placeholder:"5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Currency"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:md,onChange:v=>xd(v.target.value),placeholder:"USD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Frequency"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:fd,onChange:v=>hd(v.target.value),children:[s.jsx("option",{value:"HOURLY",children:"HOURLY"}),s.jsx("option",{value:"MONTHLY",children:"MONTHLY"}),s.jsx("option",{value:"ANNUAL",children:"ANNUAL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Effective From"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",type:"date",value:Ca,onChange:v=>pd(v.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Xl,onChange:v=>vd(v.target.value)}),Xl.trim().length===0?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Reason is required."}):null]})]}),M.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:M.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:M.status==="loading",onClick:()=>Gl(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:M.status==="loading"||!Q||Xl.trim().length===0||Ca.trim().length===0||ka.trim().length===0,onClick:async()=>{await M.run({id:Q,payload:{amount:Number(ka),currency:md.trim().toUpperCase(),frequency:fd,effectiveFrom:Ca,reason:Xl.trim()}}),Gl(!1),Ge()},children:M.status==="loading"?"Saving":"Confirm"})]})]})]}):null,n0?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{U.status!=="loading"&&Jl(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Employee Document (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey. No deletes; documents can only be deactivated."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Document Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Ta,onChange:v=>jd(v.target.value),placeholder:"OFFER_LETTER"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Aa,onChange:v=>bd(v.target.value),placeholder:"offer-letter.pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:La,onChange:v=>yd(v.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Nd,onChange:v=>wd(v.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size (bytes, optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:Pa,onChange:v=>Sd(v.target.value),placeholder:"12345"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Ed,onChange:v=>kd(v.target.value)})]})]}),U.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:U.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:U.status==="loading",onClick:()=>Jl(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:U.status==="loading"||!Q||Ta.trim().length===0||Aa.trim().length===0||La.trim().length===0,onClick:async()=>{await U.run({id:Q,payload:{documentType:Ta.trim(),fileName:Aa.trim(),storageKey:La.trim(),mimeType:Nd.trim()||null,sizeBytes:Pa.trim().length>0?Number(Pa):null,reason:Ed.trim()||null}}),Jl(!1),Qe()},children:U.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function hn(e){return e&&typeof e=="string"?e.slice(0,10):null}function yu(e){return String(e).padStart(2,"0")}function dv(e){return e%4===0&&e%100!==0||e%400===0}function cv(e,t){return t===2?dv(e)?29:28:t===4||t===6||t===9||t===11?30:31}function uv(e,t){const n=[],l=t+1,r=cv(e,l);for(let a=1;a<=r;a++)n.push(`${e}-${yu(l)}-${yu(a)}`);return n}function ai(...e){return e.filter(Boolean).join(" ")}function mv(e){return e.slice(0,7)}function xv(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim(),l=t?t[0]:"",r=n?n[0]:"";return(l+r).toUpperCase()||""}function fv(e){const t=String(e||"").toUpperCase();return t==="PRESENT"?"bg-emerald-50 text-emerald-700 border-emerald-200":t==="ABSENT"?"bg-rose-50 text-rose-700 border-rose-200":t==="LEAVE"?"bg-amber-50 text-amber-800 border-amber-200":"bg-white text-slate-500 border-slate-200"}function hv(){return"bg-slate-100 text-slate-400 border-slate-200"}function pv(){var Rs,dn,Is,Xn,Ms,Gt,Os,cn,Bs,un,zs,Jn,Us,ql;const{bootstrap:e}=He(),t=((Is=(dn=(Rs=e==null?void 0:e.ui)==null?void 0:Rs.screens)==null?void 0:dn.attendance)==null?void 0:Is.title)||"Attendance",n=((Xn=e==null?void 0:e.rbac)==null?void 0:Xn.permissions)||[],l=n.includes("ATTENDANCE_READ"),r=n.includes("ATTENDANCE_WRITE"),a=n.includes("ATTENDANCE_BULK_WRITE"),i=n.includes("ATTENDANCE_OVERRIDE"),[o,d]=c.useState(""),[m,j]=c.useState(""),[h,g]=c.useState("monthly"),[b,y]=c.useState(""),[w,E]=c.useState("");c.useEffect(()=>{const _=setTimeout(()=>{E(b)},300);return()=>clearTimeout(_)},[b]);const x=Ce({path:"/api/v1/governance/divisions",page:1,pageSize:200,enabled:!0}),u=c.useMemo(()=>{var K;const _={};for(const W of((K=x.data)==null?void 0:K.items)||[])_[W.id]=W;return _},[x.data]),[f,p]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),N=()=>p(_=>({..._,refreshIndex:_.refreshIndex+1}));c.useEffect(()=>{if(!l||!o)return;let _=!0;async function K(){p(W=>({...W,status:"loading",error:null}));try{const W=new URL("/api/v1/attendance/month","http://local");W.searchParams.set("month",o),m&&W.searchParams.set("divisionId",m);const te=await le(W.pathname+W.search);if(!_)return;p(ve=>({...ve,status:"ready",data:te,error:null}))}catch(W){if(!_)return;p(te=>({...te,status:"error",error:W}))}}return K(),()=>{_=!1}},[l,o,m,f.refreshIndex]),c.useEffect(()=>{if(!l||o)return;let _=!0;async function K(){try{const W=new URL("/api/v1/attendance/month","http://local"),te=await le("/api/v1/attendance/today"),ve=(te==null?void 0:te.todayDate)||null;if(!_)return;ve&&/^\d{4}-\d{2}-\d{2}$/.test(ve)&&d(mv(ve))}catch{}}return K(),()=>{_=!1}},[l,o]);const[L,R]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),T=()=>R(_=>({..._,refreshIndex:_.refreshIndex+1}));c.useEffect(()=>{if(!l||h!=="summary")return;let _=!0;async function K(){R(W=>({...W,status:"loading",error:null}));try{const W=new URL("/api/v1/attendance/summary","http://local");W.searchParams.set("month",o),m&&W.searchParams.set("divisionId",m);const te=await le(W.pathname+W.search);if(!_)return;R(ve=>({...ve,status:"ready",data:te,error:null}))}catch(W){if(!_)return;R(te=>({...te,status:"error",error:W}))}}return K(),()=>{_=!1}},[l,h,o,m,L.refreshIndex]);const I=!!((Ms=f.data)!=null&&Ms.isMonthClosed),C=r&&!I,S=((Gt=f.data)==null?void 0:Gt.todayDate)||null,V=c.useMemo(()=>{if(!o)return[];const[_,K]=o.split("-").map(Number);return uv(_,K-1)},[o]),G=((Os=f.data)==null?void 0:Os.employees)||[],X=((cn=f.data)==null?void 0:cn.records)||[],ce=c.useMemo(()=>{const _=String(w||"").trim().toLowerCase();return _?(G||[]).filter(K=>{const W=String((K==null?void 0:K.employeeCode)||"").toLowerCase(),te=`${String((K==null?void 0:K.firstName)||"").trim()} ${String((K==null?void 0:K.lastName)||"").trim()}`.trim().toLowerCase();return W.includes(_)||te.includes(_)}):G},[G,w]),se=c.useMemo(()=>{var W;const _=((W=L.data)==null?void 0:W.items)||[],K=String(w||"").trim().toLowerCase();return K?_.filter(te=>{const ve=String((te==null?void 0:te.employeeCode)||"").toLowerCase(),Oe=`${String((te==null?void 0:te.firstName)||"").trim()} ${String((te==null?void 0:te.lastName)||"").trim()}`.trim().toLowerCase();return ve.includes(K)||Oe.includes(K)}):_},[L.data,w]),[F,P]=c.useState({});c.useEffect(()=>{if(!l)return;let _=!0;async function K(){const W=(G||[]).map(Oe=>Oe.id).filter(Oe=>Oe&&!F[Oe]);if(W.length===0)return;const te=W.slice(0,50),ve=await Promise.all(te.map(async Oe=>{try{const pt=await le(`/api/v1/employees/${Oe}`),Pe=(pt==null?void 0:pt.item)||null,Vt=hn(Pe==null?void 0:Pe.joiningDate)||(typeof(Pe==null?void 0:Pe.createdAt)=="string"?hn(Pe.createdAt):null),Ql=hn(Pe==null?void 0:Pe.exitDate);return[Oe,{joiningDate:Vt,exitDate:Ql,status:(Pe==null?void 0:Pe.status)||null}]}catch{return[Oe,{joiningDate:null,exitDate:null,status:null}]}}));_&&P(Oe=>{const pt={...Oe};for(const[Pe,Vt]of ve)pt[Pe]=Vt;return pt})}return K(),()=>{_=!1}},[l,G,F]);function B({employeeId:_,attendanceDate:K}){var Oe,pt;if(!r)return"You do not have permission to mark attendance";if(I)return"Month is CLOSED";if(!S)return"Server date unavailable";if(K!==S)return K<S?"Past dates are not allowed":"Future dates are not allowed";const W=(G||[]).find(Pe=>Pe.id===_),te=hn(W==null?void 0:W.joiningDate)||((Oe=F[_])==null?void 0:Oe.joiningDate)||null,ve=hn(W==null?void 0:W.exitDate)||((pt=F[_])==null?void 0:pt.exitDate)||null;return te&&K<te?"Attendance not allowed before employee joining date":ve&&K>ve?`Employee exited on ${ve}`:null}function A({employeeId:_,attendanceDate:K}){return!B({employeeId:_,attendanceDate:K})}const k=c.useMemo(()=>{const _=new Map;for(const K of X){const W=hn(K.attendanceDate);W&&_.set(`${K.employeeId}:${W}`,K)}return _},[X]),D=Se(async _=>le("/api/v1/attendance/mark",{method:"POST",body:_})),J=Se(async _=>le("/api/v1/attendance/bulk-mark",{method:"POST",body:_})),[oe,Q]=c.useState(!1),[H,ne]=c.useState(null),[pe,ye]=c.useState(""),[Ye,qe]=c.useState(""),[z,Te]=c.useState("PRESENT"),[be,ze]=c.useState("HR"),[Ge,De]=c.useState(""),[ue,Qe]=c.useState(""),[re,me]=c.useState(!1),ae=(_,K)=>{const W=k.get(`${_.id}:${K}`);ne(_),ye(K),qe(K),Te((W==null?void 0:W.status)||"PRESENT"),ze((W==null?void 0:W.source)||"HR"),De((W==null?void 0:W.note)||""),Qe(""),Q(!0)},Le=z==="ABSENT"||z==="LEAVE",M=async()=>{console.assert(/^\d{4}-\d{2}-\d{2}$/.test(pe),"Invalid attendanceDate"),console.assert(pe===Ye,"Modal date mismatch (must submit clicked cell date)");const _={employeeId:H.id,attendanceDate:pe,status:z,source:be,note:Ge.trim()||null,reason:ue.trim()||null};console.assert(_.attendanceDate===Ye,"Payload date mismatch (must submit clicked cell date)"),await D.run(_),Q(!1),me(!1),N()},[U,$]=c.useState(!1),[ee,q]=c.useState(""),[he,de]=c.useState("HR"),[Re,tt]=c.useState([]),[Je,Ds]=c.useState(null);c.useEffect(()=>{if(!o){q("");return}const[_,K]=o.split("-").map(Number);q(`${_}-${String(K).padStart(2,"0")}-01`)},[o]);const an=()=>{if(!o)return;const _=ee||(()=>{const[W,te]=o.split("-").map(Number);return`${W}-${String(te).padStart(2,"0")}-01`})(),K=(G||[]).map(W=>{const te=k.get(`${W.id}:${_}`);return{employeeId:W.id,employeeCode:W.employeeCode,firstName:W.firstName,lastName:W.lastName,status:(te==null?void 0:te.status)||"PRESENT",note:(te==null?void 0:te.note)||"",reason:""}});tt(K),Ds(null),$(!0)},on=async()=>{if(!o)return;console.assert(/^\d{4}-\d{2}-\d{2}$/.test(ee),"Invalid attendanceDate");const _={attendanceDate:ee,source:he,items:Re.map(W=>({employeeId:W.employeeId,status:W.status,note:W.note.trim()||null,reason:W.reason.trim()||null}))},K=await J.run(_);Ds(K),N()};if(!l)return s.jsxs("div",{children:[s.jsx(fe,{title:t}),s.jsx(je,{})]});if(f.status==="loading"&&!f.data)return s.jsxs("div",{children:[s.jsx(fe,{title:t}),s.jsx(Ae,{})]});if(f.status==="error")return s.jsxs("div",{children:[s.jsx(fe,{title:t}),((Bs=f.error)==null?void 0:Bs.status)===403?s.jsx(je,{}):s.jsx(Z,{error:f.error})]});const Gn=((un=f.data)==null?void 0:un.monthStatus)||"OPEN";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:t,subtitle:"Monthly",actions:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{type:"button",className:ai("rounded-lg px-3 py-2 text-sm font-medium",h==="monthly"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>g("monthly"),children:"Monthly"}),s.jsx("button",{type:"button",className:ai("rounded-lg px-3 py-2 text-sm font-medium",h==="summary"?"bg-slate-900 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),onClick:()=>{g("summary"),T()},children:"Summary"})]})}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Controls"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Month close status: ",Gn]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Month"}),s.jsx("input",{type:"month",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:_=>{d(_.target.value),N()}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Employee"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:b,onChange:_=>y(_.target.value),placeholder:"Search by name or code"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Division"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:m,onChange:_=>{j(_.target.value),N(),T()},disabled:x.status==="error"||(((zs=x.data)==null?void 0:zs.items)||[]).length===0,children:[s.jsx("option",{value:"",children:"All"}),(((Jn=x.data)==null?void 0:Jn.items)||[]).map(_=>s.jsxs("option",{value:_.id,children:[_.code,"  ",_.name]},_.id))]}),x.status==="error"?s.jsx("div",{className:"mt-1 text-xs text-rose-700",children:"Divisions unavailable."}):null]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-600",children:"Editability"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:I?"Month is CLOSED. Read-only.":r?"Month is OPEN. You can mark attendance.":"Read-only."})]}),h==="monthly"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:!a||I,onClick:an,children:"Bulk Mark"}),a?null:s.jsx("div",{className:"text-xs text-slate-500",children:"Requires ATTENDANCE_BULK_WRITE."})]}):null]})]})}),s.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:h==="monthly"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly View"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[ce.length," employees  ",V.length," days"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-slate-600",children:[s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-emerald-200"})," Present",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-rose-200"})," Absent",s.jsx("span",{className:"inline-flex h-3 w-3 rounded bg-amber-200"})," Leave"]})})]}),ce.length===0?s.jsx("div",{className:"p-6",children:s.jsx(we,{title:"No active employees",description:"Attendance applies to ACTIVE employees only."})}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full border-separate",style:{borderSpacing:0},children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-20 bg-white border-b border-slate-200 px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),V.map(_=>s.jsx("th",{className:"border-b border-slate-200 px-2 py-2 text-center text-xs font-semibold text-slate-600 whitespace-nowrap",children:_.slice(8)},_))]})}),s.jsx("tbody",{children:ce.map(_=>{var W;const K=_.primaryDivisionId&&((W=u[_.primaryDivisionId])==null?void 0:W.code)||"";return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white border-b border-slate-100 px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-semibold",children:xv(_)}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[_.employeeCode,"  ",_.firstName," ",_.lastName]}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:K?`Division: ${K}`:_.scope})]})]})}),V.map(te=>{const ve=k.get(`${_.id}:${te}`),Oe=(ve==null?void 0:ve.status)||"",Pe=!(C&&A({employeeId:_.id,attendanceDate:te})),Vt=B({employeeId:_.id,attendanceDate:te});return s.jsx("td",{className:"border-b border-slate-100 px-2 py-2 text-center",children:s.jsx("button",{type:"button",className:ai("w-12 h-9 rounded-lg border text-xs font-semibold",Pe?hv():fv(Oe),Pe?"cursor-not-allowed":"hover:shadow-sm"),disabled:Pe,onClick:Pe?void 0:()=>ae(_,te),title:Pe?Vt||"Not allowed":Oe?`${Oe}`:"",children:Oe?Oe[0]:""})},te)})]},_.id)})})]})})]}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Monthly Summary"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Read-only aggregation for payroll reference."})]}),L.status==="loading"?s.jsx("div",{className:"p-6",children:s.jsx(Ae,{label:"Loading summary"})}):L.status==="error"?s.jsx("div",{className:"p-6",children:((Us=L.error)==null?void 0:Us.status)===403?s.jsx(je,{}):s.jsx(Z,{error:L.error})}):(((ql=L.data)==null?void 0:ql.items)||[]).length===0?s.jsx("div",{className:"p-6",children:s.jsx(we,{title:"No data"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Present"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Absent"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Leave"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Working Days"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:se.map(_=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[_.employeeCode,"  ",_.firstName," ",_.lastName]})}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:_.presentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:_.absentDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:_.leaveDays}),s.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-700",children:_.totalWorkingDays})]},_.employeeId))})]})})]})})]})}),oe?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{D.status!=="loading"&&(Q(!1),me(!1))}}),s.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:H?`${H.employeeCode}  ${H.firstName} ${H.lastName}`:""}),s.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Date: ",pe]}),I?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:z,onChange:_=>Te(_.target.value),disabled:I,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:be,onChange:_=>ze(_.target.value),disabled:I,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Note (optional)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:Ge,onChange:_=>De(_.target.value),disabled:I})]}),i?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason (required for override)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ue,onChange:_=>Qe(_.target.value),disabled:I,placeholder:"Required when updating an existing record"})]}):null]}),D.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:D.error})}):null,s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:D.status==="loading",onClick:()=>{Q(!1),me(!1)},children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:D.status==="loading"||I||!H||!pe,onClick:()=>{if(Le){me(!0);return}M()},children:D.status==="loading"?"Saving":"Confirm"})]}),re?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-amber-900",children:["Confirm ",z]}),s.jsxs("div",{className:"mt-1 text-xs text-amber-900",children:["This will mark the employee as ",z," for ",pe,"."]}),s.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-amber-300 bg-white px-3 py-2 text-sm text-amber-900 hover:bg-amber-50",onClick:()=>me(!1),disabled:D.status==="loading",children:"Back"}),s.jsx("button",{type:"button",className:"rounded-md bg-amber-600 px-3 py-2 text-sm font-medium text-white disabled:bg-amber-300",onClick:M,disabled:D.status==="loading",children:"Confirm"})]})]}):null]})]}):null,U?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{J.status!=="loading"&&$(!1)}}),s.jsxs("div",{className:"relative w-full max-w-4xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Bulk Mark Attendance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Max batch size: 500"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>$(!1),disabled:J.status==="loading",children:"Close"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:ee,onChange:_=>q(_.target.value),disabled:I})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Source"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:he,onChange:_=>de(_.target.value),disabled:I,children:[s.jsx("option",{value:"HR",children:"HR"}),s.jsx("option",{value:"SYSTEM",children:"SYSTEM"}),s.jsx("option",{value:"SELF",children:"SELF"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:J.status==="loading"||I,onClick:on,children:J.status==="loading"?"Submitting":"Submit"})})]}),I?s.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Month is CLOSED. Read-only."}):null,J.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:J.error})}):null,s.jsx("div",{className:"mt-4 overflow-auto border border-slate-200 rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Status"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Note"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Reason (override)"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:Re.map(_=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-sm text-slate-900",children:[s.jsx("div",{className:"font-semibold",children:_.employeeCode}),s.jsxs("div",{className:"text-xs text-slate-500",children:[_.firstName," ",_.lastName]})]}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("select",{className:"w-full rounded-md border-slate-300 text-sm",value:_.status,onChange:K=>{const W=K.target.value;tt(te=>te.map(ve=>ve.employeeId===_.employeeId?{...ve,status:W}:ve))},disabled:I,children:[s.jsx("option",{value:"PRESENT",children:"PRESENT"}),s.jsx("option",{value:"ABSENT",children:"ABSENT"}),s.jsx("option",{value:"LEAVE",children:"LEAVE"})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:_.note,onChange:K=>{const W=K.target.value;tt(te=>te.map(ve=>ve.employeeId===_.employeeId?{...ve,note:W}:ve))},disabled:I})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{className:"w-full rounded-md border-slate-300 text-sm",value:_.reason,onChange:K=>{const W=K.target.value;tt(te=>te.map(ve=>ve.employeeId===_.employeeId?{...ve,reason:W}:ve))},disabled:I})})]},_.employeeId))})]})}),Je?s.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Result"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Created"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(Je.items||[]).filter(_=>_.outcome==="CREATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Updated"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:(Je.items||[]).filter(_=>_.outcome==="UPDATED").length})]}),s.jsxs("div",{className:"rounded-lg bg-white border border-slate-200 p-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500",children:"Failed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-rose-700",children:(Je.items||[]).filter(_=>_.outcome==="FAILED").length})]})]}),(Je.items||[]).filter(_=>_.outcome==="FAILED").length>0?s.jsx("div",{className:"mt-3 overflow-auto max-h-56",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Employee"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-slate-600",children:"Error"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:(Je.items||[]).filter(_=>_.outcome==="FAILED").map(_=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-xs font-mono text-slate-700",children:[String(_.employeeId).slice(0,8),""]}),s.jsx("td",{className:"px-3 py-2 text-xs text-rose-700",children:_.error||"Failed"})]},`${_.employeeId}:${_.attendanceDate}`))})]})}):null]}):null]})]}):null]})}function vv(...e){return e.filter(Boolean).join(" ")}function gv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function jv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function Nu({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:vv("inline-flex rounded-full px-2 py-1 text-xs font-semibold",jv(t)),children:t}):null}function bv(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)===400&&(t.includes("employee not found")||t.includes("not found"))}function yv(){var b,y,w,E;const{bootstrap:e}=He(),n=(((b=e==null?void 0:e.rbac)==null?void 0:b.permissions)||[]).includes("TIMESHEET_READ"),l=(e==null?void 0:e.systemConfig)||{},r=gv(((y=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:y.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),d=Ce({path:"/api/v1/timesheets/my",page:a,pageSize:o,enabled:n&&r}),m=((w=d.data)==null?void 0:w.items)||[],j=((E=d.data)==null?void 0:E.total)||0,h=d.status==="error"&&bv(d.error),g=c.useMemo(()=>{var x;return n?r?d.status==="loading"&&!d.data?s.jsx(Ae,{}):h?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):d.status==="error"?((x=d.error)==null?void 0:x.status)===403?s.jsx(je,{}):s.jsx(Z,{error:d.error}):s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Timesheets"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",j]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:d.refresh,disabled:d.status==="loading",children:d.status==="loading"?"Refreshing":"Refresh"})]}),s.jsxs("div",{className:"p-4",children:[m.length===0?s.jsx(we,{title:"No timesheets",description:"No weekly timesheets found."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"week",header:"Week",render:u=>s.jsxs("span",{className:"font-mono text-sm",children:[u.periodStart,"  ",u.periodEnd]})},{key:"status",header:"Status",render:u=>s.jsx(Nu,{status:u.status})},{key:"action",header:"Action",render:u=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/timesheet/${u.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:m.map(u=>({key:u.id,data:u}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:m.map(u=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[u.periodStart,"  ",u.periodEnd]})]}),s.jsx(Nu,{status:u.status})]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/timesheet/${u.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},u.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(u=>Math.max(1,u-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=j,onClick:()=>i(u=>u+1),children:"Next"})]})})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[n,h,m,d,a,o,r,j]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"My Timesheet"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:g})})]})}function Nv(...e){return e.filter(Boolean).join(" ")}function wv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function ii(e){const t=String((e==null?void 0:e.firstName)||"").trim(),n=String((e==null?void 0:e.lastName)||"").trim();return`${t} ${n}`.trim()||""}function Sv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function wu({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Nv("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Sv(t)),children:t}):null}function Ev(){var w,E,x,u;const{bootstrap:e}=He(),n=(((w=e==null?void 0:e.rbac)==null?void 0:w.permissions)||[]).includes("TIMESHEET_APPROVAL_QUEUE_READ"),l=(e==null?void 0:e.systemConfig)||{},r=wv(((E=l==null?void 0:l.TIMESHEET_ENABLED)==null?void 0:E.value)??(l==null?void 0:l.TIMESHEET_ENABLED)),[a,i]=c.useState(1),[o]=c.useState(20),[d,m]=c.useState(""),j=Ce({path:"/api/v1/timesheets/approvals",page:a,pageSize:o,enabled:n&&r}),h=((x=j.data)==null?void 0:x.items)||[],g=((u=j.data)==null?void 0:u.total)||0,b=c.useMemo(()=>{const f=String(d||"").trim().toLowerCase();return f?h.filter(p=>`${p.employeeCode||""} ${ii(p)} ${p.periodStart||""} ${p.periodEnd||""}`.toLowerCase().includes(f)):h},[h,d]),y=c.useMemo(()=>{var f;return n?r?j.status==="loading"&&!j.data?s.jsx(Ae,{}):j.status==="error"?((f=j.error)==null?void 0:f.status)===403?s.jsx(je,{}):s.jsx(Z,{error:j.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Search"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:d,onChange:p=>{m(p.target.value),i(1)},placeholder:"Employee code or name"})]}),s.jsx("div",{className:"md:col-span-1 flex items-end justify-end",children:s.jsx("button",{type:"button",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:j.refresh,disabled:j.status==="loading",children:j.status==="loading"?"Refreshing":"Refresh"})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Queue"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",g]})]}),s.jsxs("div",{className:"p-4",children:[b.length===0?s.jsx(we,{title:"No approvals",description:"No timesheets pending approval."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"employee",header:"Employee",render:p=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:ii(p)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:p.employeeCode||""})]})},{key:"week",header:"Week",render:p=>s.jsxs("span",{className:"font-mono text-sm",children:[p.periodStart,"  ",p.periodEnd]})},{key:"status",header:"Status",render:p=>s.jsx(wu,{status:p.status})},{key:"action",header:"Action",render:p=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/timesheet/${p.id}`,className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:b.map(p=>({key:p.id,data:p}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:b.map(p=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:ii(p)}),s.jsx("div",{className:"mt-1 font-mono text-xs text-slate-600",children:p.employeeCode||""})]}),s.jsx(wu,{status:p.status})]}),s.jsx("div",{className:"mt-3 text-xs text-slate-500",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[p.periodStart,"  ",p.periodEnd]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/timesheet/${p.id}`,className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})]},p.id))})]}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a<=1,onClick:()=>i(p=>Math.max(1,p-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:a*o>=g,onClick:()=>i(p=>p+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[n,b,j,a,o,d,r,g]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Timesheet Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:y})})]})}function Zx(...e){return e.filter(Boolean).join(" ")}function kv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Cv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":t==="REVISION_REQUIRED"?"bg-amber-50 text-amber-800":"bg-slate-100 text-slate-800"}function Tv({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Zx("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Cv(t)),children:t}):null}function Av(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function pn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function Lv(e,t){const n=({id:l,label:r})=>{const a=e===l;return s.jsx("button",{type:"button",className:Zx("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",a?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>t(l),children:r})};return s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(n,{id:"worklogs",label:"Worklogs"}),s.jsx(n,{id:"timeline",label:"Approval Timeline"}),s.jsx(n,{id:"audit",label:"Audit Trail"})]})}function Pv(){var z,Te,be,ze,Ge,De;const{id:e}=Yx(),t=Yl(),{bootstrap:n}=He(),l=((z=n==null?void 0:n.rbac)==null?void 0:z.permissions)||[],r=l.includes("TIMESHEET_READ"),a=l.includes("TIMESHEET_SUBMIT"),i=l.includes("TIMESHEET_APPROVE_L1"),o=l.includes("TIMESHEET_APPROVE_L2"),d=l.includes("TIMESHEET_WORKLOG_WRITE"),m=l.includes("GOV_MONTH_CLOSE_READ"),j=l.includes("GOV_AUDIT_READ"),h=(n==null?void 0:n.systemConfig)||{},g=((Te=n==null?void 0:n.features)==null?void 0:Te.flags)||{},b=kv(((be=h==null?void 0:h.TIMESHEET_ENABLED)==null?void 0:be.value)??(h==null?void 0:h.TIMESHEET_ENABLED)),y=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[w,E]=c.useState("worklogs"),[x,u]=c.useState({status:"idle",data:null,error:null,refreshIndex:0}),f=()=>u(ue=>({...ue,refreshIndex:ue.refreshIndex+1}));c.useEffect(()=>{E("worklogs")},[e]),c.useEffect(()=>{if(!r||!b||!e)return;let ue=!0;async function Qe(){u(re=>({...re,status:"loading",error:null}));try{const re=await le(`/api/v1/timesheets/${e}`);if(!ue)return;u(me=>({...me,status:"ready",data:re,error:null}))}catch(re){if(!ue)return;u(me=>({...me,status:"error",error:re}))}}return Qe(),()=>{ue=!1}},[r,e,x.refreshIndex,b]);const p=((ze=x.data)==null?void 0:ze.header)||null,N=((Ge=x.data)==null?void 0:Ge.worklogs)||[],L=p!=null&&p.periodEnd?Av(p.periodEnd):null,R=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:y&&m&&!!L}),T=c.useMemo(()=>{var Qe;const ue=new Set;for(const re of((Qe=R.data)==null?void 0:Qe.items)||[]){const me=(re==null?void 0:re.monthEnd)||(re==null?void 0:re.monthStart)||(re==null?void 0:re.month);me&&String((re==null?void 0:re.status)||"").toUpperCase()==="CLOSED"&&ue.add(String(me).slice(0,10))}return ue},[R.data]),I=!!(L&&T.has(L)),C=Ce({path:p!=null&&p.id?(()=>{const ue=new URL("/api/v1/governance/audit","http://local");return ue.searchParams.set("entityType","TIMESHEET"),ue.searchParams.set("entityId",p.id),ue.pathname+ue.search})():"/api/v1/governance/audit",page:1,pageSize:50,enabled:w==="audit"&&j&&!!(p!=null&&p.id)}),S=Se(async ue=>le("/api/v1/timesheets/worklog",{method:"POST",body:ue})),V=Se(async()=>le(`/api/v1/timesheets/${e}/submit`,{method:"POST",body:{}})),G=Se(async()=>le(`/api/v1/timesheets/${e}/approve`,{method:"POST",body:{}})),X=Se(async({reason:ue})=>le(`/api/v1/timesheets/${e}/reject`,{method:"POST",body:{reason:ue}})),ce=Se(async({reason:ue})=>le(`/api/v1/timesheets/${e}/request-revision`,{method:"POST",body:{reason:ue}})),[se,F]=c.useState(""),[P,B]=c.useState(""),[A,k]=c.useState(""),[D,J]=c.useState(""),[oe,Q]=c.useState(""),H=c.useMemo(()=>{const ue=new Map;for(const re of N){const me=String(re.workDate||"").slice(0,10);me&&(ue.has(me)||ue.set(me,[]),ue.get(me).push(re))}return Array.from(ue.entries()).sort((re,me)=>re[0]<me[0]?1:-1).map(([re,me])=>{const ae=me.slice().sort((M,U)=>String(M.updatedAt||"")<String(U.updatedAt||"")?1:-1),Le=ae.reduce((M,U)=>M+(Number(U.hours)||0),0);return{date:re,items:ae,totalHours:Le}})},[N]),ne=!!(p&&String(p.employeeId)===String((De=n==null?void 0:n.user)==null?void 0:De.id)&&d&&!I&&String(p.status||"").toUpperCase()!=="SUBMITTED"&&String(p.status||"").toUpperCase()!=="APPROVED"),pe=!!((i||o)&&p&&String(p.status||"").toUpperCase()==="SUBMITTED"&&!I),ye=!!(a&&p&&String(p.status||"").toUpperCase()==="DRAFT"&&!I),Ye=l.includes("TIMESHEET_APPROVAL_QUEUE_READ")?"/timesheet/approvals":"/timesheet/my",qe=c.useMemo(()=>{var ue,Qe,re,me;return r?b?x.status==="loading"&&!x.data?s.jsx(Ae,{}):x.status==="error"?((ue=x.error)==null?void 0:ue.status)===403?s.jsx(je,{}):s.jsx(Z,{error:x.error}):p?s.jsxs("div",{className:"space-y-4",children:[I?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This timesheet falls within a closed payroll month and is read-only."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Week"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-800",children:[p.periodStart,"  ",p.periodEnd]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Timesheet ID: ",s.jsxs("span",{className:"font-mono",children:[String(p.id).slice(0,12),""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tv,{status:p.status}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:f,disabled:x.status==="loading",children:x.status==="loading"?"Refreshing":"Refresh"})]})]}),s.jsx("div",{className:"mt-4",children:Lv(w,E)})]}),w==="worklogs"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Worklogs"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[N.length," entries"]})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[ne?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Add Worklog"}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:se,onChange:ae=>F(ae.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Task"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:P,onChange:ae=>B(ae.target.value),placeholder:"e.g., Client support"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Hours"}),s.jsx("input",{type:"number",step:"0.25",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:A,onChange:ae=>k(ae.target.value),placeholder:"8"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Description (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:D,onChange:ae=>J(ae.target.value),placeholder:"Short note"})]})]}),s.jsx("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:S.status==="loading"||!se||!P.trim()||!A||!p,onClick:async()=>{const ae=Number(A);await S.run({employeeId:p.employeeId,workDate:se,task:P.trim(),hours:ae,description:D.trim()||null,projectId:null}),B(""),k(""),J(""),f()},children:S.status==="loading"?"Saving":"Add"})}),S.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:S.error})}):null]}):null,H.length===0?s.jsx(we,{title:"No worklogs",description:"This timesheet has no worklogs."}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Task"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Hours"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:H.map(ae=>s.jsxs(ia.Fragment,{children:[ae.items.map((Le,M)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-slate-800",children:M===0?ae.date:""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800",children:Le.task||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 text-right",children:Le.hours??""})]},`${ae.date}-${Le.id}`)),s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-xs text-slate-500"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-600",children:"Total"}),s.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-800 text-right",children:ae.totalHours})]})]},ae.date))})]})}),ye?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submit"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Submit this timesheet for approval."}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:V.status==="loading",onClick:async()=>{await V.run(),f()},children:V.status==="loading"?"Submitting":"Submit"})}),V.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:V.error})}):null]}):null,pe?s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Actions"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Approve, reject, or request revision."}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600",children:"Reason (required for reject / revision)"}),s.jsx("textarea",{className:"mt-1 w-full h-24 rounded-md border-slate-300 text-sm",value:oe,onChange:ae=>Q(ae.target.value),placeholder:"Explain your decision"})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:ce.status==="loading"||!oe.trim(),onClick:async()=>{await ce.run({reason:oe.trim()}),Q(""),f()},children:ce.status==="loading"?"Sending":"Request Revision"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-medium text-rose-800 hover:bg-rose-100 disabled:bg-rose-50",disabled:X.status==="loading"||!oe.trim(),onClick:async()=>{await X.run({reason:oe.trim()}),Q(""),f()},children:X.status==="loading"?"Rejecting":"Reject"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:G.status==="loading",onClick:async()=>{await G.run(),f()},children:G.status==="loading"?"Approving":"Approve"})]}),G.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:G.error})}):null,X.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:X.error})}):null,ce.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:ce.error})}):null]}):null]})]}):null,w==="timeline"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-slate-800",children:pn(p.submittedAt)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L1"}),s.jsx("div",{className:"mt-1 text-slate-800",children:pn(p.approvedL1At)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approved L2"}),s.jsx("div",{className:"mt-1 text-slate-800",children:pn(p.approvedL2At)})]})]}),p.rejectedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-rose-200 bg-rose-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejected"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800",children:pn(p.rejectedAt)}),p.rejectedReason?s.jsxs("div",{className:"mt-1 text-sm text-rose-800",children:["Reason: ",p.rejectedReason]}):null]}):null,p.revisionRequestedAt?s.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Revision Requested"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:pn(p.revisionRequestedAt)}),p.revisionRequestedReason?s.jsxs("div",{className:"mt-1 text-sm text-amber-800",children:["Reason: ",p.revisionRequestedReason]}):null]}):null]}):null,w==="audit"?s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Audit Trail"}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:C.refresh,disabled:C.status==="loading",children:"Refresh"})]}),s.jsx("div",{className:"p-4",children:C.status==="loading"&&!C.data?s.jsx(Ae,{label:"Loading audit logs"}):C.status==="error"?((Qe=C.error)==null?void 0:Qe.status)===403?s.jsx(je,{}):s.jsx(Z,{error:C.error}):(((re=C.data)==null?void 0:re.items)||[]).length===0?s.jsx(we,{title:"No audit logs"}):s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"At"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Action"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Reason"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:(((me=C.data)==null?void 0:me.items)||[]).map(ae=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:pn(ae.createdAt)}),s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900",children:ae.action||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 font-mono",children:ae.actorId||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:ae.reason||""})]},ae.id))})]})})})]}):null]}):s.jsx(we,{title:"Timesheet not found"}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Timesheet is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"TIMESHEET_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[C,ne,r,pe,ye,oe,H,p,I,f,x,V,w,b,S,N.length,se,D,A,P,G,X,ce]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-4",children:s.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"text-xs text-slate-500",children:[s.jsx(xt,{to:Ye,className:"hover:text-slate-700 hover:underline",children:"Timesheet"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-slate-600",children:"Detail"})]}),s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-xs text-slate-700 hover:bg-slate-50",onClick:()=>{window.history.length>1?t(-1):t(Ye)},children:"Back"})]})}),s.jsx(fe,{title:"Timesheet Detail"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:qe})})]})}function _v(...e){return e.filter(Boolean).join(" ")}function Dv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Rv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Iv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Su({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:_v("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Iv(t)),children:t}):null}function ol(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function Eu(e){var n,l;const t=String(((l=(n=e==null?void 0:e.payload)==null?void 0:n.error)==null?void 0:l.message)||(e==null?void 0:e.message)||"").toLowerCase();return(e==null?void 0:e.status)!==403?!1:t.includes("employee")||t.includes("division")}function Mv(){var f,p,N,L,R,T;const{bootstrap:e}=He(),t=((f=e==null?void 0:e.rbac)==null?void 0:f.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_BALANCE_READ"),r=t.includes("LEAVE_REQUEST_CREATE"),a=(e==null?void 0:e.systemConfig)||{},i=Dv(((p=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:p.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=((N=e==null?void 0:e.user)==null?void 0:N.id)||null,d=c.useMemo(()=>{var C;const I=Rv(((C=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:C.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return I>=2e3&&I<=2100?I:new Date().getFullYear()},[a]),[m,j]=c.useState(1),[h]=c.useState(20),g=Ce({path:o?`/api/v1/leave/balances?employeeId=${encodeURIComponent(o)}&year=${encodeURIComponent(d)}`:"/api/v1/leave/balances",page:1,pageSize:200,enabled:!!o&&i&&l}),b=Ce({path:o?`/api/v1/leave/requests?employeeId=${encodeURIComponent(o)}`:"/api/v1/leave/requests",page:m,pageSize:h,enabled:!!o&&i&&n}),y=((L=g.data)==null?void 0:L.items)||[],w=((R=b.data)==null?void 0:R.items)||[],E=((T=b.data)==null?void 0:T.total)||0,x=g.status==="error"&&Eu(g.error)||b.status==="error"&&Eu(b.error),u=c.useMemo(()=>{var I,C;return n?i?x?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Employee not linked"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"You are not linked as an employee in the system. Please contact HR/Admin."})]}):b.status==="loading"&&!b.data||g.status==="loading"&&!g.data?s.jsx(Ae,{}):b.status==="error"?((I=b.error)==null?void 0:I.status)===403?s.jsx(je,{}):s.jsx(Z,{error:b.error}):g.status==="error"?((C=g.error)==null?void 0:C.status)===403?s.jsx(je,{}):s.jsx(Z,{error:g.error}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Year: ",d]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>{g.refresh(),b.refresh()},disabled:g.status==="loading"||b.status==="loading",children:"Refresh"}),r?s.jsx(xt,{to:"/leave/apply",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"Apply Leave"}):null]})]}),s.jsx("div",{className:"p-4",children:y.length===0?s.jsx(we,{title:"No leave balances",description:"No leave balances are configured for this year."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:y.map(S=>{const V=Number(S.openingBalance||0)+Number(S.grantedBalance||0);return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:S.leaveTypeName||S.leaveTypeCode||"Leave"}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:ol(S.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:ol(S.consumedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Entitled"}),s.jsx("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:ol(V)})]})]}),s.jsx("div",{className:"mt-2 text-xs text-slate-500",children:S.leaveTypeIsPaid?"Paid leave":"Unpaid leave"})]},S.id)})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request History"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",E]})]}),s.jsx("div",{className:"p-4",children:w.length===0?s.jsx(we,{title:"No leave requests",description:"You have not submitted any leave requests yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"type",header:"Leave Type",render:S=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:S.leaveTypeName||S.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:S.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:S=>s.jsxs("span",{className:"font-mono text-sm",children:[S.startDate,"  ",S.endDate]})},{key:"units",header:"Units",render:S=>s.jsxs("span",{className:"text-sm text-slate-700",children:[ol(S.units)," (",String(S.unit||"").toUpperCase(),")"]})},{key:"status",header:"Status",render:S=>s.jsx(Su,{status:S.status})},{key:"action",header:"Action",render:S=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(xt,{to:`/leave/requests/${S.id}`,state:{employeeId:o,item:S},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"})})}],rows:w.map(S=>({key:S.id,data:S}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:w.map(S=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:S.leaveTypeName||S.leaveTypeCode||""}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:S.leaveTypeIsPaid?"Paid":"Unpaid"})]}),s.jsx(Su,{status:S.status})]}),s.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"font-mono text-slate-700",children:[S.startDate,"  ",S.endDate]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Units"}),s.jsxs("div",{className:"text-slate-700",children:[ol(S.units)," (",String(S.unit||"").toUpperCase(),")"]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx(xt,{to:`/leave/requests/${S.id}`,state:{employeeId:o,item:S},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View Request"})})]},S.id))})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:m<=1,onClick:()=>j(S=>Math.max(1,S-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",m]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:m*h>=E,onClick:()=>j(S=>S+1),children:"Next"})]})})]})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[y,g,r,n,o,x,b,i,m,h,w,E,d]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"My Leave"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:u})})]})}function Ov(...e){return e.filter(Boolean).join(" ")}function jr(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Bv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function zv(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${l}`}function Uv(e,t){const n=new Date(`${e}T00:00:00.000Z`);return n.setUTCDate(n.getUTCDate()+t),n.toISOString().slice(0,10)}function Fv(e,t){if(!e||!t)return 0;const n=new Date(`${String(e).slice(0,10)}T00:00:00.000Z`),l=new Date(`${String(t).slice(0,10)}T00:00:00.000Z`);return Number.isNaN(n.getTime())||Number.isNaN(l.getTime())||n.getTime()>l.getTime()?0:Math.floor((l.getTime()-n.getTime())/(24*60*60*1e3))+1}function $v(){var Qe,re,me,ae,Le,M,U,$,ee;const e=Yl(),{bootstrap:t}=He(),n=((Qe=t==null?void 0:t.rbac)==null?void 0:Qe.permissions)||[],l=n.includes("LEAVE_REQUEST_CREATE"),r=n.includes("LEAVE_TYPE_READ"),a=n.includes("LEAVE_ATTACHMENT_UPLOAD"),i=n.includes("LEAVE_BALANCE_READ"),o=(t==null?void 0:t.systemConfig)||{},d=jr(((re=o==null?void 0:o.LEAVE_ENABLED)==null?void 0:re.value)??(o==null?void 0:o.LEAVE_ENABLED)),m=jr(((me=o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)==null?void 0:me.value)??(o==null?void 0:o.LEAVE_ALLOW_HALF_DAY)),j=jr(((ae=o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)==null?void 0:ae.value)??(o==null?void 0:o.LEAVE_ALLOW_BACKDATED_REQUESTS)),h=Bv(((Le=o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS)==null?void 0:Le.value)??(o==null?void 0:o.LEAVE_BACKDATE_LIMIT_DAYS),0),g=jr(((M=o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:M.value)??(o==null?void 0:o.LEAVE_ATTACHMENTS_ENABLED)),b=((U=t==null?void 0:t.user)==null?void 0:U.id)||null,y=c.useMemo(()=>zv(),[]),w=c.useMemo(()=>{if(!j)return y;const q=Number.isFinite(h)?h:0;return q>0?Uv(y,-1*q):""},[j,h,y]),E=Ce({path:"/api/v1/leave/types",page:1,pageSize:200,enabled:d&&r}),x=(($=E.data)==null?void 0:$.items)||[],f=((ee=Ce({path:`/api/v1/leave/balances?employeeId=${encodeURIComponent(b||"")}`,page:1,pageSize:200,enabled:d&&i&&!!b}).data)==null?void 0:ee.items)||[],[p,N]=c.useState(""),[L,R]=c.useState(""),[T,I]=c.useState(""),[C,S]=c.useState("FULL_DAY"),[V,G]=c.useState("AM"),[X,ce]=c.useState(""),[se,F]=c.useState(""),[P,B]=c.useState(""),[A,k]=c.useState(""),[D,J]=c.useState(""),[oe,Q]=c.useState(""),[H,ne]=c.useState(null),pe=c.useMemo(()=>x.find(q=>String(q.id)===String(p))||null,[p,x]),ye=!!(m&&(pe==null?void 0:pe.supportsHalfDay)!==!1),Ye=f.length>0,qe=pe==null?void 0:pe.isPaid;qe&&f.some(q=>String(q.leaveTypeId)===String(pe==null?void 0:pe.id));const z=qe&&!Ye,Te=c.useMemo(()=>C==="HALF_DAY"?.5:Fv(L,T),[T,L,C]),be=Se(async q=>le("/api/v1/leave/requests",{method:"POST",body:q})),ze=c.useMemo(()=>{if(be.status!=="error")return null;const q=be.error;if(!q)return null;const he=q==null?void 0:q.status,de=(q==null?void 0:q.requestId)||"";return he>=500?{title:"Unable to submit leave request",message:`Your leave request could not be submitted at this time.
Please try again or contact HR/Admin if the problem persists.`,requestId:de}:null},[be.status,be.error]),Ge=Se(async({id:q,payload:he})=>le(`/api/v1/leave/requests/${q}/attachments`,{method:"POST",body:he})),De=!!(g&&a&&se.trim()&&P.trim()&&A.trim()&&D.trim()),ue=c.useMemo(()=>{var he;if(!l)return s.jsx(je,{});if(!d)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(!b)return s.jsx(we,{title:"Missing user context",description:"No user id found in bootstrap."});if(!r)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave Types not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_TYPE_READ permission to apply for leave."})]});if(E.status==="loading"&&!E.data)return s.jsx(Ae,{});if(E.status==="error")return((he=E.error)==null?void 0:he.status)===403?s.jsx(je,{}):s.jsx(Z,{error:E.error});if(x.length===0)return s.jsx(we,{title:"No leave types",description:"No active leave types are configured."});const q=be.status==="loading"||Ge.status==="loading";return s.jsxs("div",{className:"space-y-4",children:[z?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Leave balance is not configured for you"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"Please contact HR/Admin to set up your leave balance before submitting paid leave requests."})]}):null,H?s.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-emerald-900",children:"Leave request submitted"}),s.jsxs("div",{className:"mt-1 text-sm text-emerald-800",children:["Request ID: ",s.jsx("span",{className:"font-mono",children:H.id})]}),s.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-2",children:[s.jsx(xt,{to:`/leave/requests/${H.id}`,state:{employeeId:b,item:H},className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800",children:"View request"}),s.jsx(xt,{to:"/leave/my",className:"inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Back to My Leave"})]})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Apply Leave"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Submit a leave request for approval."})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>e(-1),disabled:q,children:"Back"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:p,onChange:de=>N(de.target.value),disabled:q,children:[s.jsx("option",{value:"",children:"Select"}),x.map(de=>s.jsxs("option",{value:de.id,children:[de.code,"  ",de.name,de.isPaid?" (Paid)":""]},de.id))]}),pe&&pe.isActive===!1?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:"Selected type is inactive."}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Unit"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:C,onChange:de=>{const Re=de.target.value;S(Re),Re==="HALF_DAY"&&L&&T&&L!==T&&I(L)},disabled:q,children:[s.jsx("option",{value:"FULL_DAY",children:"Full day"}),s.jsx("option",{value:"HALF_DAY",disabled:!ye,children:"Half day"})]}),ye?null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day is disabled by config or leave type settings."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Start Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:L,min:w||void 0,onChange:de=>{const Re=de.target.value;R(Re),(!T||T<Re)&&I(Re),C==="HALF_DAY"&&I(Re)},disabled:q}),j?h>0?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Backdate limit: ",h," day(s)."]}):null:s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Backdated requests are disabled."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"End Date"}),s.jsx("input",{type:"date",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:T,min:L||w||void 0,onChange:de=>{const Re=de.target.value;I(Re),C==="HALF_DAY"&&R(Re)},disabled:q||C==="HALF_DAY"}),C==="HALF_DAY"?s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Half-day requests are single-day only."}):null]}),C==="HALF_DAY"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Half-day Part"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:V,onChange:de=>G(de.target.value),disabled:q,children:[s.jsx("option",{value:"AM",children:"AM"}),s.jsx("option",{value:"PM",children:"PM"})]})]}):s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:X,onChange:de=>ce(de.target.value),disabled:q,placeholder:"Provide a clear reason for this leave request"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Summary"}),s.jsxs("div",{className:"mt-1 text-sm text-slate-700",children:[s.jsxs("span",{className:"font-mono",children:[L||"","  ",T||""]}),s.jsx("span",{className:"mx-2",children:"|"}),"Units: ",s.jsx("span",{className:"font-semibold",children:C==="HALF_DAY"?"0.5":String(Te||0)})]}),pe!=null&&pe.isPaid?s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Paid leave: sufficient balance will be validated by the backend."}):s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:"Unpaid leave: balance checks may not apply."})]})}),g?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Attachment (optional)"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Provide a signed URL as storageKey. File upload is metadata-only."}),a?s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:se,onChange:de=>F(de.target.value),disabled:q,placeholder:"medical_certificate.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:A,onChange:de=>k(de.target.value),disabled:q,placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:P,onChange:de=>B(de.target.value),disabled:q,placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:D,onChange:de=>J(de.target.value),disabled:q,placeholder:"12345"})]})]}):s.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"You do not have LEAVE_ATTACHMENT_UPLOAD permission."})]})}):null,oe?s.jsx("div",{className:"md:col-span-2",children:s.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:oe})}):null,ze?s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:ze.title}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-line",children:ze.message}),ze.requestId?s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Reference ID: ",ze.requestId]}):null]})}):null,be.status==="error"&&!ze?s.jsx("div",{className:"md:col-span-2",children:s.jsx(Z,{error:be.error})}):null,Ge.status==="error"?s.jsx("div",{className:"md:col-span-2",children:s.jsx(Z,{error:Ge.error})}):null,s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx(xt,{to:"/leave/my",className:Ov("inline-flex items-center justify-center rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",q?"pointer-events-none opacity-70":""),children:"Cancel"}),s.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400 min-h-[44px] w-full sm:w-auto",disabled:q||!p||!L||!T||X.trim().length===0||C==="HALF_DAY"&&(!V||L!==T)||z&&qe,onClick:async()=>{Q(""),ne(null);const de=X.trim();if(!de){Q("Reason is required");return}if(C==="HALF_DAY"&&L!==T){Q("Half-day leave must be for a single date");return}try{const Re={employeeId:b,leaveTypeId:p,startDate:L,endDate:T,unit:C,halfDayPart:C==="HALF_DAY"?V:null,reason:de},tt=await be.run(Re),Je=(tt==null?void 0:tt.item)||null;Je&&ne(Je),Je&&De&&await Ge.run({id:Je.id,payload:{fileName:se.trim(),storageKey:P.trim(),mimeType:A.trim(),sizeBytes:Number(D)}}),Je&&e(`/leave/requests/${Je.id}`,{state:{employeeId:b,item:Je}})}catch{}},children:be.status==="loading"?"Submitting":"Submit Request"})]})]})]})]})},[j,m,se,A,D,P,g,h,De,l,i,r,a,oe,be,H,z,b,T,ze,V,Ye,d,p,w,e,X,qe,pe,L,x,E,C,Te,Ge]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Apply Leave"}),s.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:ue})})]})}function e0(...e){return e.filter(Boolean).join(" ")}function ku(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Vv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Hv({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:e0("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Vv(t)),children:t}):null}function vn(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}function Wv(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(1):""}function Yv(){var ue,Qe,re,me,ae,Le,M;const{id:e}=Yx(),t=Yl(),n=rn(),{bootstrap:l}=He(),r=((ue=l==null?void 0:l.rbac)==null?void 0:ue.permissions)||[],a=r.includes("LEAVE_REQUEST_READ"),i=r.includes("LEAVE_REQUEST_CANCEL"),o=r.includes("LEAVE_APPROVE_L1"),d=r.includes("LEAVE_APPROVE_L2"),m=r.includes("LEAVE_ATTACHMENT_READ"),j=r.includes("LEAVE_ATTACHMENT_UPLOAD"),h=(l==null?void 0:l.systemConfig)||{},g=((Qe=l==null?void 0:l.features)==null?void 0:Qe.flags)||{},b=ku(((re=h==null?void 0:h.LEAVE_ENABLED)==null?void 0:re.value)??(h==null?void 0:h.LEAVE_ENABLED)),y=ku(((me=h==null?void 0:h.LEAVE_ATTACHMENTS_ENABLED)==null?void 0:me.value)??(h==null?void 0:h.LEAVE_ATTACHMENTS_ENABLED)),w=!!(g!=null&&g.MONTH_CLOSE_ENABLED),[E,x]=c.useState("details"),u=((ae=n.state)==null?void 0:ae.item)||null,f=((Le=n.state)==null?void 0:Le.employeeId)||null,p=Ce({path:f?`/api/v1/leave/requests?employeeId=${encodeURIComponent(f)}`:"/api/v1/leave/requests",page:1,pageSize:200,enabled:b&&a&&!!e&&!u}),N=c.useMemo(()=>{var $;return u&&String(u.id)===String(e)?u:((($=p.data)==null?void 0:$.items)||[]).find(ee=>String(ee.id)===String(e))||null},[e,p.data,u]),L=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:w&&!!(N!=null&&N.startDate||N!=null&&N.endDate)}),R=c.useMemo(()=>{var $;const U=new Set;for(const ee of(($=L.data)==null?void 0:$.items)||[]){const q=(ee==null?void 0:ee.monthEnd)||(ee==null?void 0:ee.monthStart)||(ee==null?void 0:ee.month);q&&String((ee==null?void 0:ee.status)||"").toUpperCase()==="CLOSED"&&U.add(String(q).slice(0,10))}return U},[L.data]),T=c.useMemo(()=>{if(!(N!=null&&N.startDate)||!(N!=null&&N.endDate))return!1;const U=new Date(`${N.startDate}T00:00:00.000Z`),$=new Date(`${N.endDate}T00:00:00.000Z`);if(Number.isNaN(U.getTime())||Number.isNaN($.getTime()))return!1;const ee=new Date(U.getTime());for(;ee.getTime()<=$.getTime();){const q=new Date(Date.UTC(ee.getUTCFullYear(),ee.getUTCMonth()+1,0)).toISOString().slice(0,10);if(R.has(q))return!0;ee.setUTCMonth(ee.getUTCMonth()+1),ee.setUTCDate(1)}return!1},[R,N==null?void 0:N.endDate,N==null?void 0:N.startDate]),I=Ce({path:e?`/api/v1/leave/requests/${e}/attachments`:"/api/v1/leave/requests/x/attachments",page:1,pageSize:200,enabled:y&&m&&E==="attachments"&&!!e}),C=Se(async({reason:U})=>le(`/api/v1/leave/requests/${e}/cancel`,{method:"POST",body:{reason:U}})),S=Se(async({reason:U})=>le(`/api/v1/leave/requests/${e}/approve`,{method:"POST",body:{reason:U||null}})),V=Se(async({reason:U})=>le(`/api/v1/leave/requests/${e}/reject`,{method:"POST",body:{reason:U}})),G=Se(async({payload:U})=>le(`/api/v1/leave/requests/${e}/attachments`,{method:"POST",body:U})),X=Se(async({attId:U})=>le(`/api/v1/leave/requests/${e}/attachments/${U}/download`)),[ce,se]=c.useState(null),[F,P]=c.useState(""),[B,A]=c.useState(!1),[k,D]=c.useState(""),[J,oe]=c.useState(""),[Q,H]=c.useState(""),[ne,pe]=c.useState(""),ye=String((N==null?void 0:N.status)||"").toUpperCase(),Ye=!!(N&&String(N.employeeId)===String((M=l==null?void 0:l.user)==null?void 0:M.id)),qe=!!((Ye||i)&&ye&&ye!=="CANCELLED"&&ye!=="REJECTED"),z=!!((o||d)&&ye==="SUBMITTED"),Te=p.status==="loading"&&!p.data&&!u,be=c.useMemo(()=>{var $,ee,q;if(!a)return s.jsx(je,{});if(!b)return s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]});if(Te)return s.jsx(Ae,{});if(p.status==="error")return(($=p.error)==null?void 0:$.status)===403?s.jsx(je,{}):s.jsx(Z,{error:p.error});if(!N)return s.jsx(we,{title:"Leave request not found",description:"This request may not be accessible in your scope."});const U=({id:he,label:de})=>{const Re=E===he;return s.jsx("button",{type:"button",className:e0("rounded-full px-3 py-1.5 text-sm font-medium border transition-colors",Re?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),onClick:()=>x(he),children:de})};return s.jsxs("div",{className:"space-y-4",children:[T?s.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-amber-900",children:"Month is CLOSED"}),s.jsx("div",{className:"mt-1 text-sm text-amber-800",children:"This request falls within a closed payroll month. Actions may require override permission and a reason."})]}):null,s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Request"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500 font-mono",children:N.id})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:()=>t(-1),children:"Back"}),s.jsx(xt,{to:Ye?"/leave/my":"/leave/approvals",className:"inline-flex w-full sm:w-auto items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Go to list"}),qe?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",disabled:C.status==="loading",onClick:()=>{P(""),se("cancel")},children:"Cancel"}):null,z?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:S.status==="loading",onClick:()=>{P(""),se("approve")},children:"Approve"}):null,z?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:V.status==="loading",onClick:()=>{P(""),se("reject")},children:"Reject"}):null]})]}),s.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-2",children:[s.jsx(Hv,{status:N.status}),s.jsxs("div",{className:"text-xs text-slate-500",children:[N.leaveTypeCode,"  ",N.leaveTypeName]})]}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(U,{id:"details",label:"Details"}),s.jsx(U,{id:"attachments",label:"Attachments"})]})}),E==="details"?s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Dates"}),s.jsxs("div",{className:"mt-1 font-mono text-sm text-slate-900",children:[N.startDate,"  ",N.endDate]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Unit: ",String(N.unit||"").toUpperCase(),N.unit==="HALF_DAY"?` (${N.halfDayPart})`:""]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Units: ",Wv(N.units)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900 whitespace-pre-wrap",children:N.reason||""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Submitted"}),s.jsx("div",{className:"mt-1 text-sm text-slate-900",children:vn(N.createdAt)}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Updated: ",vn(N.updatedAt)]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Approval Timeline"}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L1"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.approvedL1At?vn(N.approvedL1At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Approved L2"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.approvedL2At?vn(N.approvedL2At):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Rejected"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.rejectedAt?vn(N.rejectedAt):""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:"Cancelled"}),s.jsx("div",{className:"text-xs text-slate-600 font-mono",children:N.cancelledAt?vn(N.cancelledAt):""})]})]})]}),N.rejectionReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-rose-900",children:"Rejection Reason"}),s.jsx("div",{className:"mt-1 text-sm text-rose-800 whitespace-pre-wrap",children:N.rejectionReason})]}):null,N.cancelReason?s.jsxs("div",{className:"md:col-span-2 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Cancel Reason"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:N.cancelReason})]}):null]})}):null,E==="attachments"?s.jsx("div",{className:"p-4 pt-0",children:y?m?I.status==="loading"&&!I.data?s.jsx(Ae,{}):I.status==="error"?s.jsx(Z,{error:I.error}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:I.refresh,disabled:I.status==="loading",children:"Refresh"}),j?s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:()=>{D(""),oe(""),H(""),pe(""),A(!0)},disabled:G.status==="loading",children:"Upload Metadata"}):null]}),(((ee=I.data)==null?void 0:ee.items)||[]).length===0?s.jsx(we,{title:"No attachments",description:"No attachments uploaded for this request."}):s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"file",header:"File",render:he=>s.jsx("div",{className:"text-sm font-medium text-slate-900",children:he.fileName})},{key:"mime",header:"MIME",render:he=>s.jsx("div",{className:"text-sm font-mono text-slate-700",children:he.mimeType||""})},{key:"size",header:"Size",render:he=>s.jsx("div",{className:"text-sm text-slate-700",children:typeof he.sizeBytes=="number"?`${he.sizeBytes} bytes`:""})},{key:"action",header:"Action",render:he=>s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:bg-slate-50",disabled:X.status==="loading",onClick:async()=>{var de;try{const Re=await X.run({attId:he.id}),tt=(de=Re==null?void 0:Re.item)==null?void 0:de.storageKey;tt&&(String(tt).startsWith("http://")||String(tt).startsWith("https://"))&&window.open(tt,"_blank","noopener,noreferrer")}catch{}},children:"Download"})})}],rows:(((q=I.data)==null?void 0:q.items)||[]).map(he=>({key:he.id,data:he}))})}),X.status==="error"?s.jsx(Z,{error:X.error}):null,G.status==="error"?s.jsx(Z,{error:G.error}):null]}):s.jsx(je,{}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Attachments are disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ATTACHMENTS_ENABLED must be enabled in system config."})]})}):null]})]})},[I,y,S.status,z,qe,a,m,j,C.status,X,e,T,Ye,N,b,p,t,V.status,E,Te,G]),ze=ce==="cancel"?"Cancel Leave Request":ce==="reject"?"Reject Leave Request":ce==="approve"?"Approve Leave Request":"",Ge=ce==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required.",De=ce==="cancel"||ce==="reject";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Leave Request"}),s.jsx("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:be})}),ce?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{C.status==="loading"||V.status==="loading"||S.status==="loading"||se(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:ze}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:Ge}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:F,onChange:U=>P(U.target.value),placeholder:ce==="approve"?"Optional":"Required"})]}),C.status==="error"||V.status==="error"||S.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:C.error||V.error||S.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:C.status==="loading"||V.status==="loading"||S.status==="loading",onClick:()=>se(null),children:"Close"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:C.status==="loading"||V.status==="loading"||S.status==="loading"||De&&F.trim().length===0,onClick:async()=>{const U=F.trim();try{ce==="cancel"?await C.run({reason:U}):ce==="reject"?await V.run({reason:U}):ce==="approve"&&await S.run({reason:U||null}),se(null),t(-1)}catch{}},children:"Confirm"})]})]})]}):null,B?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{G.status!=="loading"&&A(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Upload Attachment (Metadata)"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Provide a signed URL as storageKey."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"File Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:k,onChange:U=>D(U.target.value),placeholder:"document.pdf"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"MIME Type"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:Q,onChange:U=>H(U.target.value),placeholder:"application/pdf"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Storage Key (signed URL)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:J,onChange:U=>oe(U.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Size Bytes"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:ne,onChange:U=>pe(U.target.value),placeholder:"12345"})]})]}),G.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:G.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:G.status==="loading",onClick:()=>A(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:G.status==="loading"||k.trim().length===0||J.trim().length===0||Q.trim().length===0||ne.trim().length===0,onClick:async()=>{try{await G.run({payload:{fileName:k.trim(),storageKey:J.trim(),mimeType:Q.trim(),sizeBytes:Number(ne)}}),A(!1),I.refresh()}catch{}},children:G.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function Dr(...e){return e.filter(Boolean).join(" ")}function qv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Qv(e){const t=String(e||"").toUpperCase();return t==="SUBMITTED"?"bg-blue-50 text-blue-800":t==="APPROVED"?"bg-emerald-50 text-emerald-800":t==="REJECTED"?"bg-rose-50 text-rose-800":"bg-slate-100 text-slate-800"}function Cu({status:e}){const t=String(e||"").toUpperCase();return t?s.jsx("span",{className:Dr("inline-flex rounded-full px-2 py-1 text-xs font-semibold",Qv(t)),children:t}):null}function br(e){const t=new Date(`${e}T00:00:00.000Z`);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)).toISOString().slice(0,10)}function Kv(){var se,F,P,B;const{bootstrap:e}=He(),t=((se=e==null?void 0:e.rbac)==null?void 0:se.permissions)||[],n=t.includes("LEAVE_REQUEST_READ"),l=t.includes("LEAVE_APPROVE_L1"),r=t.includes("LEAVE_APPROVE_L2"),a=t.includes("GOV_MONTH_CLOSE_READ"),i=(e==null?void 0:e.systemConfig)||{},o=((F=e==null?void 0:e.features)==null?void 0:F.flags)||{},d=qv(((P=i==null?void 0:i.LEAVE_ENABLED)==null?void 0:P.value)??(i==null?void 0:i.LEAVE_ENABLED)),m=!!(o!=null&&o.MONTH_CLOSE_ENABLED),j=!!(l||r),[h,g]=c.useState(""),[b,y]=c.useState(""),[w,E]=c.useState(""),[x,u]=c.useState(1),[f]=c.useState(20);c.useMemo(()=>{const A=new URL("/api/v1/leave/requests","http://local");return A.searchParams.set("page",String(x)),A.searchParams.set("pageSize",String(f)),A.searchParams.set("status","SUBMITTED"),h.trim()&&A.searchParams.set("divisionId",h.trim()),A.pathname+A.search},[h,x,f]);const p=Ce({path:"/api/v1/leave/requests",page:x,pageSize:f,enabled:d&&n&&j}),N=c.useMemo(()=>{var D;const A=[...((D=p.data)==null?void 0:D.items)||[]],k="SUBMITTED";return k?A.filter(J=>String(J.status||"").toUpperCase()===k):A},[p.data]),L=((B=p.data)==null?void 0:B.total)||0,R=Ce({path:"/api/v1/governance/month-close",page:1,pageSize:200,enabled:m&&a}),T=c.useMemo(()=>{var k;const A=new Set;for(const D of((k=R.data)==null?void 0:k.items)||[]){const J=(D==null?void 0:D.monthEnd)||(D==null?void 0:D.monthStart)||(D==null?void 0:D.month);J&&String((D==null?void 0:D.status)||"").toUpperCase()==="CLOSED"&&A.add(String(J).slice(0,10))}return A},[R.data]),I=Se(async({id:A,reason:k})=>le(`/api/v1/leave/requests/${A}/approve`,{method:"POST",body:{reason:k||null}})),C=Se(async({id:A,reason:k})=>le(`/api/v1/leave/requests/${A}/reject`,{method:"POST",body:{reason:k}})),[S,V]=c.useState(null),[G,X]=c.useState(""),ce=c.useMemo(()=>{var A;return n?d?j?p.status==="loading"&&!p.data?s.jsx(Ae,{}):p.status==="error"?((A=p.error)==null?void 0:A.status)===403?s.jsx(je,{}):s.jsx(Z,{error:p.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Approvals"}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Total: ",L]})]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:p.refresh,disabled:p.status==="loading"||I.status==="loading"||C.status==="loading",children:"Refresh"})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Division Id (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:b,onChange:k=>{const D=k.target.value;y(D),D.trim()===""?(g(""),E(""),u(1)):/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(D.trim())?(g(D.trim()),E(""),u(1)):E("Please enter a valid UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)")},placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Filter the approval queue to a specific division."}),w?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:w}):null]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Month Close"}),s.jsx("div",{className:"mt-1 text-xs text-slate-600",children:m?a?"Closed months are marked if readable.":"You do not have GOV_MONTH_CLOSE_READ permission.":"Month-close feature is disabled."})]})]}),s.jsx("div",{className:"p-4",children:N.length===0?s.jsx(we,{title:"No pending requests",description:"No SUBMITTED leave requests found for your scope."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"employee",header:"Employee",render:k=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:k.employeeCode||String(k.employeeId).slice(0,8)+""}),s.jsxs("div",{className:"mt-0.5 text-xs text-slate-500",children:[k.firstName||""," ",k.lastName||""]})]})},{key:"type",header:"Leave Type",render:k=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:k.leaveTypeName||k.leaveTypeCode||""}),s.jsx("div",{className:"mt-0.5 text-xs text-slate-500",children:k.leaveTypeIsPaid?"Paid":"Unpaid"})]})},{key:"dates",header:"Dates",render:k=>{const D=String(k.startDate||"").slice(0,10),J=String(k.endDate||"").slice(0,10),oe=D?br(D):null,Q=J?br(J):null,H=!!(oe&&T.has(oe))||!!(Q&&T.has(Q));return s.jsxs("div",{children:[s.jsxs("div",{className:"font-mono text-sm text-slate-900",children:[D,"  ",J]}),m&&a?s.jsx("div",{className:Dr("mt-0.5 text-xs",H?"text-amber-700":"text-slate-500"),children:H?"Month CLOSED":"Month open"}):null]})}},{key:"status",header:"Status",render:k=>s.jsx(Cu,{status:k.status})},{key:"action",header:"Action",render:k=>s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(xt,{to:`/leave/requests/${k.id}`,state:{item:k,employeeId:k.employeeId},className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:I.status==="loading"||C.status==="loading",onClick:()=>{X(""),V({mode:"approve",item:k})},children:"Approve"}),s.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:I.status==="loading"||C.status==="loading",onClick:()=>{X(""),V({mode:"reject",item:k})},children:"Reject"})]})}],rows:N.map(k=>({key:k.id,data:k}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:N.map(k=>{const D=String(k.startDate||"").slice(0,10),J=String(k.endDate||"").slice(0,10),oe=D?br(D):null,Q=J?br(J):null,H=!!(oe&&T.has(oe))||!!(Q&&T.has(Q));return s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[k.firstName||""," ",k.lastName||""]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:k.employeeCode||String(k.employeeId).slice(0,8)+""})]}),s.jsx(Cu,{status:k.status})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Leave"}),s.jsx("div",{className:"mt-0.5 text-sm text-slate-900",children:k.leaveTypeName||k.leaveTypeCode}),s.jsxs("div",{className:"mt-2 font-mono text-sm text-slate-700",children:[D,"  ",J]}),m&&a?s.jsx("div",{className:Dr("mt-1 text-xs",H?"text-amber-700":"text-slate-500"),children:H?"Month CLOSED":"Month open"}):null]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[s.jsx(xt,{to:`/leave/requests/${k.id}`,state:{item:k,employeeId:k.employeeId},className:"inline-flex w-full items-center justify-center rounded-md border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"View"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:bg-emerald-300",disabled:I.status==="loading"||C.status==="loading",onClick:()=>{X(""),V({mode:"approve",item:k})},children:"Approve"}),s.jsx("button",{type:"button",className:"inline-flex w-full items-center justify-center rounded-md bg-rose-600 px-3 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:bg-rose-300",disabled:I.status==="loading"||C.status==="loading",onClick:()=>{X(""),V({mode:"reject",item:k})},children:"Reject"})]})]},k.id)})})]})}),s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x<=1,onClick:()=>u(k=>Math.max(1,k-1)),children:"Previous"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",x]}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:x*f>=L,onClick:()=>u(k=>k+1),children:"Next"})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Approvals not accessible"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"You need LEAVE_APPROVE_L1 or LEAVE_APPROVE_L2 permission."})]}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[I.status,j,n,a,T,h,N,d,p,m,x,f,C.status,L]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Leave Approvals"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:ce})}),S?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{I.status==="loading"||C.status==="loading"||V(null)}}),s.jsxs("div",{className:"relative w-full max-w-xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:S.mode==="approve"?"Approve Leave Request":"Reject Leave Request"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:S.mode==="approve"?"Reason is optional; it may be required if a month-close override is needed.":"Reason is required."}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:4,value:G,onChange:A=>X(A.target.value),placeholder:S.mode==="approve"?"Optional":"Required"})]}),I.status==="error"||C.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:I.error||C.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{I.status==="loading"||C.status==="loading"||(V(null),X(""))},disabled:I.status==="loading"||C.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:Dr("w-full sm:w-auto rounded-md px-4 py-3 text-sm font-medium text-white min-h-[44px]",S.mode==="approve"?"bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-300":"bg-rose-600 hover:bg-rose-700 disabled:bg-rose-300"),disabled:I.status==="loading"||C.status==="loading"||S.mode==="reject"&&G.trim().length===0,onClick:async()=>{const A=G.trim();try{S.mode==="approve"?await I.run({id:S.item.id,reason:A||null}):await C.run({id:S.item.id,reason:A}),V(null),X(""),p.refresh()}catch{}},children:S.mode==="approve"?"Approve":"Reject"})]})]})]})}):null]})}function gn(...e){return e.filter(Boolean).join(" ")}function Gv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Xv(){var F,P,B;const{bootstrap:e}=He(),t=((F=e==null?void 0:e.rbac)==null?void 0:F.permissions)||[],n=t.includes("LEAVE_TYPE_READ"),l=t.includes("LEAVE_TYPE_WRITE"),r=(e==null?void 0:e.systemConfig)||{},a=Gv(((P=r==null?void 0:r.LEAVE_ENABLED)==null?void 0:P.value)??(r==null?void 0:r.LEAVE_ENABLED)),[i,o]=c.useState(!1),d=c.useMemo(()=>{const A=new URL("/api/v1/leave/types","http://local");return i&&A.searchParams.set("includeInactive","true"),A.pathname+A.search},[i]),m=Ce({path:d,page:1,pageSize:200,enabled:a&&n}),j=((B=m.data)==null?void 0:B.items)||[],h=Se(async A=>le("/api/v1/leave/types",{method:"POST",body:A})),g=Se(async({id:A,payload:k})=>le(`/api/v1/leave/types/${A}`,{method:"PATCH",body:k})),[b,y]=c.useState(null),[w,E]=c.useState(""),[x,u]=c.useState(""),[f,p]=c.useState(!1),[N,L]=c.useState(!0),[R,T]=c.useState(!1),[I,C]=c.useState(""),[S,V]=c.useState(!0),G=()=>{E(""),u(""),p(!1),L(!0),T(!1),C(""),V(!0),y({mode:"create"})},X=A=>{E(String(A.code||"")),u(String(A.name||"")),p(!!A.isPaid),L(!!A.supportsHalfDay),T(!!A.affectsPayroll),C(String(A.deductionRule||"")),V(!!A.isActive),y({mode:"edit",item:A})},ce=c.useMemo(()=>{var A;return n?a?m.status==="loading"&&!m.data?s.jsx(Ae,{}):m.status==="error"?((A=m.error)==null?void 0:A.status)===403?s.jsx(je,{}):s.jsx(Z,{error:m.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Types"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Configure master leave types used for requests and balances."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:m.refresh,disabled:m.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:G,disabled:h.status==="loading"||g.status==="loading",children:"New Type"}):null]})]}),s.jsxs("div",{className:"p-4 flex items-center justify-between gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:k=>o(k.target.checked),className:"rounded border-slate-300"}),"Include inactive"]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total: ",j.length]})]}),s.jsx("div",{className:"p-4 pt-0",children:j.length===0?s.jsx(we,{title:"No leave types",description:"No leave types found."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 sm:hidden",children:j.map(k=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-mono text-sm text-slate-900 truncate",children:k.code}),s.jsx("div",{className:"mt-1 text-sm font-medium text-slate-900 truncate",children:k.name})]}),l?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>X(k),children:"Edit"}):null]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Flags"}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",k.isPaid?"bg-emerald-50 text-emerald-800":"bg-slate-100 text-slate-800"),children:k.isPaid?"Paid":"Unpaid"}),s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",k.supportsHalfDay?"bg-blue-50 text-blue-800":"bg-slate-100 text-slate-800"),children:k.supportsHalfDay?"Half-day":"Full-day only"}),s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",k.isActive?"bg-slate-900 text-white":"bg-slate-200 text-slate-700"),children:k.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Version"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700",children:k.version})]})]},k.id))}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(Nt,{columns:[{key:"code",title:"Code",render:(k,D)=>s.jsx("span",{className:"font-mono text-sm text-slate-900",children:D.code})},{key:"name",title:"Name",render:(k,D)=>s.jsx("span",{className:"text-sm font-medium text-slate-900",children:D.name})},{key:"flags",title:"Flags",render:(k,D)=>s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",D.isPaid?"bg-emerald-50 text-emerald-800":"bg-slate-100 text-slate-800"),children:D.isPaid?"Paid":"Unpaid"}),s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",D.supportsHalfDay?"bg-blue-50 text-blue-800":"bg-slate-100 text-slate-800"),children:D.supportsHalfDay?"Half-day":"Full-day only"}),s.jsx("span",{className:gn("text-xs px-2 py-1 rounded-full",D.isActive?"bg-slate-900 text-white":"bg-slate-200 text-slate-700"),children:D.isActive?"Active":"Inactive"})]})},{key:"version",title:"Version",render:(k,D)=>s.jsx("span",{className:"text-sm text-slate-700",children:D.version})},{key:"action",title:"Action",render:(k,D)=>s.jsx("div",{className:"flex items-center justify-end",children:l?s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50",onClick:()=>X(D),children:"Edit"}):null})}],data:j})})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[n,l,h.status,i,j,a,m,g.status]),se=h.status==="loading"||g.status==="loading";return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Leave Types"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:ce})}),b?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{se||y(null)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:b.mode==="create"?"Create Leave Type":"Edit Leave Type"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Updates are version-safe; refresh if you hit a version conflict."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Code"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono",value:w,onChange:A=>E(A.target.value),placeholder:"ANNUAL",disabled:se})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:x,onChange:A=>u(A.target.value),placeholder:"Annual Leave",disabled:se})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:A=>p(A.target.checked),className:"rounded border-slate-300",disabled:se}),"Paid leave"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:A=>L(A.target.checked),className:"rounded border-slate-300",disabled:se}),"Supports half-day"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:R,onChange:A=>T(A.target.checked),className:"rounded border-slate-300",disabled:se}),"Affects payroll"]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:A=>V(A.target.checked),className:"rounded border-slate-300",disabled:se}),"Active"]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Deduction Rule (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:I,onChange:A=>C(A.target.value),placeholder:"",disabled:se})]})]}),h.status==="error"||g.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:h.error||g.error})}):null,s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 disabled:bg-slate-50",disabled:se,onClick:()=>y(null),children:"Cancel"}),s.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white disabled:bg-slate-400",disabled:se||w.trim().length===0||x.trim().length===0,onClick:async()=>{try{if(b.mode==="create")await h.run({code:w.trim(),name:x.trim(),isPaid:f,supportsHalfDay:N,affectsPayroll:R,deductionRule:I.trim()||null,isActive:S});else{const A=b.item;await g.run({id:A.id,payload:{code:w.trim(),name:x.trim(),isPaid:f,supportsHalfDay:N,affectsPayroll:R,deductionRule:I.trim()||null,isActive:S,version:A.version}})}y(null),m.refresh()}catch{}},children:se?"Saving":"Confirm"})]})]})]}):null]})}function $s(e){return e?`${String(e.firstName||"").trim()} ${String(e.lastName||"").trim()}`.trim():""}function Jv(e){const t=String(e??"").trim().toLowerCase();return t==="true"||t==="1"||t==="yes"||t==="enabled"||t==="on"}function Zv(e,t){const n=Number.parseInt(String(e??""),10);return Number.isFinite(n)?n:t}function Jt(e){const t=Number(e||0);return Number.isFinite(t)?t%1===0?String(t):t.toFixed(2):""}function eg(){var re,me,ae,Le;const{bootstrap:e}=He(),t=((re=e==null?void 0:e.rbac)==null?void 0:re.permissions)||[],n=t.includes("LEAVE_BALANCE_READ"),l=t.includes("LEAVE_BALANCE_GRANT"),r=t.includes("LEAVE_TYPE_READ"),a=(e==null?void 0:e.systemConfig)||{},i=Jv(((me=a==null?void 0:a.LEAVE_ENABLED)==null?void 0:me.value)??(a==null?void 0:a.LEAVE_ENABLED)),o=c.useMemo(()=>{var U;const M=Zv(((U=a==null?void 0:a.LEAVE_DEFAULT_YEAR)==null?void 0:U.value)??(a==null?void 0:a.LEAVE_DEFAULT_YEAR),0);return M>=2e3&&M<=2100?M:new Date().getFullYear()},[a]),[d,m]=c.useState(""),[j,h]=c.useState(null),[g,b]=c.useState(""),[y,w]=c.useState(!1),[E,x]=c.useState(""),[u,f]=c.useState(String(o)),p=Ce({path:"/api/v1/leave/types?includeInactive=true",page:1,pageSize:200,enabled:i&&r}),N=((ae=p.data)==null?void 0:ae.items)||[],L=c.useMemo(()=>{const M=new Map;for(const U of N)(U==null?void 0:U.id)!=null&&M.set(String(U.id),U);return M},[N]),T=((Le=Ce({path:"/api/v1/employees",page:1,pageSize:200,enabled:i&&l}).data)==null?void 0:Le.items)||[],I=c.useMemo(()=>{const M=new Map;for(const U of T)(U==null?void 0:U.id)!=null&&M.set(String(U.id),U);return M},[T]),C=c.useMemo(()=>{if(!g.trim())return T;const M=g.toLowerCase();return T.filter(U=>{const $=$s(U).toLowerCase(),ee=String(U.email||"").toLowerCase(),q=String(U.employeeCode||"").toLowerCase();return $.includes(M)||ee.includes(M)||q.includes(M)})},[T,g]),S=Ce({path:"/api/v1/leave/balances",page:1,pageSize:200,enabled:i&&n}),V=c.useMemo(()=>{var U;let M=[...((U=S.data)==null?void 0:U.items)||[]];return d.trim()&&(M=M.filter($=>String($.employeeId)===d.trim())),u.trim()&&(M=M.filter($=>String($.year)===u.trim())),M},[S.data,d,u]),G=c.useMemo(()=>V.map(M=>{const U=(M==null?void 0:M.leaveTypeId)!=null?String(M.leaveTypeId):"",$=U?L.get(U):null;return{...M,leaveTypeCode:(M==null?void 0:M.leaveTypeCode)??($==null?void 0:$.code),leaveTypeName:(M==null?void 0:M.leaveTypeName)??($==null?void 0:$.name)}}),[V,L]),X=Se(async M=>le("/api/v1/leave/balances/grant",{method:"POST",body:M})),[ce,se]=c.useState(!1),[F,P]=c.useState(""),[B,A]=c.useState(""),[k,D]=c.useState(String(o)),[J,oe]=c.useState(""),[Q,H]=c.useState(""),[ne,pe]=c.useState(""),[ye,Ye]=c.useState(null),[qe,z]=c.useState(""),[Te,be]=c.useState(!1),[ze,Ge]=c.useState(""),De=c.useMemo(()=>{if(!qe.trim())return T;const M=qe.toLowerCase();return T.filter(U=>{const $=$s(U).toLowerCase(),ee=String(U.email||"").toLowerCase(),q=String(U.employeeCode||"").toLowerCase();return $.includes(M)||ee.includes(M)||q.includes(M)})},[T,qe]),ue=()=>{const M=d.trim()||"";P(M);const U=T.find($=>String($.id)===M)||null;Ye(U),z(""),be(!1),Ge(""),A(""),D(u.trim()||String(o)),oe(""),H(""),pe(""),se(!0)},Qe=c.useMemo(()=>{var M,U;return n?i?p.status==="loading"&&!p.data||S.status==="loading"&&!S.data?s.jsx(Ae,{}):p.status==="error"?((M=p.error)==null?void 0:M.status)===403?s.jsx(je,{}):s.jsx(Z,{error:p.error}):S.status==="error"?((U=S.error)==null?void 0:U.status)===403?s.jsx(je,{}):s.jsx(Z,{error:S.error}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Leave Balances"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Search and grant balances. Grant requires a reason."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:S.refresh,disabled:S.status==="loading",children:"Refresh"}),l?s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-3 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:bg-slate-400",onClick:ue,disabled:X.status==="loading",children:"Grant Balance"}):null]})]}),s.jsxs("div",{className:"p-4 grid grid-cols-1 gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee (optional)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("button",{type:"button",className:"w-full rounded-md border border-slate-300 text-sm bg-white px-3 py-2 text-left flex items-center justify-between hover:border-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]",onClick:()=>w(!y),children:[j?s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-slate-900 truncate",children:$s(j)||""}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:String(j.email||"").trim()||""})]})}):s.jsx("div",{className:"text-slate-400",children:"Select employee..."}),s.jsx("svg",{className:"w-4 h-4 text-slate-400 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7m0 0l7-7"})})]}),y&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-slate-200",children:s.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search employees...",value:g,onChange:$=>b($.target.value),autoFocus:!0})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:C.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No employees found"}):C.map($=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 focus:bg-blue-50 border-b border-slate-100 last:border-b-0",onClick:()=>{h($),m($.id),x(""),w(!1),b("")},children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium text-slate-900",children:$s($)||""}),s.jsx("div",{className:"text-xs text-slate-500",children:String($.email||"").trim()||""}),String($.employeeCode||"").trim()?s.jsxs("div",{className:"text-xs text-slate-400",children:["Code: ",String($.employeeCode||"").trim()]}):null]})},$.id))})]}),y&&s.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>w(!1)})]}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"If blank, returns balances across all employees you can access."}),E?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:E}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:u,onChange:$=>f($.target.value),placeholder:"2026"})]})]}),s.jsx("div",{className:"p-4 pt-0",children:V.length===0?s.jsx(we,{title:"No balances",description:"No balances found for the selected filters."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Nt,{columns:[{key:"employeeId",title:"Employee",render:($,ee)=>{const q=I.get(String(ee.employeeId)),he=$s(q),de=String((q==null?void 0:q.email)||"").trim();return he?s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900 truncate",children:he}),de?s.jsx("div",{className:"text-xs text-slate-500 truncate",children:de}):null]}):s.jsxs("span",{className:"font-mono text-xs text-slate-700",children:[String(ee.employeeId).slice(0,8),""]})}},{key:"type",title:"Leave Type",render:($,ee)=>s.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[ee.leaveTypeCode||"","  ",ee.leaveTypeName||""]})},{key:"year",title:"Year",render:($,ee)=>s.jsx("span",{className:"text-sm text-slate-700",children:ee.year})},{key:"opening",title:"Opening",render:($,ee)=>s.jsx("span",{className:"text-sm text-slate-700",children:Jt(ee.openingBalance)})},{key:"granted",title:"Granted",render:($,ee)=>s.jsx("span",{className:"text-sm text-slate-700",children:Jt(ee.grantedBalance)})},{key:"consumed",title:"Consumed",render:($,ee)=>s.jsx("span",{className:"text-sm text-slate-700",children:Jt(ee.consumedBalance)})},{key:"available",title:"Available",render:($,ee)=>s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Jt(ee.availableBalance)})}],data:G.map($=>({employeeId:$.employeeId,type:`${$.leaveTypeCode||""}  ${$.leaveTypeName||""}`,year:$.year,openingBalance:$.openingBalance,grantedBalance:$.grantedBalance,consumedBalance:$.consumedBalance,availableBalance:$.availableBalance,leaveTypeCode:$.leaveTypeCode,leaveTypeName:$.leaveTypeName}))})}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:hidden",children:G.map($=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-900 truncate",children:[$.leaveTypeCode||"","  ",$.leaveTypeName||""]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Employee: ",String($.employeeId).slice(0,8),""]})]}),s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Jt($.availableBalance)})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Year"}),s.jsx("div",{className:"text-slate-700",children:$.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Available"}),s.jsx("div",{className:"font-semibold text-slate-900",children:Jt($.availableBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Opening"}),s.jsx("div",{className:"text-slate-700",children:Jt($.openingBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Granted"}),s.jsx("div",{className:"text-slate-700",children:Jt($.grantedBalance)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Consumed"}),s.jsx("div",{className:"text-slate-700",children:Jt($.consumedBalance)})]})]})]},$.id))})]})})]})}):s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsx("div",{className:"text-sm font-medium text-slate-900",children:"Leave is disabled"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"LEAVE_ENABLED must be enabled in system config."})]}):s.jsx(je,{})},[l,n,d,X.status,V,i,S,p,u]);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(fe,{title:"Leave Balances"}),s.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-8",children:s.jsx("div",{className:"mt-4",children:Qe})}),ce?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:()=>{X.status!=="loading"&&se(!1)}}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl bg-white border border-slate-200 shadow-sm p-5 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"text-base font-semibold text-slate-900",children:"Grant Leave Balance"}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Grant adds to granted balance. Opening balance can also be set."}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Employee"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsxs("button",{type:"button",className:"w-full rounded-md border border-slate-300 text-sm bg-white px-3 py-2 text-left flex items-center justify-between hover:border-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]",onClick:()=>{be(M=>!M),Ge("")},children:[ye?s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-slate-900 truncate",children:$s(ye)||""}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:String(ye.email||"").trim()||""})]}):s.jsx("div",{className:"text-slate-400",children:"Select employee..."}),s.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7m0 0l7-7"})})]}),Te?s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-slate-200",children:s.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search employees...",value:qe,onChange:M=>z(M.target.value),autoFocus:!0})}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:De.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No employees found"}):De.map(M=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 focus:bg-blue-50 border-b border-slate-100 last:border-b-0",onClick:()=>{Ye(M),P(String(M.id)),Ge(""),be(!1),z("")},children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-medium text-slate-900",children:$s(M)||""}),s.jsx("div",{className:"text-xs text-slate-500",children:String(M.email||"").trim()||""}),String(M.employeeCode||"").trim()?s.jsxs("div",{className:"text-xs text-slate-400",children:["Code: ",String(M.employeeCode||"").trim()]}):null]})},M.id))})]}):null,Te?s.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>be(!1)}):null]}),ze?s.jsx("div",{className:"mt-1 text-xs text-rose-600",children:ze}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Year"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:k,onChange:M=>D(M.target.value),placeholder:"2026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm min-h-[44px]",value:B,onChange:M=>A(M.target.value),children:[s.jsx("option",{value:"",children:"Select"}),N.map(M=>s.jsxs("option",{value:M.id,children:[M.code,"  ",M.name,M.isActive?"":" (Inactive)"]},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Opening Balance (optional)"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:J,onChange:M=>oe(M.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Grant Amount"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm font-mono min-h-[44px]",value:Q,onChange:M=>H(M.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Reason"}),s.jsx("textarea",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",rows:3,value:ne,onChange:M=>pe(M.target.value),placeholder:"Provide a clear reason for granting this balance"})]})]}),X.status==="error"?s.jsx("div",{className:"mt-3",children:s.jsx(Z,{error:X.error})}):null,s.jsxs("div",{className:"mt-6 flex flex-col gap-2 sm:flex-row sm:justify-end",children:[s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md border border-slate-300 bg-white px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 min-h-[44px]",onClick:()=>{X.status!=="loading"&&se(!1)},disabled:X.status==="loading",children:"Cancel"}),s.jsx("button",{type:"button",className:"w-full sm:w-auto rounded-md bg-slate-900 px-4 py-3 text-sm font-medium text-white disabled:bg-slate-400 min-h-[44px]",disabled:X.status==="loading"||!ye||B.trim().length===0||k.trim().length===0||Q.trim().length===0||ne.trim().length===0,onClick:async()=>{try{if(!ye){Ge("Please select an employee");return}await X.run({employeeId:String(ye.id),leaveTypeId:B.trim(),year:Number(k),openingBalance:J.trim().length>0?Number(J):void 0,grantAmount:Number(Q),reason:ne.trim()}),se(!1),S.refresh()}catch{}},children:X.status==="loading"?"Saving":"Confirm"})]})]})]}):null]})}function tg(){var L,R;const{bootstrap:e}=He(),t=((L=e==null?void 0:e.rbac)==null?void 0:L.permissions)||[],n=((R=e==null?void 0:e.rbac)==null?void 0:R.roles)||[],l=t.includes("AUTH_ADMIN_MANAGE"),r=n.includes("SUPER_ADMIN")||n.includes("COREOPS_ADMIN"),[a,i]=c.useState(""),[o,d]=c.useState(""),[m,j]=c.useState(""),[h,g]=c.useState("ADMIN"),[b,y]=c.useState("idle"),[w,E]=c.useState(""),[x,u]=c.useState(null),f=c.useMemo(()=>r?["ADMIN","SUPER_ADMIN"]:["ADMIN"],[r]),p=c.useMemo(()=>a.trim().length>1&&o.trim().length>0&&m.trim().length>0&&f.includes(h)&&b!=="loading",[a,o,m,h,f,b]);if(!l)return s.jsx(je,{});const N=async()=>{var T,I,C;E(""),u(null),y("loading");try{const S={name:a.trim(),email:o.trim(),password:m,role:h},V=await le("/api/v1/auth/admins",{method:"POST",body:S});u(V),i(""),d(""),j(""),g("ADMIN"),y("ready")}catch(S){const V=((C=(I=(T=S.payload)==null?void 0:T.error)==null?void 0:I.issues)==null?void 0:C.map(G=>G.message).join(", "))||S.message||"Create admin failed";E(V),y("error")}};return s.jsxs("div",{children:[s.jsx(fe,{title:"Admin Management",subtitle:"Create another admin user"}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Name"}),s.jsx("input",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:a,onChange:T=>i(T.target.value),disabled:b==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:o,onChange:T=>d(T.target.value),disabled:b==="loading"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Password"}),s.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:m,onChange:T=>j(T.target.value),disabled:b==="loading"}),s.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Min 8 chars, must include upper, lower, number."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Role"}),s.jsx("select",{className:"mt-1 w-full rounded-md border-slate-300 text-sm",value:h,onChange:T=>g(T.target.value),disabled:b==="loading",children:f.map(T=>s.jsx("option",{value:T,children:T},T))})]})]}),w?s.jsx("div",{className:"mt-4 rounded-md border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800",children:w}):null,x?s.jsxs("div",{className:"mt-4 rounded-md border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:["Created admin: ",x.email," (",x.role,")"]}):null,s.jsx("div",{className:"mt-4 flex items-center justify-end",children:s.jsx("button",{type:"button",className:`rounded-md px-4 py-2 text-sm font-medium text-white ${p?"bg-slate-900 hover:bg-slate-800":"bg-slate-400"}`,disabled:!p,onClick:N,children:b==="loading"?"Creating":"Create Admin"})})]}),!x&&b==="ready"?s.jsx("div",{className:"mt-4",children:s.jsx(we,{title:"No recent actions",description:"Create an admin to see confirmation here."})}):null]})}function sg(e){return e==="/admin/divisions"?s.jsx(Gp,{}):e==="/admin/projects"?s.jsx(Jp,{}):e==="/admin/rbac"?s.jsx(Zp,{}):e==="/admin/month-close"?s.jsx(tv,{}):e==="/admin/audit"?s.jsx(rv,{}):e==="/admin/system-config"?s.jsx(av,{}):e==="/admin/employees"?s.jsx(ov,{}):e==="/admin/attendance"?s.jsx(pv,{}):e==="/admin/admin-management"?s.jsx(tg,{}):e==="/timesheet/my"?s.jsx(yv,{}):e==="/timesheet/approvals"?s.jsx(Ev,{}):e==="/leave/my"?s.jsx(Mv,{}):e==="/leave/approvals"?s.jsx(Kv,{}):e==="/leave/types"?s.jsx(Xv,{}):e==="/leave/balances"?s.jsx(eg,{}):null}function ng(){var r,a;const{status:e,bootstrap:t}=He();if(e==="idle")return window.location.hash==="#/bootstrap-signup"?s.jsx(qp,{}):window.location.hash==="#/jwt-paste"?s.jsx(Wp,{}):s.jsx(Yp,{});if(e==="forbidden")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsx(je,{})})]})})]});if(e==="loading")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsx(Ae,{message:"Initializing CoreOps"})})]})})]});if(e==="error")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.1),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(135deg,rgba(59,130,246,0.05)_0%,transparent_50%)]"}),s.jsx("div",{className:"max-w-md w-full relative",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-white/20 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Session Error"}),s.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"There was a problem loading your session"}),s.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload"]})]})})]})})]});const n=((r=t==null?void 0:t.navigation)==null?void 0:r.items)||[],l=((a=n[0])==null?void 0:a.path)||"/admin/divisions";return s.jsx(Cp,{children:s.jsxs(us,{element:s.jsx(Qp,{}),children:[s.jsx(us,{index:!0,element:s.jsx(Sp,{to:l,replace:!0})}),n.map(i=>{const o=sg(i.path);return o?s.jsx(us,{path:i.path,element:o},i.id):null}),s.jsx(us,{path:"/timesheet/:id",element:s.jsx(Pv,{})}),s.jsx(us,{path:"/leave/apply",element:s.jsx($v,{})}),s.jsx(us,{path:"/leave/requests/:id",element:s.jsx(Yv,{})}),s.jsx(us,{path:"*",element:s.jsx(Kp,{})})]})})}function lg(){return s.jsx(Ip,{children:s.jsx(Hp,{children:s.jsx(ng,{})})})}oi.createRoot(document.getElementById("root")).render(s.jsx(ia.StrictMode,{children:s.jsx(lg,{})}));
